"use strict";(self.webpackChunkglueple_user=self.webpackChunkglueple_user||[]).push([[8437,2786],{96816:(e,a,l)=>{l.d(a,{A:()=>n});l(65043);var t=l(70579);const n=()=>(0,t.jsx)("div",{children:(0,t.jsxs)("svg",{version:"1.1",id:"Layer_1",x:0,y:0,viewBox:"0 0 512 512",xmlSpace:"preserve",className:"icon icon-xlg me-2",style:{height:"23px",width:"23px",cursor:"pointer"},children:[(0,t.jsx)("circle",{id:"Oval-3",opacity:".1",fill:"#2B76D2",cx:256,cy:256,r:256}),(0,t.jsx)("path",{fill:"#2B76D2",d:"M277.3 362.7c-5.3 0-10.6-2-14.7-5.9l-85.3-81.5c-4.1-3.9-6.5-9.3-6.6-15-.1-5.7 2-11.1 5.9-15.2l85.3-89.1c8.1-8.5 21.7-8.8 30.2-.7 8.5 8.1 8.8 21.6.7 30.2l-70.6 73.7 69.9 66.8c8.5 8.1 8.8 21.6.7 30.1-4.2 4.4-9.8 6.6-15.5 6.6z"})]})})},38437:(e,a,l)=>{l.r(a),l.d(a,{default:()=>w});var t=l(65043),n=l(29829),s=l(92250),d=l(90607),o=l(82149),i=l(95535),r=l(70579);const c=e=>{const{toggleAddArrearsModal:a,allArrearsList:l,isLoading:n,setCurrentPage:c,currentPage:u}=e,{t:m}=(0,d.K)(),[v,p]=(0,t.useState)([]),y=[{key:"sn",label:"S.N"},{key:"emp_code",label:"Employee Code "},{key:"name",label:"Employee Name"},{key:"pay_days",label:"Pay Days"},{key:"bonus",label:"Bonus"},{key:"total_employee",label:"Employee Contribution"},{key:"total_employer",label:" Employer Contribution"},{key:"gross",label:"Gross"},{key:"ctc",label:"CTC"}],g=(0,t.useMemo)((()=>({sn:(e,a)=>(0,r.jsx)("span",{children:a+1}),pay_days:(e,a)=>(0,r.jsx)("span",{children:null===e||void 0===e?void 0:e.present}),bonus:(e,a)=>{var l;return(0,r.jsx)("span",{children:null===e||void 0===e||null===(l=e.bonus)||void 0===l?void 0:l.real})},total_employee:(e,a)=>{var l;return(0,r.jsx)("span",{children:null===e||void 0===e||null===(l=e.total_employee)||void 0===l?void 0:l.real})},total_employer:(e,a)=>{var l;return(0,r.jsx)("span",{children:null===e||void 0===e||null===(l=e.total_employer)||void 0===l?void 0:l.real})},gross:(e,a)=>{var l;return(0,r.jsx)("span",{children:null===e||void 0===e||null===(l=e.gross)||void 0===l?void 0:l.real})},ctc:(e,a)=>{var l;return(0,r.jsx)("span",{children:null===e||void 0===e||null===(l=e.ctc)||void 0===l?void 0:l.real})},action:(e,l)=>(0,r.jsxs)("div",{className:"btn-group actionDrp",children:[(0,r.jsx)("button",{type:"button",className:"btn dropdown-toggle-split","data-bs-toggle":"dropdown","aria-expanded":"false",children:(0,r.jsx)("i",{className:"bi bi-three-dots-vertical"})}),(0,r.jsxs)("ul",{className:"dropdown-menu",children:[(0,r.jsx)("li",{className:"dropdown-item",onClick:()=>a(e),children:"Update Arrear"}),(0,r.jsx)("li",{className:"dropdown-item",onClick:()=>h(l),children:"Employee Detail"})]})]}),sub_table:e=>(0,r.jsx)(o.A,{data:null===e||void 0===e?void 0:e.employees,fields:y,currentPage:u,setCurrentPage:e=>c(e,"addArrears"),totalPages:null===l||void 0===l?void 0:l.totalPages,tableName:"Employees",isHeader:!0,scopedSlots:g})})),[]),h=e=>{v.includes(e)?p(v.filter((a=>a!==e))):p([...v,e])};return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[(0,r.jsx)("h3",{className:"underlineHead ",style:{fontSize:"18px"},children:" Arrears"}),(0,r.jsx)(s.Sv,{classNames:"btn btn-primary gradientBg",handleClick:()=>a(),text:"Add Arrear"})]}),(0,r.jsx)(i.A,{data:null===l||void 0===l?void 0:l.data,fields:[{key:"sn",label:"S.N",width:"20%"},{key:"name",label:"Arrear Name",width:"30%"},{key:"arrear_for",label:"Arrear For",width:"20%"},{key:"year_mon",label:"Pay Month",width:"20%"},{key:"action",label:"Action",width:"20%"},{key:"sub_table",label:"",width:"20%"}],isLoading:n,scopedSlots:g,pagination:!0,currentPage:u,totalPages:null===l||void 0===l?void 0:l.totalPages,setCurrentPage:e=>c(e,"addArrears"),isHeader:!1,tableStyle:{padding:"0px",boxShadow:"none"},isShowSubMenu:v})]})};var u=l(45531),m=l(56462),v=l(26181),p=l(80728);const y=e=>{const{isOpen:a,toggleOpenClose:l,allEmployeeList:o,handleAddArrears:i,selectedArrear:c}=e,{addArrearsPending:y}=e,{t:g}=(0,d.K)(),[h,x]=(0,t.useState)({}),[j,b]=(0,t.useState)(""),[f,N]=(0,t.useState)({arrearName:"",arrearFor:"",payMonth:"",description:"",employees:[]}),D=(0,t.useMemo)((()=>({sn:(e,a)=>(0,r.jsx)("span",{children:a+1}),pay_days:(e,a)=>(0,r.jsx)("span",{children:(0,r.jsx)(u.pd,{type:"number",value:(null===e||void 0===e?void 0:e.pay_days)||"",name:"pay_days",onChange:a=>((e,a)=>{const{value:l}=null===e||void 0===e?void 0:e.target;N((e=>({...e,employees:e.employees.map((e=>(null===e||void 0===e?void 0:e.value)===(null===a||void 0===a?void 0:a.value)?{...e,pay_days:l}:e))})))})(a,e)})})})),[f]),_=(e,a)=>{var l;const t=a||(null===(l=e.target)||void 0===l?void 0:l.name),{value:n,type:s,checked:d}=null!==e&&void 0!==e&&e.target?e.target:{value:e};N((e=>({...e,[t]:"checkbox"===s?d:n}))),"employees"==t&&b(n),x((e=>({...e,[t]:void 0})))};return(0,t.useEffect)((()=>{c&&N({arrearName:null===c||void 0===c?void 0:c.name,arrearFor:null===c||void 0===c?void 0:c.arrear_for,payMonth:null===c||void 0===c?void 0:c.year_mon,description:null===c||void 0===c?void 0:c.description,employees:null===c||void 0===c?void 0:c.employees})}),[c]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"offcanvas offcanvas-end creatNewTicketOff "+(a?"show":""),tabIndex:-1,style:{visibility:a?"visible":"hidden",width:"800px"},children:[(0,r.jsxs)("div",{className:"offcanvas-header",children:[(0,r.jsxs)("h5",{className:"offcanvas-title  fs-5 fw-bold text-primary",children:[" ",c?"Update":"Add"," Arrears "]}),(0,r.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close",onClick:()=>l()})]}),(0,r.jsx)("div",{className:"offcanvas-body",children:(0,r.jsxs)("div",{className:"formPanel",children:[(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("div",{className:"col-md-4",children:(0,r.jsx)("div",{className:"form-group mb-3",children:(0,r.jsx)(u.JU,{text:g("labels.arrearName"),required:!0})})}),(0,r.jsx)("div",{className:"col-md-8",children:(0,r.jsxs)("div",{className:"form-group mb-3",children:[(0,r.jsx)(u.pd,{type:"text",placeholder:g("placeholders.arrearName"),value:(null===f||void 0===f?void 0:f.arrearName)||"",name:"arrearName",onChange:e=>_(e)}),(null===h||void 0===h?void 0:h.arrearName)&&(0,r.jsx)(s.eo,{text:h.arrearName})]})})]}),(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("div",{className:"col-md-4",children:(0,r.jsx)("div",{className:"form-group mb-3",children:(0,r.jsx)(u.JU,{text:g("labels.arrearFor"),required:!0})})}),(0,r.jsx)("div",{className:"col-md-8",children:(0,r.jsxs)("div",{className:"form-group mb-3",children:[(0,r.jsx)(u.pd,{type:"month",value:(null===f||void 0===f?void 0:f.arrearFor)||"",name:"arrearFor",onChange:e=>_(e)}),(null===h||void 0===h?void 0:h.arrearFor)&&(0,r.jsx)(s.eo,{text:h.arrearFor})]})})]}),(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("div",{className:"col-md-4",children:(0,r.jsx)("div",{className:"form-group mb-3",children:(0,r.jsx)(u.JU,{text:g("labels.payMonth"),required:!0})})}),(0,r.jsx)("div",{className:"col-md-8",children:(0,r.jsxs)("div",{className:"form-group mb-3",children:[(0,r.jsx)(u.pd,{type:"month",value:(null===f||void 0===f?void 0:f.payMonth)||"",name:"payMonth",onChange:e=>_(e)}),(null===h||void 0===h?void 0:h.payMonth)&&(0,r.jsx)(s.eo,{text:h.payMonth})]})})]}),(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("div",{className:"col-md-4",children:(0,r.jsx)("div",{className:"form-group mb-3",children:(0,r.jsx)(u.JU,{text:g("labels.description"),required:!0})})}),(0,r.jsx)("div",{className:"col-md-8",children:(0,r.jsxs)("div",{className:"form-group mb-3",children:[(0,r.jsx)(u.TM,{name:"description",value:null===f||void 0===f?void 0:f.description,placeholder:g("placeholders.description"),onChange:e=>_(e)}),(null===h||void 0===h?void 0:h.description)&&(0,r.jsx)(s.eo,{text:h.description})]})})]}),(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("div",{className:"col-md-4",children:(0,r.jsx)("div",{className:"form-group mb-3",children:(0,r.jsx)(u.JU,{text:g("labels.employee"),required:!0})})}),(0,r.jsx)("div",{className:"col-md-8",children:(0,r.jsxs)("div",{className:"form-group mb-3",children:[(0,r.jsx)(m.A,{data:o,placeholder:g("placeholders.employee"),value:(null===f||void 0===f?void 0:f.employees)||"",handleChange:e=>_(e,"employees"),name:"employees",isMulti:!0}),(null===h||void 0===h?void 0:h.employees)&&(0,r.jsx)(s.eo,{text:h.employees})]})})]}),(0,r.jsx)(n.Ak,{data:null===f||void 0===f?void 0:f.employees,fields:[{key:"sn",label:"S.N"},{key:"pay_days",label:"Pay Days"},{key:"emp_code",label:"Emp Code"},{key:"name",label:"Emp Name"},{key:"department_name",label:"Department  "},{key:"designation_name",label:"Designation"}],pagination:!0,isHeader:!1,tableStyle:{padding:"0px",boxShadow:"none"},scopedSlots:D})]})}),(0,r.jsx)("div",{className:"offcanvas-footer",children:(0,r.jsx)("div",{className:"d-flex align-items-center justify-content-end gap-3",children:(0,r.jsx)(s.Sv,{text:c?"Update":"Add",classNames:"btn btn-org-gradient",handleClick:()=>(async()=>{const e=await(0,v.i6)(p.b1,f);if(e.isValid){const e={name:null===f||void 0===f?void 0:f.arrearName,description:null===f||void 0===f?void 0:f.description,year_mon:null===f||void 0===f?void 0:f.payMonth,arrear_for:null===f||void 0===f?void 0:f.arrearFor,employees:null===f||void 0===f?void 0:f.employees};i(e)}else x(e.errors)})(),isLoading:y})})})]}),(0,r.jsx)("div",{}),a&&(0,r.jsx)("div",{className:"modal-backdrop fade show"})]})};var g=l(99708),h=l(22166),x=l(49985);const j=e=>{const{getLoansPending:a}=(0,h.d4)((e=>null===e||void 0===e?void 0:e.payroll)),{toggleAddLoanModal:l,loansData:d,currentPage:o,setCurrentPage:i}=e,[c,u]=(0,t.useState)(),m=(0,t.useMemo)((()=>({sn:(e,a)=>(0,r.jsx)("span",{children:a+1}),start_date:(e,a)=>(0,r.jsx)("span",{children:(0,x.N_)(null===e||void 0===e?void 0:e.start_date)}),end_date:(e,a)=>(0,r.jsx)("span",{children:(0,x.N_)(null===e||void 0===e?void 0:e.end_date)}),action:e=>(0,r.jsxs)("div",{className:"btn-group actionDrp",children:[(0,r.jsx)("button",{type:"button",className:"btn dropdown-toggle-split","data-bs-toggle":"dropdown","aria-expanded":"false",children:(0,r.jsx)("i",{className:"bi bi-three-dots-vertical"})}),(0,r.jsx)("ul",{className:"dropdown-menu",children:(0,r.jsx)("li",{children:(0,r.jsx)("span",{className:"dropdown-item",onClick:()=>l(e,"view"),children:"View Details"})})})]})})),[d]);return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[(0,r.jsx)("h3",{className:"underlineHead ",style:{fontSize:"18px"},children:" Loans"}),(0,r.jsx)(s.Sv,{classNames:"btn btn-primary gradientBg",handleClick:()=>l(),text:"Add Loan"})]}),(0,r.jsx)(n.Ak,{data:null===d||void 0===d?void 0:d.data,fields:[{key:"sn",label:"S.N"},{key:"name",label:"Employee Name"},{key:"emp_code",label:"Employee ID"},{key:"department_name",label:"Department"},{key:"loan_type_name",label:"Loan Type"},{key:"amount",label:"Loan Amount"},{key:"tenure_duration",label:"EMI Duration"},{key:"start_date",label:"Effective Date"},{key:"end_date",label:"End Date"},{key:"action",label:"Action"}],isLoading:a,pagination:!0,currentPage:o,setCurrentPage:e=>i(e,"loan"),totalPages:null===d||void 0===d?void 0:d.totalPages,isHeader:!1,tableStyle:{padding:"0px",boxShadow:"none"},scopedSlots:m})]})};var b=l(86178),f=l.n(b);const N=e=>{const{t:a}=(0,d.K)(),{toggleOpenClose:l,isOpen:n,allEmployeeList:o,filteredDropdownData:i,handleAddUpdateLoan:c,openLoanTypeModal:y,selectedLoanData:h}=e,[j,b]=(0,t.useState)({employee:null,loanType:null,amount:"",emiDuration:null,effectiveDate:"",endDate:""}),[N,D]=(0,t.useState)(""),[_,A]=(0,t.useState)([]),P=(e,a)=>{var l;const t=a||(null===(l=e.target)||void 0===l?void 0:l.name),{value:n,type:s,checked:d}=null!==e&&void 0!==e&&e.target?e.target:{value:e};"effectiveDate"===t&&(A([]),k(n)),"emiDuration"===t&&(b((e=>({...e,effectiveDate:"",endDate:""}))),A([])),"amount"===t&&(b((e=>({...e,emiDuration:null,effectiveDate:"",endDate:""}))),A([])),b((e=>({...e,[t]:"checkbox"===s?d:n}))),D((e=>({...e,[t]:void 0})))},k=e=>{const a=f()(e).add(Number(j.emiDuration.category_value)-1,"M").format("YYYY-MM-DD");b((e=>({...e,endDate:a}))),S(e)},S=e=>{var a;let l=parseInt(null===j||void 0===j||null===(a=j.emiDuration)||void 0===a?void 0:a.category_value),t=parseFloat((null===j||void 0===j?void 0:j.amount)/l).toFixed(2),n=[],s=f()(e).format("YYYY-MM-DD");for(let d=1;d<=l;d++){n.push({installment:d,payment_date:s,emi_amount:t});n.length;s=f()(s).add(1,"month").format("YYYY-MM-DD")}A(n)};return(0,t.useEffect)((()=>{h&&(A(null===h||void 0===h?void 0:h.installments),b({employee:{label:null===h||void 0===h?void 0:h.name,value:null===h||void 0===h?void 0:h.value},loanType:{label:null===h||void 0===h?void 0:h.loan_type_name,value:null===h||void 0===h?void 0:h.loan_type_value},amount:null===h||void 0===h?void 0:h.amount,emiDuration:{value:null===h||void 0===h?void 0:h.tenure_duration,label:""},effectiveDate:null===h||void 0===h?void 0:h.start_date,endDate:null===h||void 0===h?void 0:h.end_date}))}),[h]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"offcanvas offcanvas-end creatNewTicketOff "+(n?"show":""),tabIndex:-1,style:{visibility:n?"visible":"hidden",width:"800px"},children:[(0,r.jsxs)("div",{className:"offcanvas-header",children:[(0,r.jsx)("h5",{className:"offcanvas-title  fs-5 fw-bold text-primary",children:" Add Loans "}),(0,r.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close",onClick:()=>l()})]}),(0,r.jsx)("div",{className:"offcanvas-body",children:(0,r.jsx)("div",{className:"formPanel",children:(0,r.jsxs)("div",{className:"row",children:[(0,r.jsxs)("div",{className:"col-md-6",children:[(0,r.jsxs)("div",{className:"form-group mb-2",children:[(0,r.jsx)(u.JU,{text:a("labels.employee"),required:!0}),(0,r.jsx)(m.A,{data:o,placeholder:a("placeholders.employee"),value:(null===j||void 0===j?void 0:j.employee)||"",handleChange:e=>P(e,"employee"),name:"employee"})]}),(null===N||void 0===N?void 0:N.employee)&&(0,r.jsx)(s.eo,{text:N.employee})]}),(0,r.jsx)("div",{className:"col-md-6",children:(0,r.jsxs)("div",{className:"form-group mb-2",children:[(0,r.jsx)(u.JU,{text:a("labels.loanType"),required:!0}),(0,r.jsx)(m.A,{data:null===i||void 0===i?void 0:i.loan_type,placeholder:a("placeholders.loanType"),value:(null===j||void 0===j?void 0:j.loanType)||"",handleChange:e=>P(e,"loanType"),name:"loanType"})]})}),(0,r.jsx)("div",{className:"col-md-6",children:(0,r.jsxs)("div",{className:"form-group mb-2",children:[(0,r.jsx)(u.JU,{text:a("labels.amount"),required:!0}),(0,r.jsx)(u.pd,{type:"number",placeholder:a("placeholders.amount"),value:null===j||void 0===j?void 0:j.amount,name:"amount",onChange:e=>P(e)}),(null===N||void 0===N?void 0:N.amount)&&(0,r.jsx)(s.eo,{text:N.amount})]})}),(0,r.jsxs)("div",{className:"col-md-6",children:[(0,r.jsxs)("div",{className:"form-group mb-2",children:[(0,r.jsx)(u.JU,{text:a("labels.emiDuration"),required:!0}),(0,r.jsx)(m.A,{data:null===i||void 0===i?void 0:i.emi_duration,placeholder:a("placeholders.emiDuration"),value:(null===j||void 0===j?void 0:j.emiDuration)||"",handleChange:e=>P(e,"emiDuration"),name:"emiDuration"})]}),(null===N||void 0===N?void 0:N.emiDuration)&&(0,r.jsx)(s.eo,{text:N.emiDuration})]}),(0,r.jsxs)("div",{className:"col-md-6",children:[(0,r.jsxs)("div",{className:"form-group mb-2",children:[(0,r.jsx)(u.JU,{text:a("labels.effectiveDate"),required:!0}),(0,r.jsx)(u.pd,{type:"date",value:(0,x.N_)(null===j||void 0===j?void 0:j.effectiveDate,"YYYY-MM-DD"),isDisabled:null===j||void 0===j||!j.emiDuration,name:"effectiveDate",onChange:e=>P(e)})]}),(null===N||void 0===N?void 0:N.effectiveDate)&&(0,r.jsx)(s.eo,{text:N.effectiveDate})]}),(0,r.jsx)("div",{className:"col-md-6",children:(0,r.jsxs)("div",{className:"form-group mb-2",children:[(0,r.jsx)(u.JU,{text:a("labels.endDate"),required:!0}),(0,r.jsx)(u.pd,{type:"date",value:(0,x.N_)(null===j||void 0===j?void 0:j.endDate,"YYYY-MM-DD"),isDisabled:!0,name:"endDate",onChange:e=>P(e)}),(null===N||void 0===N?void 0:N.endDate)&&(0,r.jsx)(s.eo,{text:N.endDate})]})}),(0,r.jsx)("hr",{}),_&&(null===_||void 0===_?void 0:_.length)>0&&(0,r.jsxs)("div",{className:"col-12",children:[(0,r.jsxs)("div",{className:"card text-center p-1 m-o",style:{backgroundColor:"#3c82e9",color:"white"},children:[" ",(0,r.jsx)("h6",{children:"Pending Installment "})]}),(0,r.jsx)(g.A,{installmentData:_,setInstallmentData:A,loanData:j})]})]})})}),(0,r.jsx)("div",{className:"offcanvas-footer",children:(0,r.jsx)("div",{className:"d-flex align-items-center justify-content-end gap-3",children:(0,r.jsx)(s.Sv,{text:"Add",classNames:"btn btn-org-gradient",handleClick:()=>(async()=>{const e=await(0,v.i6)(p.aw,j);if(e.isValid){const{employee:e,loanType:a,amount:l,emiDuration:t,effectiveDate:n,endDate:s}=j;D({});const d={employee_id:null===e||void 0===e?void 0:e.value,loan_type:null===a||void 0===a?void 0:a.value,amount:l||0,tenure_duration:null===t||void 0===t?void 0:t.value,start_date:n,end_date:s,installments:_};c(d)}else D(e.errors)})()})})})]}),n&&(0,r.jsx)("div",{className:"modal-backdrop fade show"})]})};l(53536);const D=e=>{const{payRunHistoryData:a,currentPage:l,setCurrentPage:s}=e,d=(0,t.useMemo)((()=>({sn:(e,a)=>(0,r.jsx)("span",{children:a+1}),action:e=>(0,r.jsxs)("div",{className:"btn-group actionDrp",children:[(0,r.jsx)("button",{type:"button",className:"btn dropdown-toggle-split","data-bs-toggle":"dropdown","aria-expanded":"false",children:(0,r.jsx)("i",{className:"bi bi-three-dots-vertical"})}),(0,r.jsx)("ul",{className:"dropdown-menu",children:(0,r.jsx)("li",{children:(0,r.jsx)("span",{className:"dropdown-item",children:"View Details"})})})]})})),[a]);return(0,r.jsxs)(t.Fragment,{children:[(0,r.jsx)("div",{className:"d-flex justify-content-between align-items-center mb-2",children:(0,r.jsx)("h3",{className:"underlineHead ",style:{fontSize:"18px"},children:" Payroll History"})}),(0,r.jsx)(n.Ak,{data:a,fields:[{key:"pay_month",label:"Payment Month"},{key:"pay_date",label:"Payment Date"},{key:"employee_no",label:"Pay Employees"},{key:"payroll_cost",label:"Payroll Cost"},{key:"payroll_netPay",label:"Payroll Net Pay"},{key:"action",label:"Action"}],pagination:!0,currentPage:l,setCurrentPage:e=>s(e,"loan"),totalPages:null===a||void 0===a?void 0:a.totalPages,isHeader:!1,tableStyle:{padding:"0px",boxShadow:"none"},scopedSlots:d})]})};var _=l(35475);const A=e=>{const{payRollNotificationData:a}=e;return(0,r.jsxs)(t.Fragment,{children:[(0,r.jsx)("div",{className:" d-flex justify-content-between align-items-center mb-2",children:(0,r.jsx)("h3",{className:"underlineHead ",style:{fontSize:"18px"},children:" Run Attendance"})}),(0,r.jsx)("div",{className:"card",children:(0,r.jsxs)("div",{className:" payroll-card-body-css  p-3 border-left border-dark",children:[(0,r.jsxs)("div",{className:"payruns-cards d-flex align-items-center justify-content-around",children:[(0,r.jsxs)("div",{className:"col",children:[(0,r.jsxs)("small",{className:"text-secondary",children:["PAYMENT MONTH"," ",(0,r.jsx)("span",{className:`badge ${(0,x.XN)(null===a||void 0===a?void 0:a.status)}`,children:null===a||void 0===a?void 0:a.status})]}),(0,r.jsx)("h5",{className:"py-3",children:(0,x.N_)(null===a||void 0===a?void 0:a.pay_month,"MMM YYYY")})]}),(0,r.jsxs)("div",{className:"col",children:[(0,r.jsxs)(_.N_,{to:`/pay-runs/create-pay-run/${null===a||void 0===a?void 0:a.pay_month}`,children:[" ",(0,r.jsx)("button",{className:"btn btn-primary",children:"Create Pay Run"})]}),"\xa0\xa0",(0,r.jsx)(_.N_,{to:`/regular-payroll/${null===a||void 0===a?void 0:a.pay_month}`,children:(0,r.jsx)("button",{className:"btn btn-primary",children:"View Details"})})]})]}),(0,r.jsx)("i",{class:"bi bi-info-circle"})," ",(0,r.jsx)("span",{children:(0,r.jsxs)("small",{className:"text-secondary",children:["Please approve this payroll before"," ",(0,x.N_)(null===a||void 0===a?void 0:a.pay_date)]})})]})})]})};var P=l(94174);const k=e=>{const a=(0,h.wA)(),{currentPage:l,setCurrentPage:s,getAllEmployeeDetailsByPayDays:d,monthYear:o}=e,{getEmployeeDetailsByPayDaysPending:i}=(0,h.d4)((e=>e.payroll)),c=(0,t.useMemo)((()=>({sn:(e,a)=>(0,r.jsx)("span",{children:a+1}),account_status:e=>(0,r.jsx)("span",{className:`badge ${(0,x.XN)(e.account_status)}`,children:e.account_status}),action:e=>(0,r.jsxs)("div",{className:"btn-group actionDrp",children:[(0,r.jsx)("button",{type:"button",className:"btn dropdown-toggle-split","data-bs-toggle":"dropdown","aria-expanded":"false",children:(0,r.jsx)("i",{className:"bi bi-three-dots-vertical"})}),(0,r.jsx)("ul",{className:"dropdown-menu",children:(0,r.jsx)("li",{children:(0,r.jsx)(_.N_,{className:"dropdown-item",to:`employee-attendance-tracking/${null===e||void 0===e?void 0:e._id}/${o}`,onClick:()=>{return l=e,void a(P.Vg.selectedEmployeeData(l));var l},children:"View Details"})})})]})})),[d,l]);return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(n.Ak,{data:null===d||void 0===d?void 0:d.data,fields:[{key:"sn",label:"S.N"},{key:"emp_id",label:"Emp Id"},{key:"name",label:"Full Name"},{key:"present_days",label:"Present Days"},{key:"absent_days",label:"Absent Days"},{key:"pay_days",label:"Pay Days"},{key:"account_status",label:"Account Status"},{key:"action",label:"Action"}],isLoading:i,pagination:!0,currentPage:l,setCurrentPage:e=>s(e,"attendanceTracking"),totalPages:null===d||void 0===d?void 0:d.totalPages,isHeader:!1,tableStyle:{padding:"0px",boxShadow:"none"},scopedSlots:c})})},S=e=>{const{allEmployeeList:a,allDepartments:l,allDesignations:n,handleDepartmentByDesignation:o,getEmployeeDetailsByPayDays:i,setMonthYear:c}=e,{t:v}=(0,d.K)(),[p,y]=(0,t.useState)({department:null,designation:null,employees:"",month_year:f()().format("YYYY-MM")}),g=(e,a)=>{var l;const t=a||(null===(l=e.target)||void 0===l?void 0:l.name),{value:n,type:s,checked:d}=null!==e&&void 0!==e&&e.target?e.target:{value:e};"department"===t&&(n&&(null===n||void 0===n?void 0:n.value)&&o(null===n||void 0===n?void 0:n.value),y((e=>({...e,designation:null})))),"month_year"===t&&c(n),y((e=>({...e,[t]:"checkbox"===s?d:n})))};return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"formPanel cardBox",children:[(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("div",{className:"col-md-4",children:(0,r.jsxs)("div",{className:"form-group mb-2",children:[(0,r.jsx)(u.JU,{text:v("labels.department")}),(0,r.jsx)(m.A,{data:l,placeholder:v("placeholders.selectDepartment"),value:(null===p||void 0===p?void 0:p.department)||"",handleChange:e=>g(e,"department"),name:"department"})]})}),(0,r.jsx)("div",{className:"col-md-4",children:(0,r.jsxs)("div",{className:"form-group mb-2",children:[(0,r.jsx)(u.JU,{text:v("labels.designation")}),(0,r.jsx)(m.A,{data:n,placeholder:v("placeholders.selectDesignation"),value:(null===p||void 0===p?void 0:p.designation)||"",handleChange:e=>g(e,"designation"),name:"designation",isDisabled:null===p||void 0===p||!p.department})]})}),(0,r.jsx)("div",{className:"col-md-4",children:(0,r.jsxs)("div",{className:"form-group mb-2",children:[(0,r.jsx)(u.JU,{text:v("labels.employees")}),(0,r.jsx)(m.A,{data:a,placeholder:v("placeholders.employees"),value:(null===p||void 0===p?void 0:p.employees)||"",handleChange:e=>g(e,"employees"),name:"employees",isMulti:!0,selectAllText:v("labels.selectAll")})]})}),(0,r.jsx)("div",{className:"col-md-4",children:(0,r.jsxs)("div",{className:"form-group mb-2",children:[(0,r.jsx)(u.JU,{text:v("labels.monthYear")}),(0,r.jsx)(u.pd,{type:"month",value:(null===p||void 0===p?void 0:p.month_year)||"",onChange:e=>g(e),name:"month_year"})]})})]}),(0,r.jsx)("div",{className:"d-flex justify-content-end",children:(0,r.jsx)(s.Sv,{classNames:"btn btn-primary gradientBg",handleClick:()=>(()=>{var e,a,l,t,n;const s={};null!==p&&void 0!==p&&null!==(e=p.department)&&void 0!==e&&e.value&&(s.department_id=null===p||void 0===p||null===(a=p.department)||void 0===a?void 0:a.value),null!==p&&void 0!==p&&null!==(l=p.designation)&&void 0!==l&&l.value&&(s.designation_id=null===p||void 0===p||null===(t=p.designation)||void 0===t?void 0:t.value),(null===p||void 0===p||null===(n=p.employees)||void 0===n?void 0:n.length)>0&&(s.employee_ids=(0,x.mu)(null===p||void 0===p?void 0:p.employees)),s.month_year=null===p||void 0===p?void 0:p.month_year,i(s)})(),text:v("btns.filter"),icon:(0,r.jsx)(u.In,{className:"fa fa-search"})})})]})})},E=e=>{const{allEmployeeList:a,allDepartments:l,allDesignations:n,handleDepartmentByDesignation:s,getAllEmployeeDetailsByPayDays:d,getEmployeeDetailsByPayDays:o,currentPage:i,setCurrentPage:c}=e,[u,m]=(0,t.useState)(f()().format("YYYY-MM"));return(0,r.jsxs)(t.Fragment,{children:[(0,r.jsx)("div",{className:"d-flex justify-content-between align-items-center mb-2",children:(0,r.jsx)("h3",{className:"underlineHead ",style:{fontSize:"18px"},children:" Attendance Tracking"})}),(0,r.jsx)(S,{allEmployeeList:a,allDepartments:l,allDesignations:n,handleDepartmentByDesignation:s,getEmployeeDetailsByPayDays:o,setMonthYear:m}),(0,r.jsx)(k,{setCurrentPage:c,currentPage:i,allEmployeeData:a,getAllEmployeeDetailsByPayDays:d,monthYear:u})]})};l(72786);var C=l(52027);l(44978);const w=()=>{const e=(0,h.wA)(),{t:a}=(0,d.K)(),{getDepartmentListRes:l,getDepartmentListError:s,getDepartmentListPending:o}=(0,h.d4)((e=>e.department)),{getDesignationsByDepartmentRes:i,getDesignationsByDepartmentPending:u,getDesignationsByDepartmentError:m}=(0,h.d4)((e=>e.designation)),{getAllEmployeePending:v,getAllEmployeeRes:p,getAllEmployeeError:g}=(0,h.d4)((e=>e.employee)),{getFilteredDropdownDataError:x,getFilteredDropdownDataRes:b,getFilteredDropdownDataPending:f}=(0,h.d4)((e=>e.dropdownMaster)),{getEmployeeDetailsByPayDaysPending:_,getEmployeeDetailsByPayDaysRes:k,getEmployeeDetailsByPayDaysError:S,addArrearsPending:w,addArrearsRes:R,addArrearsError:L,getArrearsPending:M,getArrearsRes:F,getArrearsError:Y,addLoansPending:H,addLoansRes:V,addLoansError:T,getLoansPending:B,getLoansRes:q,getLoansError:O,getPayRunHistoryPending:U,getPayRunHistoryRes:J,getPayRunHistoryError:$,payRollNotificationPending:I,payRollNotificationRes:X,payRollNotificationError:z}=(0,h.d4)((e=>e.payroll)),[K,G]=(0,t.useState)(!1),[Q,W]=(0,t.useState)(!1),[Z,ee]=(0,t.useState)(""),[ae,le]=(0,t.useState)(""),[te,ne]=(0,t.useState)(""),[se,de]=(0,t.useState)(""),[oe,ie]=(0,t.useState)([]),[re,ce]=(0,t.useState)([]),[ue,me]=(0,t.useState)(""),[ve,pe]=(0,t.useState)(""),[ye,ge]=(0,t.useState)({}),[he,xe]=(0,t.useState)(""),[je,be]=(0,t.useState)(""),[fe,Ne]=(0,t.useState)(""),[De,_e]=(0,t.useState)(""),[Ae,Pe]=(0,t.useState)({attendanceTrackCurrentPage:1,arrearCurrentPage:1,loanCurrentPage:1,payRunHistoryCurrentPage:1}),ke=[{name:"Run Attendance",onClickFun:e=>Se(e),id:"runAttendance"},{name:"Attendance Tracking",onClickFun:e=>Se(e),id:"attendanceTracking"},{name:"Add Arrears",onClickFun:e=>Se(e),id:"addArrears"},{name:"Loans",onClickFun:e=>Se(e),id:"loans"},{name:"Payroll History",onClickFun:e=>Se(e),id:"payRollHistory"}];(0,t.useEffect)((()=>{Se("runAttendance")}),[]);const Se=e=>{"runAttendance"===e&&Te(),"attendanceTracking"===e?Le():"addArrears"===e?Me():"loans"===e?He():"payRollHistory"===e&&Ve()},Ee=e=>{e&&pe(e),G(!K)},Ce=(e,a)=>{a&&(ee(a),be(e)),W(!Q)};(0,t.useEffect)((()=>{Re(),we(),Ye()}),[]);const we=()=>{e(P.mM.getAllEmployeeRequest())};(0,t.useEffect)((()=>{if(!v){if(g)return;p&&200===(null===p||void 0===p?void 0:p.code)&&le(null===p||void 0===p?void 0:p.data)}}),[p,g,v]);const Re=()=>{var a;null!==l&&void 0!==l&&null!==(a=l.data)&&void 0!==a&&a.length?ne(null===l||void 0===l?void 0:l.data):e(P.vd.getDepartmentListRequest())};(0,t.useEffect)((()=>{if(!o){if(s)return;if(l&&200===(null===l||void 0===l?void 0:l.code)){const e=null===l||void 0===l?void 0:l.data;ne(e)}}}),[l,s,o]);(0,t.useEffect)((()=>{if(!u){if(m)return;if(i&&200===(null===i||void 0===i?void 0:i.code)){const e=(null===i||void 0===i?void 0:i.data)||[];de(e)}}}),[i,m,u]);const Le=(a,l)=>{const t={page:a||(null===Ae||void 0===Ae?void 0:Ae.attendanceTrackCurrentPage),limit:C.X$.limit};e(P.Vg.getEmployeeDetailsByPayDaysRequest(t))};(0,t.useEffect)((()=>{if(!_){if(S)return;if(k&&200===(null===k||void 0===k?void 0:k.code)){const e=null===k||void 0===k?void 0:k.data;ie(e)}}}),[k,S,_]);(0,t.useEffect)((()=>{if(!w){if(L)return void e(null===P.Vg||void 0===P.Vg?void 0:P.Vg.handleClearPayrollStore("HANDLE_CLEAR_ADD_ARREARS_STORE"));R&&200===(null===R||void 0===R?void 0:R.code)&&(Ee(),Me(),e(null===P.Vg||void 0===P.Vg?void 0:P.Vg.handleClearPayrollStore("HANDLE_CLEAR_ADD_ARREARS_STORE")))}}),[R,L,w]);const Me=a=>{const l={page:a||(null===Ae||void 0===Ae?void 0:Ae.arrearCurrentPage),limit:null===C.X$||void 0===C.X$?void 0:C.X$.limit};e(P.Vg.getArrearsRequest(l))};(0,t.useEffect)((()=>{if(!M){if(Y)return void e(null===P.Vg||void 0===P.Vg?void 0:P.Vg.handleClearPayrollStore("HANDLE_CLEAR_ADD_ARREARS_STORE"));F&&200===(null===F||void 0===F?void 0:F.code)&&me(null===F||void 0===F?void 0:F.data)}}),[F,Y,M]);const Fe=(e,a)=>{"attendanceTracking"===a?(Pe((a=>({...a,attendanceTrackCurrentPage:e}))),Le(e)):"addArrears"===a?(Pe((a=>({...a,arrearCurrentPage:e}))),Me(e)):"loans"===a?(Pe((a=>({...a,loanCurrentPage:e}))),He(e)):"payRollHistory"===a&&(Pe((a=>({...a,payRunHistoryCurrentPage:e}))),Ve(e))},Ye=()=>{let a={category:""};["loan_type","emi_duration"].forEach((l=>{a.category=l,e(P.dk.getFilteredDropdownDataRequest(a))}))};(0,t.useEffect)((()=>{if(!f){if(x)return;if(b&&200===(null===b||void 0===b?void 0:b.code)){const e=null===b||void 0===b?void 0:b.data;let a=null===e||void 0===e?void 0:e.category;ge((l=>({...l,[a]:(null===e||void 0===e?void 0:e.data)||[]})))}}}),[b,x,f]);(0,t.useEffect)((()=>{if(!H){if(T)return void e(null===P.Vg||void 0===P.Vg?void 0:P.Vg.handleClearPayrollStore("HANDLE_CLEAR_ADD_LOANS_STORE"));V&&200===(null===V||void 0===V?void 0:V.code)&&e(null===P.Vg||void 0===P.Vg?void 0:P.Vg.handleClearPayrollStore("HANDLE_CLEAR_ADD_LOANS_STORE"))}}),[V,T,H]);const He=a=>{const l={page:a||(null===Ae||void 0===Ae?void 0:Ae.loanCurrentPage),limit:null===C.X$||void 0===C.X$?void 0:C.X$.limit};e(P.Vg.getLoansRequest(l))};(0,t.useEffect)((()=>{if(!B){if(O)return;q&&200===(null===q||void 0===q?void 0:q.code)&&xe(null===q||void 0===q?void 0:q.data)}}),[q,O,B]);const Ve=a=>{const l={page:a||(null===Ae||void 0===Ae?void 0:Ae.payRunHistoryCurrentPage),limit:null===C.X$||void 0===C.X$?void 0:C.X$.limit};e(P.Vg.getPayRunHistoryRequest(l))};(0,t.useEffect)((()=>{if(!U){if($)return;J&&200===(null===J||void 0===J?void 0:J.code)&&Ne(null===J||void 0===J?void 0:J.data)}}),[J,$,U]);const Te=()=>{e(P.Vg.payRollNotificationRequest())};return(0,t.useEffect)((()=>{if(!I){if(z)return;X&&200===(null===X||void 0===X?void 0:X.code)&&_e(null===X||void 0===X?void 0:X.data)}}),[X,z,I]),(0,r.jsxs)(t.Fragment,{children:[(0,r.jsx)("div",{className:"tab-pane fade show active",id:"receivedFeedback",children:(0,r.jsxs)("div",{className:"cardBox myRequest mb-3",children:[(0,r.jsxs)("div",{className:"cardHead d-flex justify-content-between",children:[(0,r.jsxs)("div",{className:"d-flex align-items-center",children:[(0,r.jsx)("img",{src:"images/kpi-guidline.svg",alt:"",width:40,className:"me-2 fw-bold"}),(0,r.jsx)("div",{className:"",children:(0,r.jsx)("h3",{children:" Pay Runs"})})]}),(0,r.jsx)("div",{className:"searchB me-0 ",children:(0,r.jsx)("input",{type:"text",className:"form-control w-100 fs-7",placeholder:"Search"})})]}),(0,r.jsx)(n.QE,{tabs:ke,type:"rayRuns"}),(0,r.jsxs)("div",{className:"tab-content mykpiMain",children:[(0,r.jsx)("div",{className:"tab-pane fade active show",id:"runAttendance",children:(0,r.jsx)(A,{payRollNotificationData:De})}),(0,r.jsx)("div",{className:"tab-pane fade",id:"attendanceTracking",children:(0,r.jsx)(E,{allEmployeeList:ae,allDepartments:te,allDesignations:se,handleDepartmentByDesignation:a=>{const l={department_id:a};e(P.EU.getDesignationsByDepartmentRequest(l))},getAllEmployeeDetailsByPayDays:oe,getEmployeeDetailsByPayDays:Le,attendanceStatusData:re,currentPage:null===Ae||void 0===Ae?void 0:Ae.attendanceTrackCurrentPage,setCurrentPage:Fe})}),(0,r.jsx)("div",{className:"tab-pane fade",id:"addArrears",children:(0,r.jsx)(c,{toggleAddArrearsModal:Ee,allArrearsList:ue,isLoading:M,currentPage:null===Ae||void 0===Ae?void 0:Ae.arrearCurrentPage,setCurrentPage:Fe})}),(0,r.jsx)("div",{className:"tab-pane fade",id:"loans",children:(0,r.jsx)(j,{toggleAddLoanModal:Ce,loansData:he,currentPage:null===Ae||void 0===Ae?void 0:Ae.arrearCurrentPage,setCurrentPage:Fe})}),(0,r.jsx)("div",{className:"tab-pane fade",id:"payRollHistory",children:(0,r.jsx)(D,{payRunHistoryData:fe,currentPage:null===Ae||void 0===Ae?void 0:Ae.payRunHistoryCurrentPage,setCurrentPage:Fe})})]})]})}),K&&(0,r.jsx)(y,{isOpen:K,toggleOpenClose:Ee,allEmployeeList:ae,handleAddArrears:a=>{e(P.Vg.addArrearsRequest(a))},selectedArrear:ve}),Q&&(0,r.jsx)(N,{isOpen:Q,toggleOpenClose:Ce,allEmployeeList:ae,filteredDropdownData:ye,handleAddUpdateLoan:a=>{e(null===P.Vg||void 0===P.Vg?void 0:P.Vg.addLoansRequest(a))},openLoanTypeModal:Z,selectedLoanData:je})]})}},72786:(e,a,l)=>{l.r(a),l.d(a,{default:()=>y});var t=l(65043),n=l(29829),s=l(90607),d=l(45531),o=l(92250),i=(l(56462),l(96816)),r=l(73216),c=l(35475),u=l(22166),m=(l(52027),l(94174)),v=l(49985),p=l(70579);const y=()=>{const e=(0,u.wA)(),{payMonth:a}=(0,r.g)(),{getDepartmentListRes:l,getDepartmentListError:y,getDepartmentListPending:g}=(0,u.d4)((e=>e.department)),{getAllEmployeePending:h,getAllEmployeeRes:x,getAllEmployeeError:j}=(0,u.d4)((e=>e.employee)),{getEmployeeSalaryPending:b,getEmployeeSalaryRes:f,getEmployeeSalaryError:N,addPayRunPending:D,addPayRunRes:_,addPayRunError:A}=(0,u.d4)((e=>e.payroll)),{t:P}=(0,s.K)(),[k,S]=(0,t.useState)(1),[E,C]=(0,t.useState)(""),[w,R]=(0,t.useState)(!0),[L,M]=(0,t.useState)(""),[F,Y]=(0,t.useState)(""),[H,V]=(0,t.useState)(""),[T,B]=(0,t.useState)({employeeName:"",department:""}),q=(0,t.useMemo)((()=>({sn:(e,a)=>(0,p.jsx)("span",{children:a+1}),hold_salary:e=>(0,p.jsx)("span",{children:(0,p.jsx)(d.P_,{id:"is_hold",checked:null===e||void 0===e?void 0:e.is_hold,handleChange:a=>U(a,null,e),name:"is_hold"},"is_hold")}),create_salary:e=>(0,p.jsx)("span",{children:(0,p.jsx)(d.P_,{id:"create_salary",checked:null===e||void 0===e?void 0:e.create_salary,handleChange:a=>U(a,null,e),name:"create_salary"},"create_salary")})})),[w,E]);(0,t.useEffect)((()=>{$()}),[]);const O=[{name:"employeeName",label:"Select Employee / ID",type:"select",value:T.employeeName,data:H,placeholder:"Enter Employee Name",isMulti:!0},{name:"department",label:"Department",type:"select",data:F,value:T.department,placeholder:"Select Department"}],U=(e,a,l)=>{var t;const n=a||(null===(t=e.target)||void 0===t?void 0:t.name),{value:s,type:d,checked:o}=null!==e&&void 0!==e&&e.target?e.target:{value:e};C((e=>{const a=null===e||void 0===e?void 0:e.map((e=>(null===e||void 0===e?void 0:e._id)===(null===l||void 0===l?void 0:l._id)?{...e,[n]:"checkbox"===d?o:s}:e)),t=a.every((e=>e.create_salary));return R(t),a}))};(0,t.useEffect)((()=>{J()}),[k]);const J=()=>{e(null===m.Vg||void 0===m.Vg?void 0:m.Vg.getEmployeeSalaryRequest())};(0,t.useEffect)((()=>{if(!b){if(N)return;f&&200===(null===f||void 0===f?void 0:f.code)&&(C(null===f||void 0===f?void 0:f.data),M(null===f||void 0===f?void 0:f.data))}}),[f,N,b]);const $=()=>{var a;null!==l&&void 0!==l&&null!==(a=l.data)&&void 0!==a&&a.length?Y(null===l||void 0===l?void 0:l.data):e(m.vd.getDepartmentListRequest())};(0,t.useEffect)((()=>{if(!g){if(y)return;if(l&&200===(null===l||void 0===l?void 0:l.code)){const e=null===l||void 0===l?void 0:l.data;Y(e)}}}),[l,y,g]);(0,t.useEffect)((()=>{if(!h){if(j)return;x&&200===(null===x||void 0===x?void 0:x.code)&&V(null===x||void 0===x?void 0:x.data)}}),[x,j,h]);const I=()=>(null===E||void 0===E?void 0:E.filter((e=>!0===(null===e||void 0===e?void 0:e.create_salary))).map((e=>({id:null===e||void 0===e?void 0:e.employee_id,is_hold:null===e||void 0===e?void 0:e.is_hold}))))||[];return(0,t.useEffect)((()=>{if(!D){if(A)return void e(null===m.Vg||void 0===m.Vg?void 0:m.Vg.handleClearPayrollStore("HANDLE_CLEAR_ADD_PAY_RUN_STORE"));_&&200===(null===_||void 0===_?void 0:_.code)&&e(null===m.Vg||void 0===m.Vg?void 0:m.Vg.handleClearPayrollStore("HANDLE_CLEAR_ADD_PAY_RUN_STORE"))}}),[_,A,D]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:"cardBox  creatNewTicketOff ",children:[(0,p.jsxs)("div",{className:"header d-flex",children:[(0,p.jsx)(c.N_,{to:"/pay-runs",children:(0,p.jsx)(i.A,{})}),(0,p.jsx)("h5",{className:"title  fs-5 fw-bold text-primary",children:"Create Pay Run "})]}),(0,p.jsxs)("div",{className:"body ",children:[(0,p.jsx)(d.Cs,{filters:O,handleFilterFormData:(e,a)=>{var l;const t=a||(null===(l=e.target)||void 0===l?void 0:l.name),{value:n,type:s,checked:d}=null!==e&&void 0!==e&&e.target?e.target:{value:e};B((e=>({...e,[t]:"checkbox"===s?d:n})))},onSubmitHandleFilter:()=>{var e,a,l,t;const n={};null!==T&&void 0!==T&&null!==(e=T.department)&&void 0!==e&&e.value&&(n.department_id=null===T||void 0===T||null===(a=T.department)||void 0===a?void 0:a.value),null!==T&&void 0!==T&&null!==(l=T.designation)&&void 0!==l&&l.value&&(n.designation_id=null===T||void 0===T||null===(t=T.designation)||void 0===t?void 0:t.value),null!==T&&void 0!==T&&T.employeeName&&(n.employee_name=null===T||void 0===T?void 0:T.employeeName)}}),(0,p.jsxs)("div",{className:"mt-3",children:[(0,p.jsx)("div",{className:"row ms-2",children:(0,p.jsx)(d.P_,{id:"allActiveCreatedSalary",checked:w,handleChange:e=>(e=>{const{checked:a}=null===e||void 0===e?void 0:e.target;R(a),C((e=>e.map((e=>({...e,create_salary:a})))))})(e),name:"allActiveCreatedSalary",label:"Create Salary For All"},"allActiveCreatedSalary")}),(0,p.jsx)("div",{style:(null===E||void 0===E?void 0:E.length)>9?{height:"539px",overflowX:"scroll"}:{},children:(0,p.jsx)(n.Ak,{data:E,fields:[{key:"sn",label:"S.N"},{key:"hold_salary",label:"Hold Salary"},{key:"create_salary",label:"Create Salary"},{key:"emp_code",label:"Emp ID"},{key:"employee_name",label:"Emp Name"},{key:"email",label:"Email"},{key:"department",label:"Department  "},{key:"designation",label:"Designation"}],isLoading:b,isHeader:!1,tableStyle:{padding:"0px",boxShadow:"none"},scopedSlots:q})})]})]}),(0,p.jsx)("div",{className:"footer",children:(0,p.jsx)("div",{className:"d-flex align-items-center justify-content-end gap-3",children:(0,p.jsx)(o.Sv,{text:"Submit",classNames:"btn btn-org-gradient",handleClick:()=>(()=>{const l={month:(0,v.N_)(a,"YYYY-MM"),employee_ids:I()};e(null===m.Vg||void 0===m.Vg?void 0:m.Vg.addPayRunRequest(l))})()})})})]}),D&&(0,p.jsx)(o.L,{isShow:D,size:"lg"})]})}},99708:(e,a,l)=>{l.d(a,{A:()=>o});var t=l(65043),n=l(29829),s=l(45531),d=l(70579);const o=e=>{const{installmentData:a,setInstallmentData:l,loanData:o}=e,i=(0,t.useMemo)((()=>({amount:(e,t)=>(0,d.jsx)("span",{children:(0,d.jsx)(s.pd,{type:"number",className:"form-control border border-black text-center",id:"instl_amt",placeholder:"Installment Amount",onChange:e=>((e,t)=>{let n,s=a;s[t].amount=parseFloat(e).toFixed(2);let d=0;s.forEach(((e,a)=>(d+=parseFloat(e.amount),a===t?(n=parseFloat(null===o||void 0===o?void 0:o.amount)-d>=0?parseFloat(null===o||void 0===o?void 0:o.amount)-d:0,n/=(s.length-1-t).toFixed(2)):a>t&&(e.amount=JSON.stringify(n)),e))),l(s)})(e.target.value,t),value:parseFloat(null===e||void 0===e?void 0:e.amount)})})})),[a]);return(0,d.jsx)(t.Fragment,{children:(0,d.jsx)("div",{className:"text-center",children:(0,d.jsx)(n.Ak,{data:a,fields:[{key:"installment",label:"Installment"},{key:"payment_date",label:"Payment Date"},{key:"emi_amount",label:"Amount"}],pagination:!0,isHeader:!1,tableStyle:{padding:"0px",boxShadow:"none",marginTop:"0px !important"},scopedSlots:i})})})}},95535:(e,a,l)=>{l.d(a,{A:()=>m});var t=l(65043),n=l(76513),s=l(92250),d=l(30171),o=l(94140),i=l(4409),r=l(19675),c=l(49985),u=l(70579);const m=e=>{let{data:a,fields:l,isLoading:m,scopedSlots:v={},onSearch:p,pagination:y,setCurrentPage:g,totalPages:h,currentPage:x,tableName:j,isHeader:b=!0,tableStyle:f,isShowSubMenu:N}=e;return(0,u.jsxs)("div",{className:"cardBox mb-3 mt-3",style:f||{},children:[b&&(0,u.jsxs)("div",{className:"cardHead d-flex align-items-center justify-content-between",children:[(0,u.jsx)(d.A,{name:j}),(0,u.jsxs)("div",{className:"d-flex",children:[(0,u.jsx)("div",{className:"ticketFilter",children:(0,u.jsx)("input",{type:"text",className:"form-control fs-7",placeholder:"Filter.."})}),(0,u.jsx)(s.Sv,{text:"Search",classNames:"btn btn-primary p-1 ms-3"})]})]}),(0,u.jsx)("div",{className:"table-responsive tableDiv",children:(0,u.jsxs)("table",{className:"table",children:[(0,u.jsx)("thead",{children:(0,u.jsx)(n.A,{tableHeader:l})}),(0,u.jsx)("tbody",{children:m?(0,u.jsx)("tr",{children:(0,u.jsx)("td",{colSpan:null===l||void 0===l?void 0:l.length,children:(0,u.jsx)(s.L,{isShow:m,size:"xl"})})}):a&&a.length>0?a.map(((e,a)=>{const n=(0,c.DF)(a,x);return(0,u.jsxs)(t.Fragment,{children:[(0,u.jsx)("tr",{children:l.map((a=>"sub_table"!==a.key?(0,u.jsx)(i.A,{style:{width:a.width||"auto"},children:v[a.key]?v[a.key](e,n):e[a.key]},a.key):(0,u.jsx)(i.A,{style:{width:a.width||"auto"}},a.key)))}),v.sub_table&&N.includes(a)&&(0,u.jsx)("tr",{children:(0,u.jsx)("td",{colSpan:l.length,style:{padding:"3px 20px",backgroundColor:"#f9f9f9"},children:v.sub_table(e,n)})})]},a)})):!m&&(0,u.jsx)(o.A,{totalField:null===l||void 0===l?void 0:l.length})})]})}),h>1&&y&&(0,u.jsx)(r.A,{currentPage:x,totalPages:h,onPageChange:e=>g(e)})]})}}}]);
//# sourceMappingURL=8437.7a6037c0.chunk.js.map