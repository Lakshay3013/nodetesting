"use strict";(self.webpackChunkglueple_user=self.webpackChunkglueple_user||[]).push([[3862],{33862:(e,a,t)=>{t.r(a),t.d(a,{default:()=>N});var s=t(65043),i=t(22166),n=t(94174),d=t(92250),l=t(80728),r=t(26181),o=t(33474),c=t(61487),m=t(90607),x=t(70579);const p=e=>{const{t:a}=(0,m.K)(),{openCreateUpdateDepModal:t,toggleDepartmentModal:n,selectedDepartmentData:p,handleCreateUpdateDepartment:v}=e,[h,k]=(0,s.useState)({}),{addDepartmentPending:u,updateDepartmentPending:f}=(0,i.d4)((e=>e.department)),[D,b]=(0,s.useState)(!0),[N,g]=(0,s.useState)({depName:"",shortName:""}),E=e=>{h&&k({});const{name:a,value:t}=e.target;g({...N,[a]:t})};(0,s.useEffect)((()=>{p&&(g({depName:(null===p||void 0===p?void 0:p.name)||"",shortName:(null===p||void 0===p?void 0:p.short_name)||""}),b(null===p||void 0===p?void 0:p.is_active))}),[p]),(0,s.useEffect)((()=>()=>{j()}),[t]);const j=()=>{g({depName:"",shortName:""}),k({})};return(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)("div",{className:"offcanvas offcanvas-end creatNewTicketOff "+(t?"show":""),tabIndex:-1,style:{visibility:t?"visible":"hidden"},children:[(0,x.jsxs)("div",{className:"offcanvas-header",children:[(0,x.jsxs)("h5",{className:"offcanvas-title  fs-5 fw-bold text-primary",children:[" ",p?"Update":"Create New"," Department"]}),(0,x.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close",onClick:()=>n()})]}),(0,x.jsx)("div",{className:"offcanvas-body",children:(0,x.jsxs)("div",{className:"formPanel",children:[(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-md-3",children:(0,x.jsx)("div",{className:"form-group mb-3",children:(0,x.jsx)(c.JU,{text:a("labels.name"),required:!0})})}),(0,x.jsx)("div",{className:"col-md-9",children:(0,x.jsxs)("div",{className:"form-group mb-3",children:[(0,x.jsx)(c.pd,{type:"text",placeholder:a("placeholders.departmentName"),value:(null===N||void 0===N?void 0:N.depName)||"",name:"depName",onChange:e=>E(e)}),(null===h||void 0===h?void 0:h.depName)&&(0,x.jsx)(o.A,{text:h.depName})]})})]}),(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-md-3",children:(0,x.jsx)("div",{className:"form-group",children:(0,x.jsx)(c.JU,{text:a("labels.shortName"),required:!0})})}),(0,x.jsx)("div",{className:"col-md-9",children:(0,x.jsxs)("div",{className:"form-group mb-3",children:[(0,x.jsx)(c.pd,{type:"text",placeholder:a("placeholders.shortName"),value:null===N||void 0===N?void 0:N.shortName,name:"shortName",onChange:e=>E(e)}),(null===h||void 0===h?void 0:h.shortName)&&(0,x.jsx)(o.A,{text:h.shortName})]})})]}),(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-md-3",children:(0,x.jsx)("div",{className:"form-group mb-3",children:(0,x.jsx)(c.JU,{text:a("labels.isActive")})})}),(0,x.jsx)("div",{className:"col-md-9",children:(0,x.jsx)("div",{className:"form-group mb-3",children:(0,x.jsx)(c.P_,{id:"is_active",checked:D,handleChange:e=>b(!D),name:"is_active"},"is_active")})})]})]})}),(0,x.jsx)("div",{className:"offcanvas-footer",children:(0,x.jsx)("div",{className:"d-flex align-items-center justify-content-end gap-3",children:(0,x.jsx)(d.Sv,{text:a(p?"btns.update":"btns.submit"),classNames:"btn btn-org-gradient",handleClick:()=>(async()=>{const e=await(0,r.i6)(l.JU,N);if(e.isValid){k({});const e={name:(null===N||void 0===N?void 0:N.depName)||"",short_name:(null===N||void 0===N?void 0:N.shortName)||"",is_active:!!D};v(e)}else k(e.errors)})(),isLoading:p?f:u})})})]})})};var v=t(52027),h=t(35685),k=t(34348),u=t.n(k),f=t(82149),D=t(49985);const b=e=>{const{t:a}=(0,m.K)(),{departmentList:t,isLoading:i,setSelectedDepartmentData:n,toggleDepartmentModal:l,toggleDeleteModal:r,currentPage:o,setCurrentPage:c}=e,[p,v]=(0,s.useState)(t);(0,s.useEffect)((()=>{v(t)}),[t]);const h=(0,s.useMemo)((()=>({sn:(e,a)=>(0,x.jsx)("span",{children:a+1}),is_active:e=>(0,x.jsx)("span",{className:`badge ${(0,D.XN)(e.is_active?"Active":"Inactive")}`,children:e.is_active?"Active":"Inactive"}),created_at:e=>u()(e.created_at).format("DD-MM-YYYY"),action:e=>(0,x.jsxs)("div",{className:"actionGroup d-flex gap-2",children:[(0,x.jsx)(d.Sv,{text:a("btns.update"),classNames:"btn btn-primary",handleClick:()=>{l(e)}}),0===(null===e||void 0===e?void 0:e.emp_count)&&(0,x.jsx)(d.Sv,{text:a("btns.delete"),handleClick:()=>r(e._id),classNames:"btn btn-danger"})]})})),[n,l,r]);return(0,x.jsx)(x.Fragment,{children:(0,x.jsx)(f.A,{data:null===p||void 0===p?void 0:p.data,fields:[{key:"sn",label:"S.N"},{key:"name",label:"Name"},{key:"short_name",label:"Short Name"},{key:"emp_count",label:"Total Employees"},{key:"is_active",label:"Status"},{key:"created_at",label:"Created At"},{key:"action",label:"Action"}],isLoading:i,pagination:!0,currentPage:o,setCurrentPage:c,totalPages:null===p||void 0===p?void 0:p.totalPages,tableName:"Department",scopedSlots:h})})},N=()=>{const{t:e}=(0,m.K)(),a=(0,i.wA)(),{getAllDepartmentRes:t,getAllDepartmentError:l,getAllDepartmentPending:r,deleteDepartmentPending:o,deleteDepartmentRes:c,deleteDepartmentError:k,addDepartmentPending:u,addDepartmentRes:f,addDepartmentError:D,updateDepartmentPending:N,updateDepartmentRes:g,updateDepartmentError:E}=(0,i.d4)((e=>e.department)),[j,_]=(0,s.useState)(""),[S,A]=(0,s.useState)(""),[y,T]=(0,s.useState)(!1),[C,R]=(0,s.useState)(),[L,P]=(0,s.useState)(!1),[M,w]=(0,s.useState)(1),G=e=>{A(e||""),T(!y)};(0,s.useEffect)((()=>{if(!u){if(D)return void a(n.vd.handleClearDepartmentStore("HANDLE_CLEAR_ADD_DEPARTMENT_STORE"));f&&200==(null===f||void 0===f?void 0:f.code)&&(a(n.vd.handleClearDepartmentStore("HANDLE_CLEAR_ADD_DEPARTMENT_STORE")),a(n.vd.handleClearDepartmentStore("HANDLE_CLEAR_GET_DEPARTMENT_LIST_STORE")),G(),V())}}),[u,f,D]),(0,s.useEffect)((()=>{if(!N){if(E)return void a(n.vd.handleClearDepartmentStore("HANDLE_CLEAR_UPDATE_DEPARTMENT_STORE"));g&&200==(null===g||void 0===g?void 0:g.code)&&(a(n.vd.handleClearDepartmentStore("HANDLE_CLEAR_UPDATE_DEPARTMENT_STORE")),a(n.vd.handleClearDepartmentStore("HANDLE_CLEAR_GET_DEPARTMENT_LIST_STORE")),V(),G())}}),[N,g,E]),(0,s.useEffect)((()=>{V()}),[M]);const V=()=>{const e={page:M,limit:v.X$.limit};a(n.vd.getAllDepartmentRequest(e))};(0,s.useEffect)((()=>{if(!r){if(l)return;t&&200===(null===t||void 0===t?void 0:t.code)&&_(null===t||void 0===t?void 0:t.data)}}),[t,l,r]);const B=e=>{e&&R(e),P(!L)};return(0,s.useEffect)((()=>{if(!o){if(k)return void a(n.vd.handleClearDepartmentStore("HANDLE_CLEAR_DELETE_DEPARTMENT_STORE"));var e;if(c)if(200==(null===c||void 0===c?void 0:c.code))a(n.vd.handleClearDepartmentStore("HANDLE_CLEAR_DELETE_DEPARTMENT_STORE")),a(n.vd.handleClearDepartmentStore("HANDLE_CLEAR_GET_DEPARTMENT_LIST_STORE")),B(),M>1&&1===(null===j||void 0===j||null===(e=j.data)||void 0===e?void 0:e.length)?w((e=>e-1)):V()}}),[c,k,o]),(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:"d-flex  justify-content-end ",children:(0,x.jsx)(d.Sv,{classNames:"btn btn-primary gradientBg",handleClick:()=>G(),text:e("btns.createDepartment")})}),(0,x.jsx)(b,{isLoading:r,toggleDepartmentModal:G,setSelectedDepartmentData:A,toggleDeleteModal:B,currentPage:M,setCurrentPage:w,departmentList:j}),(0,x.jsx)(p,{getAllDepartments:V,openCreateUpdateDepModal:y,toggleDepartmentModal:G,selectedDepartmentData:S,handleCreateUpdateDepartment:e=>{S?(e._id=null===S||void 0===S?void 0:S._id,a(n.vd.updateDepartmentRequest(e))):a(n.vd.addDepartmentRequest(e))}}),L&&(0,x.jsx)(h.A,{onApproveReject:e=>{if(e){const e={_id:C};a(null===n.vd||void 0===n.vd?void 0:n.vd.deleteDepartmentRequest(e))}else B()},isShow:L,desc:e("alerts.deletePopup.desc").replace("$1","Department"),btnRightLoading:o,btnTextRight:e("btns.delete"),btnTextLeft:e("btns.cancel")})]})}},35685:(e,a,t)=>{t.d(a,{A:()=>r});t(65043);var s=t(85248);const i=JSON.parse('{"nm":"history","ddd":0,"h":512,"w":512,"meta":{"g":"@lottiefiles/toolkit-js 0.33.2"},"layers":[{"ty":4,"nm":"big","sr":1,"st":0,"op":300,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[105,168,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[256,256,0],"ix":2},"r":{"a":1,"k":[{"o":{"x":0.333,"y":0},"i":{"x":0,"y":1},"s":[0],"t":0},{"s":[360],"t":90}],"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"hd":false,"mn":"ADBE Vector Group","nm":"Group 1","ix":1,"cix":2,"np":2,"it":[{"ty":"sh","bm":0,"hd":false,"mn":"ADBE Vector Shape - Group","nm":"Path 1","ix":1,"d":1,"ks":{"a":0,"k":{"c":false,"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-21,31.5],[-21,-31.5]]},"ix":2}},{"ty":"st","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Stroke","nm":"Stroke 1","lc":2,"lj":2,"ml":1,"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":42,"ix":5},"c":{"a":0,"k":[0.1137,0.3529,0.498],"ix":3}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[126,136.5],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]}],"ind":1},{"ty":4,"nm":"small","sr":1,"st":0,"op":300,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[126,136.5,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[277,224.5,0],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"hd":false,"mn":"ADBE Vector Group","nm":"Group 1","ix":1,"cix":2,"np":2,"it":[{"ty":"sh","bm":0,"hd":false,"mn":"ADBE Vector Shape - Group","nm":"Path 1","ix":1,"d":1,"ks":{"a":0,"k":{"c":false,"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[21,31.5],[-21,31.5]]},"ix":2}},{"ty":"st","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Stroke","nm":"Stroke 1","lc":2,"lj":2,"ml":1,"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":42,"ix":5},"c":{"a":0,"k":[0.1137,0.3529,0.498],"ix":3}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[126,136.5],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]}],"ind":2},{"ty":4,"nm":"Layer 1 Outlines","sr":1,"st":0,"op":300,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[294,294,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[256,256,0],"ix":2},"r":{"a":1,"k":[{"o":{"x":0.333,"y":0},"i":{"x":0,"y":1},"s":[0],"t":0},{"s":[-360],"t":90}],"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"hd":false,"mn":"ADBE Vector Group","nm":"Group 1","ix":1,"cix":2,"np":2,"it":[{"ty":"sh","bm":0,"hd":false,"mn":"ADBE Vector Shape - Group","nm":"Path 1","ix":1,"d":1,"ks":{"a":0,"k":{"c":false,"i":[[0,0],[-69.916,0],[0,-104.383],[104.383,0],[0,104.383]],"o":[[32.693,-56.438],[104.383,0],[0,104.383],[-104.382,0],[0,0]],"v":[[-163.509,-94.5],[0,-189],[189,0],[0,189],[-189,0]]},"ix":2}},{"ty":"st","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Stroke","nm":"Stroke 1","lc":2,"lj":2,"ml":1,"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":42,"ix":5,"x":"var $bm_rt;\\nvar index, normalStroke;\\nindex = transform.scale[0];\\nnormalStroke = 42;\\n$bm_rt = $bm_div(normalStroke, $bm_div(index, 100));"},"c":{"a":0,"k":[0.1137,0.3529,0.498],"ix":3}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[294,294],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]},{"ty":"gr","bm":0,"hd":false,"mn":"ADBE Vector Group","nm":"Group 2","ix":2,"cix":2,"np":2,"it":[{"ty":"sh","bm":0,"hd":false,"mn":"ADBE Vector Shape - Group","nm":"Path 1","ix":1,"d":1,"ks":{"a":1,"k":[{"o":{"x":0.333,"y":0},"i":{"x":0.833,"y":0.833},"s":[{"c":false,"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-47.25,-47.25],[-47.25,47.25],[47.25,47.25]]}],"t":0},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[{"c":false,"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-50.492,-17.426],[-47.25,47.25],[17.426,44.008]]}],"t":6},{"o":{"x":0.167,"y":0.167},"i":{"x":0.667,"y":1},"s":[{"c":false,"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-50.492,-17.426],[-47.25,47.25],[17.426,44.008]]}],"t":50},{"s":[{"c":false,"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-47.25,-47.25],[-47.25,47.25],[47.25,47.25]]}],"t":90}],"ix":2}},{"ty":"st","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Stroke","nm":"Stroke 1","lc":2,"lj":2,"ml":1,"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":42,"ix":5,"x":"var $bm_rt;\\nvar index, normalStroke;\\nindex = transform.scale[0];\\nnormalStroke = 42;\\n$bm_rt = $bm_div(normalStroke, $bm_div(index, 100));"},"c":{"a":0,"k":[0.1137,0.3529,0.498],"ix":3}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[175.875,152.25],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]}],"ind":3}],"v":"5.7.13","fr":60,"op":211,"ip":0,"assets":[]}');var n=t(92250),d=t(90607),l=t(70579);const r=e=>{let{title:a,desc:t="",onApproveReject:r,isShow:o,btnLeftLoading:c=!1,btnRightLoading:m=!1,btnTextLeft:x,btnTextRight:p}=e;const{t:v}=(0,d.K)();return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"modal fade attendanceViewodal",id:"sureMdl",style:{display:o?"unset !important":"none !important",opacity:o?"unset":"0"},children:(0,l.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:(0,l.jsx)("div",{className:"modal-content rounded-1 border-0",children:(0,l.jsx)("div",{className:"modal-body ",children:(0,l.jsxs)("div",{className:"text-center suremodalCon",children:[(0,l.jsx)("div",{className:"d-flex justify-content-center",children:(0,l.jsx)(s.A,{lottieUrl:i,Lottiestyle:{width:"90px",height:"90px"}})}),(0,l.jsx)("h6",{className:"fw-semibold mb-2",children:a||v("alerts.deletePopup.title")}),(0,l.jsx)("p",{className:"mb-5 px-4 text-center",children:t||""}),(0,l.jsxs)("div",{className:"d-flex justify-content-center gap-3",children:[(0,l.jsx)(n.Sv,{classNames:"btn btn-danger",isLoading:c,text:x||v("btns.reject"),handleClick:()=>r(!1)}),(0,l.jsx)(n.Sv,{classNames:"btn btn-success",isLoading:m,text:p||v("btns.confirm"),handleClick:()=>r(!0)})]})]})})})})}),o&&(0,l.jsx)("div",{className:"modal-backdrop fade show"})]})}}}]);
//# sourceMappingURL=3862.d7bc8112.chunk.js.map