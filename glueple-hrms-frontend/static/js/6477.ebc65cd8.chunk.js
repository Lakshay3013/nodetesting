"use strict";(self.webpackChunkglueple_user=self.webpackChunkglueple_user||[]).push([[6477],{16477:(e,a,t)=>{t.r(a),t.d(a,{default:()=>v});var s=t(65043),l=t(29829),n=t(45531),d=t(49985),i=t(22166),o=t(73216),c=t(94174),r=t(70579);const m=e=>{const{myTeamAttendancePending:a}=(0,i.d4)((e=>e.otherAttendance)),t=(0,o.Zp)(),m=(0,i.wA)(),{currentPage:u,setCurrentPage:x,allEmployeeData:h,filterDate:v,setFilterDate:p,toggleShowPunchDetail:b,myTeamAttendanceData:f}=e,g=(0,s.useMemo)((()=>({sn:(e,a)=>(0,r.jsx)("span",{children:a+1}),date:e=>(0,r.jsx)("span",{children:(0,d.N_)(null===e||void 0===e?void 0:e.date)}),action:e=>(0,r.jsxs)("div",{className:"btn-group actionDrp",children:[(0,r.jsx)("button",{type:"button",className:"btn dropdown-toggle-split","data-bs-toggle":"dropdown","aria-expanded":"false",children:(0,r.jsx)("i",{className:"bi bi-three-dots-vertical"})}),(0,r.jsxs)("ul",{className:"dropdown-menu",children:[(0,r.jsx)("li",{children:(0,r.jsx)("span",{className:"dropdown-item",onClick:()=>b(),children:"Show Detail"})}),(0,r.jsx)("li",{children:(0,r.jsx)("span",{className:"dropdown-item",onClick:()=>(e=>{m(c.mM.selectedEmployeeData(e)),t("/team-attendance/attendance-calender"+(null!==e&&void 0!==e&&e._id?`/${null===e||void 0===e?void 0:e._id}`:""))})(e),children:"Attendance Calender"})})]})]})})),[h]);return(0,r.jsxs)("div",{className:"cardBox myRequest mb-3",children:[(0,r.jsxs)("div",{className:"cardHead",children:[(0,r.jsx)("img",{src:"images/myrequest-icon.svg",alt:"",width:"35"}),(0,r.jsx)("h3",{className:"ms-2",children:"Team Attendance"})]}),(0,r.jsx)("div",{className:"row d-flex justify-content-end",children:(0,r.jsx)("div",{className:"col-md-2 form-group ",children:(0,r.jsx)(n.pd,{type:"date",value:v||(0,d.kg)(),name:"filterDate",max:(0,d.kg)(),onChange:e=>p(e.target.value)})})}),(0,r.jsx)("div",{className:"table-responsive tableDiv text-nowrap overflowTable",children:(0,r.jsx)(l.Ak,{data:(null===f||void 0===f?void 0:f.data)||[],fields:[{key:"sn",label:"S.N"},{key:"emp_id",label:"Emp Id"},{key:"name",label:"Employee Name"},{key:"department_name",label:"Department"},{key:"designation_name",label:"Designation"},{key:"date",label:"Date"},{key:"check_in",label:"Check IN"},{key:"total_login_hours",label:"Total Login Hours"},{key:"total_break_time",label:"Total Break Time"},{key:"action",label:"Action"}],isLoading:a,pagination:!0,currentPage:u,setCurrentPage:x,totalPages:null===h||void 0===h?void 0:h.totalPages,isHeader:!1,tableStyle:{padding:"0px",boxShadow:"none"},scopedSlots:g})})]})};var u=t(92250);const x=[],h=e=>{const{openModel:a,handleOpenClose:t,currentPage:n,setCurrentPage:i,punchData:o,isLoading:c}=e,m=(0,s.useMemo)((()=>({sn:(e,a)=>(0,r.jsx)("span",{children:a+1}),date:e=>(0,r.jsx)("span",{children:(0,d.N_)(null===e||void 0===e?void 0:e.date)})})),[o]);return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"offcanvas offcanvas-end  "+(a?"show":""),tabIndex:-1,style:{visibility:a?"visible":"hidden",width:"700px"},id:"interviewDetail",children:[(0,r.jsxs)("div",{className:"offcanvas-header",children:[(0,r.jsx)("h5",{className:"offcanvas-title  fs-5 fw-bold text-primary",children:"Punch Details"}),(0,r.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close",onClick:()=>t()})]}),(0,r.jsx)("div",{className:"offcanvas-body myRequest ",children:(0,r.jsx)("div",{className:"formPanel",children:(0,r.jsx)("div",{className:"table-responsive tableDiv text-nowrap overflowTable",children:(0,r.jsx)(l.Ak,{data:x||[],fields:[{key:"sn",label:"S.N"},{key:"emp_id",label:"Emp Id"},{key:"date",label:"Date"},{key:"time",label:"time"},{key:"device_name",label:"Device Name"},{key:"I/O",label:"I/O"},{key:"platform",label:"Platform"},{key:"location",label:"Location"}],isLoading:c,pagination:!0,currentPage:n,setCurrentPage:i,totalPages:null===o||void 0===o?void 0:o.totalPages,isHeader:!1,tableStyle:{padding:"0px",boxShadow:"none"},scopedSlots:m})})})}),(0,r.jsx)("div",{className:"offcanvas-footer",children:(0,r.jsx)("div",{className:"d-flex align-items-center justify-content-end gap-3"})})]})})},v=()=>{const e=(0,i.wA)(),[a,t]=(0,s.useState)(""),[l,d]=(0,s.useState)(!1),[o,x]=(0,s.useState)(1),[v,p]=(0,s.useState)({}),{myTeamAttendanceRes:b,myTeamAttendanceError:f,myTeamAttendancePending:g}=(0,i.d4)((e=>e.otherAttendance)),j=()=>{d(!l)};(0,s.useEffect)((()=>{y()}),[o]);const y=()=>{e(c.R4.myTeamAttendanceRequest())};return(0,s.useEffect)((()=>{if(!g){if(f)return;b&&200===(null===b||void 0===b?void 0:b.code)&&p(null===b||void 0===b?void 0:b.data)}}),[b,f,g]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"cardBox mb-3 createNewMrf newMrfProcess ",children:(0,r.jsxs)("div",{className:"row align-items-center d-flex justify-content-end",children:[(0,r.jsx)("div",{className:"col-md-3 col-xl-2",children:(0,r.jsx)(u.Sv,{classNames:"btn btn-info w-100 mb-2",text:"Download Report",icon:(0,r.jsx)(n.In,{className:"fa fa-download "})})}),(0,r.jsx)("div",{className:"col-md-3 col-xl-2",children:(0,r.jsx)(u.Sv,{classNames:"btn btn-primary w-100 mb-2",text:"Refresh",icon:(0,r.jsx)(n.In,{className:"fa fa-refresh"}),handleClick:()=>y()})})]})}),(0,r.jsx)(m,{setCurrentPage:x,currentPage:o,filterDate:a,setFilterDate:t,toggleShowPunchDetail:j,myTeamAttendanceData:v}),(0,r.jsx)(h,{openModel:l,handleOpenClose:j})]})}}}]);
//# sourceMappingURL=6477.ebc65cd8.chunk.js.map