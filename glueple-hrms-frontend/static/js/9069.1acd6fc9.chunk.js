"use strict";(self.webpackChunkglueple_user=self.webpackChunkglueple_user||[]).push([[9069],{69737:(e,s,t)=>{t.d(s,{A:()=>l});t(65043);var a=t(70579);const l=e=>{const{name:s,value:t,handleChange:l,totalHours:i,intervalMinutes:d}=e,n=((e,s)=>{const t=[];let a="00",l="00";for(let i=0;i<e;i++)for(let e=0;e<60;e++)a=i<10?`0${i}`:i,e%s===0&&(l=e<10?`0${e}`:e,t.push({item:`${a}:${l}`}));return t})(i,d);return(0,a.jsxs)("select",{className:"form-select",name:s,value:t,onChange:e=>l(e),children:[(0,a.jsx)("option",{value:"",hidden:!0,children:"HH:MM"}),n.map(((e,s)=>(0,a.jsx)("option",{value:e.item,children:e.item},s)))]})}},35685:(e,s,t)=>{t.d(s,{A:()=>r});t(65043);var a=t(85248);const l=JSON.parse('{"nm":"history","ddd":0,"h":512,"w":512,"meta":{"g":"@lottiefiles/toolkit-js 0.33.2"},"layers":[{"ty":4,"nm":"big","sr":1,"st":0,"op":300,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[105,168,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[256,256,0],"ix":2},"r":{"a":1,"k":[{"o":{"x":0.333,"y":0},"i":{"x":0,"y":1},"s":[0],"t":0},{"s":[360],"t":90}],"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"hd":false,"mn":"ADBE Vector Group","nm":"Group 1","ix":1,"cix":2,"np":2,"it":[{"ty":"sh","bm":0,"hd":false,"mn":"ADBE Vector Shape - Group","nm":"Path 1","ix":1,"d":1,"ks":{"a":0,"k":{"c":false,"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-21,31.5],[-21,-31.5]]},"ix":2}},{"ty":"st","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Stroke","nm":"Stroke 1","lc":2,"lj":2,"ml":1,"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":42,"ix":5},"c":{"a":0,"k":[0.1137,0.3529,0.498],"ix":3}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[126,136.5],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]}],"ind":1},{"ty":4,"nm":"small","sr":1,"st":0,"op":300,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[126,136.5,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[277,224.5,0],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"hd":false,"mn":"ADBE Vector Group","nm":"Group 1","ix":1,"cix":2,"np":2,"it":[{"ty":"sh","bm":0,"hd":false,"mn":"ADBE Vector Shape - Group","nm":"Path 1","ix":1,"d":1,"ks":{"a":0,"k":{"c":false,"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[21,31.5],[-21,31.5]]},"ix":2}},{"ty":"st","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Stroke","nm":"Stroke 1","lc":2,"lj":2,"ml":1,"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":42,"ix":5},"c":{"a":0,"k":[0.1137,0.3529,0.498],"ix":3}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[126,136.5],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]}],"ind":2},{"ty":4,"nm":"Layer 1 Outlines","sr":1,"st":0,"op":300,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[294,294,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[256,256,0],"ix":2},"r":{"a":1,"k":[{"o":{"x":0.333,"y":0},"i":{"x":0,"y":1},"s":[0],"t":0},{"s":[-360],"t":90}],"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"hd":false,"mn":"ADBE Vector Group","nm":"Group 1","ix":1,"cix":2,"np":2,"it":[{"ty":"sh","bm":0,"hd":false,"mn":"ADBE Vector Shape - Group","nm":"Path 1","ix":1,"d":1,"ks":{"a":0,"k":{"c":false,"i":[[0,0],[-69.916,0],[0,-104.383],[104.383,0],[0,104.383]],"o":[[32.693,-56.438],[104.383,0],[0,104.383],[-104.382,0],[0,0]],"v":[[-163.509,-94.5],[0,-189],[189,0],[0,189],[-189,0]]},"ix":2}},{"ty":"st","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Stroke","nm":"Stroke 1","lc":2,"lj":2,"ml":1,"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":42,"ix":5,"x":"var $bm_rt;\\nvar index, normalStroke;\\nindex = transform.scale[0];\\nnormalStroke = 42;\\n$bm_rt = $bm_div(normalStroke, $bm_div(index, 100));"},"c":{"a":0,"k":[0.1137,0.3529,0.498],"ix":3}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[294,294],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]},{"ty":"gr","bm":0,"hd":false,"mn":"ADBE Vector Group","nm":"Group 2","ix":2,"cix":2,"np":2,"it":[{"ty":"sh","bm":0,"hd":false,"mn":"ADBE Vector Shape - Group","nm":"Path 1","ix":1,"d":1,"ks":{"a":1,"k":[{"o":{"x":0.333,"y":0},"i":{"x":0.833,"y":0.833},"s":[{"c":false,"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-47.25,-47.25],[-47.25,47.25],[47.25,47.25]]}],"t":0},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[{"c":false,"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-50.492,-17.426],[-47.25,47.25],[17.426,44.008]]}],"t":6},{"o":{"x":0.167,"y":0.167},"i":{"x":0.667,"y":1},"s":[{"c":false,"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-50.492,-17.426],[-47.25,47.25],[17.426,44.008]]}],"t":50},{"s":[{"c":false,"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-47.25,-47.25],[-47.25,47.25],[47.25,47.25]]}],"t":90}],"ix":2}},{"ty":"st","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Stroke","nm":"Stroke 1","lc":2,"lj":2,"ml":1,"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":42,"ix":5,"x":"var $bm_rt;\\nvar index, normalStroke;\\nindex = transform.scale[0];\\nnormalStroke = 42;\\n$bm_rt = $bm_div(normalStroke, $bm_div(index, 100));"},"c":{"a":0,"k":[0.1137,0.3529,0.498],"ix":3}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[175.875,152.25],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]}],"ind":3}],"v":"5.7.13","fr":60,"op":211,"ip":0,"assets":[]}');var i=t(92250),d=t(90607),n=t(70579);const r=e=>{let{title:s,desc:t="",onApproveReject:r,isShow:o,btnLeftLoading:c=!1,btnRightLoading:m=!1,btnTextLeft:h,btnTextRight:u}=e;const{t:f}=(0,d.K)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"modal fade attendanceViewodal",id:"sureMdl",style:{display:o?"unset !important":"none !important",opacity:o?"unset":"0"},children:(0,n.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:(0,n.jsx)("div",{className:"modal-content rounded-1 border-0",children:(0,n.jsx)("div",{className:"modal-body ",children:(0,n.jsxs)("div",{className:"text-center suremodalCon",children:[(0,n.jsx)("div",{className:"d-flex justify-content-center",children:(0,n.jsx)(a.A,{lottieUrl:l,Lottiestyle:{width:"90px",height:"90px"}})}),(0,n.jsx)("h6",{className:"fw-semibold mb-2",children:s||f("alerts.deletePopup.title")}),(0,n.jsx)("p",{className:"mb-5 px-4 text-center",children:t||""}),(0,n.jsxs)("div",{className:"d-flex justify-content-center gap-3",children:[(0,n.jsx)(i.Sv,{classNames:"btn btn-danger",isLoading:c,text:h||f("btns.reject"),handleClick:()=>r(!1)}),(0,n.jsx)(i.Sv,{classNames:"btn btn-success",isLoading:m,text:u||f("btns.confirm"),handleClick:()=>r(!0)})]})]})})})})}),o&&(0,n.jsx)("div",{className:"modal-backdrop fade show"})]})}},46170:(e,s,t)=>{t.d(s,{A:()=>m});var a=t(65043),l=t(22166),i=(t(92250),t(94174)),d=t(42145),n=t(80728),r=t(26181),o=t(33474),c=(t(86178),t(69737),t(70579));const m=e=>{const s=(0,l.wA)(),{openAddCalendar:t,openAddCalendarModel:m,selectedCalendarData:h,setSelectedCalendarDatas:u,getAllShiftCalendar:f}=e,{addShiftCalendarPending:v,addShiftCalendarRes:x,addShiftCalendarError:p}=(0,l.d4)((e=>e.shift)),[j,g]=(0,a.useState)({}),[b,_]=(0,a.useState)(""),[y,N]=(0,a.useState)(""),[S,k]=(0,a.useState)(),[E,w]=(0,a.useState)([]),[C,A]=(0,a.useState)({title:"",working_days:"",alternative_saturday_off:"",week_off:""}),D=e=>{if(1==e.target.checked)w([...E,e.target.value]);else{let s=E.filter((s=>s!=e.target.value));w([...s])}},M=e=>{if(1==e.target.checked)k([...S,e.target.value]);else{let s=S.filter((s=>s!=e.target.value));k([...s])}};(0,a.useEffect)((()=>{if(!v){if(p)return void d.oR.error(null===p||void 0===p?void 0:p.errorMessage);var e,t;if(x)if(200===(null===x||void 0===x||null===(e=x.data)||void 0===e?void 0:e.code))d.oR.success(null===x||void 0===x||null===(t=x.data)||void 0===t?void 0:t.msg),m(),s(i.ce.handleClearShiftStore("HANDLE_CLEAR_ADD_SHIFT_CALENDAR_STORE"))}}),[x,p,v]),(0,a.useEffect)((()=>{A({title:(null===h||void 0===h?void 0:h.title)||"",working_days:(null===h||void 0===h?void 0:h.working_days)||"",alternative_saturday_off:(null===h||void 0===h?void 0:h.alternative_saturday_off)||"",week_off:null===h||void 0===h?void 0:h.week_off}),N(null===h||void 0===h?void 0:h.working_days),k(null===h||void 0===h?void 0:h.week_off),w(void 0==(null===h||void 0===h?void 0:h.alternative_saturday_off)?[]:null===h||void 0===h?void 0:h.alternative_saturday_off),_(null===h||void 0===h?void 0:h.id)}),[h]);(0,a.useEffect)((()=>{!1===t&&R()}),[t]);const R=()=>{A({title:"",working_days:"",alternative_saturday_off:"",week_off:""}),g({})};return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("div",{className:"offcanvas offcanvas-end creatNewTicketOff "+(t?"show":""),tabIndex:-1,style:{visibility:t?"visible":"hidden",width:"800px"},children:[(0,c.jsxs)("div",{className:"offcanvas-header",children:[(0,c.jsxs)("h5",{className:"offcanvas-title  fs-5 fw-bold text-primary",children:[h?"Update":"Create New"," Calendar"]}),(0,c.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close",onClick:()=>m()})]}),(0,c.jsx)("div",{className:"offcanvas-body",children:(0,c.jsx)("div",{className:"table-responsive tableDiv shiftmanagementtbl",children:(0,c.jsx)("table",{className:"table",children:(0,c.jsxs)("tbody",{children:[(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{width:"30%",children:(0,c.jsxs)("div",{className:"d-flex align-items-center",children:[(0,c.jsx)("span",{className:"srNum",children:"1"}),(0,c.jsx)("b",{className:"ps-3 text-primary",children:" Title "})]})}),(0,c.jsxs)("td",{children:[(0,c.jsx)("input",{type:"text",name:"title",value:C.title,onChange:e=>(e=>{const{name:s,value:t}=e.target;A({...C,[s]:t}),g((e=>({...e,[s]:void 0})))})(e),className:"form-control",placeholder:"Enter Title"}),(null===j||void 0===j?void 0:j.title)&&(0,c.jsx)(o.A,{text:j.title})]})]}),(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{children:(0,c.jsxs)("div",{className:"d-flex align-items-center",children:[(0,c.jsx)("span",{className:"srNum",children:"5"}),(0,c.jsx)("b",{className:"ps-3 text-primary",children:" Working Days"})]})}),(0,c.jsx)("td",{children:(0,c.jsx)("div",{className:"d-flex workingradio",children:(0,c.jsxs)("div",{className:"shiftInpt",children:[(0,c.jsxs)("select",{className:"form-select",required:!0,name:"shift_type",value:y,onChange:e=>{return s=e.target.value,N(s),void("5"==s?k(["6","7"]):"6"==s?(k([]),k(["7"])):"7"==s&&k([]));var s},children:[(0,c.jsx)("option",{value:"",hidden:!0,selected:!0,children:"Select Required Working Days"}),(0,c.jsx)("option",{value:"5",children:"5 Days"}),(0,c.jsx)("option",{value:"6",children:"6 Days"}),(0,c.jsx)("option",{value:"7",children:"7 Days"}),(0,c.jsx)("option",{value:"alternative_saturday",children:"Alternative Saturday Off"})]}),(null===j||void 0===j?void 0:j.working_days)&&(0,c.jsx)(o.A,{text:j.working_days})]})})})]}),"alternative_saturday"==y&&(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{children:(0,c.jsxs)("div",{className:"d-flex align-items-center",children:[(0,c.jsx)("span",{className:"srNum",children:"6"}),(0,c.jsx)("b",{className:"ps-3 text-primary",children:"Saturdays"})]})}),(0,c.jsx)("td",{children:(0,c.jsx)("div",{className:"d-flex workingradio",children:(0,c.jsxs)("div",{className:"d-flex gap-2 checkShift",children:[(0,c.jsxs)("div",{className:"form-check",children:[(0,c.jsx)("input",{className:"form-check-input",type:"checkbox",value:"1",name:"1",onClick:D,checked:null===E||void 0===E?void 0:E.includes("1")}),(0,c.jsx)("label",{className:"form-check-label",for:"first",children:"1st"})]}),(0,c.jsxs)("div",{className:"form-check",children:[(0,c.jsx)("input",{className:"form-check-input",type:"checkbox",value:"2",name:"2",onClick:D,checked:null===E||void 0===E?void 0:E.includes("2")}),(0,c.jsx)("label",{className:"form-check-label",for:"second",children:"2st"})]}),(0,c.jsxs)("div",{className:"form-check",children:[(0,c.jsx)("input",{className:"form-check-input",type:"checkbox",value:"3",name:"3",onClick:D,checked:null===E||void 0===E?void 0:E.includes("3")}),(0,c.jsx)("label",{className:"form-check-label",for:"third",children:"3st"})]}),(0,c.jsxs)("div",{className:"form-check",children:[(0,c.jsx)("input",{className:"form-check-input",type:"checkbox",value:"4",name:"4",onClick:D,checked:null===E||void 0===E?void 0:E.includes("4")}),(0,c.jsx)("label",{className:"form-check-label",for:"fourth ",children:"4st"})]}),(0,c.jsxs)("div",{className:"form-check",children:[(0,c.jsx)("input",{className:"form-check-input",type:"checkbox",value:"5",name:"5",onClick:D,checked:null===E||void 0===E?void 0:E.includes("5")}),(0,c.jsx)("label",{className:"form-check-label",for:"five ",children:"5st"})]})]})})})]}),"7"!=y&&"alternative_saturday"!=y&&(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{children:(0,c.jsxs)("div",{className:"d-flex align-items-center",children:[(0,c.jsx)("span",{className:"srNum",children:"7"}),(0,c.jsx)("b",{className:"ps-3 text-primary",children:" Week Off"})]})}),(0,c.jsx)("td",{children:(0,c.jsxs)("div",{className:"d-flex gap-2 checkShift",children:[(0,c.jsxs)("div",{className:"form-check",children:[(0,c.jsx)("input",{className:"form-check-input",type:"checkbox",value:"1",name:"1",id:"first",onClick:M,checked:null===S||void 0===S?void 0:S.includes("1")}),(0,c.jsx)("label",{className:"form-check-label",htmlFor:"first",children:"Monday"})]}),(0,c.jsxs)("div",{className:"form-check",children:[(0,c.jsx)("input",{className:"form-check-input",type:"checkbox",value:"2",name:"2",id:"second",onClick:M,checked:null===S||void 0===S?void 0:S.includes("2")}),(0,c.jsx)("label",{className:"form-check-label",htmlFor:"second",children:"Tuesday"})]}),(0,c.jsxs)("div",{className:"form-check",children:[(0,c.jsx)("input",{className:"form-check-input",type:"checkbox",value:"3",name:"3",id:"third",onClick:M,checked:null===S||void 0===S?void 0:S.includes("3")}),(0,c.jsx)("label",{className:"form-check-label",htmlFor:"third",children:"Wednesday"})]}),(0,c.jsxs)("div",{className:"form-check",children:[(0,c.jsx)("input",{className:"form-check-input",type:"checkbox",value:"4",name:"4",id:"fourth ",onClick:M,checked:null===S||void 0===S?void 0:S.includes("4")}),(0,c.jsx)("label",{className:"form-check-label",htmlFor:"fourth ",children:"Thursday"})]}),(0,c.jsxs)("div",{className:"form-check",children:[(0,c.jsx)("input",{className:"form-check-input",type:"checkbox",value:"5",name:"5",id:"five ",onClick:M,checked:null===S||void 0===S?void 0:S.includes("5")}),(0,c.jsx)("label",{className:"form-check-label",htmlFor:"five ",children:"Friday"})]}),(0,c.jsxs)("div",{className:"form-check",children:[(0,c.jsx)("input",{className:"form-check-input",type:"checkbox",value:"6",name:"6",id:"five ",onClick:M,checked:null===S||void 0===S?void 0:S.includes("6")}),(0,c.jsx)("label",{className:"form-check-label",htmlFor:"five ",children:"Saturday"})]}),(0,c.jsxs)("div",{className:"form-check",children:[(0,c.jsx)("input",{className:"form-check-input",type:"checkbox",value:"7",name:"7",id:"five ",onClick:M,checked:null===S||void 0===S?void 0:S.includes("7")}),(0,c.jsx)("label",{className:"form-check-label",htmlFor:"five ",children:"Sunday"})]})]})})]})]})})})}),(0,c.jsx)("div",{className:"offcanvas-footer",children:(0,c.jsx)("div",{className:"d-flex align-items-center justify-content-end gap-3",children:(0,c.jsx)("button",{type:"button",className:"btn btn-primary gradientBg",onClick:()=>(async()=>{C.working_days=y,C.alternative_saturday_off=E,C.week_off=S;const e=await(0,r.i6)(n.oc,C);e.isValid?(g({}),h?(C._id=b,s(i.ce.updateShiftCalendarRequest(C)),m(),f()):(s(i.ce.addShiftCalendarRequest(C)),f())):(g(e.errors),console.log(e.errors,"formattedErrors"))})(),children:"Submit"})})})]})})}},19069:(e,s,t)=>{t.r(s),t.d(s,{default:()=>ae});var a=t(65043),l=t(22166),i=t(92250),d=t(94174),n=t(42145),r=t(80728),o=t(26181),c=t(33474),m=t(86178),h=t.n(m),u=t(69737),f=t(70579);const v=e=>{var s;const{openModel:t,openCreateShiftModel:m,editShift:v,setEditShift:x,getAllShiftFunction:p}=e,{addShiftPending:j,addShiftRes:g,addShiftError:b}=(0,l.d4)((e=>e.shift)),[_,y]=(0,a.useState)({}),N=(0,l.wA)(),[S,k]=(0,a.useState)(""),[E,w]=(0,a.useState)(""),[C,A]=(0,a.useState)(!1),[D,M]=(0,a.useState)(),[R,F]=(0,a.useState)(),[I,O]=(0,a.useState)({shift_name:"",shift_code:"",color:"",is_active:!1,shift_start_time:"",shift_end_time:"",break_start_time:"",break_end_time:"",early_arrival_tolerance:"",late_departure_tolerance:"",grace_start_time:"",grace_end_time:"",half_day_policy_time:"",full_day_policy_time:"",shift_type:""});(0,a.useEffect)((()=>{O({shift_name:(null===v||void 0===v?void 0:v.shift_name)||"",shift_code:(null===v||void 0===v?void 0:v.shift_code)||"",color:(null===v||void 0===v?void 0:v.color)||"",is_active:(null===v||void 0===v?void 0:v.is_active)||"",shift_start_time:(null===v||void 0===v?void 0:v.shift_start_time)||"",shift_end_time:(null===v||void 0===v?void 0:v.shift_end_time)||"",break_start_time:(null===v||void 0===v?void 0:v.break_start_time)||"",break_end_time:(null===v||void 0===v?void 0:v.break_end_time)||"",early_arrival_tolerance:(null===v||void 0===v?void 0:v.early_arrival_tolerance)||"",late_departure_tolerance:(null===v||void 0===v?void 0:v.late_departure_tolerance)||"",grace_start_time:(null===v||void 0===v?void 0:v.grace_start_time)||"",grace_end_time:(null===v||void 0===v?void 0:v.grace_end_time)||"",half_day_policy_time:(null===v||void 0===v?void 0:v.half_day_policy_time)||"",full_day_policy_time:(null===v||void 0===v?void 0:v.full_day_policy_time)||"",shift_type:(null===v||void 0===v?void 0:v.shift_type)||""}),A(v.is_active),w(null===v||void 0===v?void 0:v.id)}),[v]),(0,a.useEffect)((()=>{if(!j){if(b)return void n.oR.error(null===b||void 0===b?void 0:b.errorMessage);var e,s;if(g)if(200===(null===g||void 0===g||null===(e=g.data)||void 0===e?void 0:e.code))n.oR.success(null===g||void 0===g||null===(s=g.data)||void 0===s?void 0:s.msg),m(),N(d.ce.handleClearShiftStore("HANDLE_CLEAR_ADD_SHIFT_STORE"))}}),[g,b,j]);const T=e=>{const{name:s,value:t}=e.target;if("shift_name"===s){let e=null===t||void 0===t?void 0:t.split(" ").map((e=>e.charAt(0).toUpperCase())).join("");I.shift_code=e}else if("shift_end_time"===s){const e=h()(I.shift_start_time,"HH:mm:ss"),s=h()(t,"HH:mm:ss"),a=e.isAfter(s),l=a?s.add(1,"day"):s,i=h().duration(l.diff(e)),d=`${String(i.hours()).padStart(2,"0")}:${String(i.minutes()).padStart(2,"0")}`,n=a?"night":"morning";M(d),I.shift_type=n,I.full_day_policy_time=d}else if("break_end_time"===s){const e=h()(I.break_start_time,"HH:mm:ss"),s=h()(t,"HH:mm:ss"),a=e.isAfter(s)?s.add(1,"day"):s,l=h().duration(a.diff(e)),i=`${String(l.hours()).padStart(2,"0")}:${String(l.minutes()).padStart(2,"0")}`;F(i)}O({...I,[s]:t}),y((e=>({...e,[s]:void 0})))};(0,a.useEffect)((()=>{0==t&&Y()}),[t]);const Y=()=>{O({shift_name:"",shift_code:"",color:"",is_active:"",shift_start_time:"",shift_end_time:"",break_start_time:"",break_end_time:"",early_arrival_tolerance:"",late_departure_tolerance:"",grace_start_time:"",grace_end_time:"",half_day_policy_time:"",full_day_policy_time:"",shift_type:""}),x(""),y({}),k("")};return(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)("div",{className:"offcanvas offcanvas-end creatNewTicketOff "+(t?"show":""),tabIndex:-1,style:{visibility:t?"visible":"hidden",width:"800px"},children:[(0,f.jsxs)("div",{className:"offcanvas-header",children:[(0,f.jsxs)("h5",{className:"offcanvas-title  fs-5 fw-bold text-primary",children:[v?"Update":"Create New"," Shift"]}),(0,f.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close",onClick:()=>m()})]}),(0,f.jsx)("div",{className:"offcanvas-body",children:(0,f.jsxs)("div",{className:"formPanel",children:[(0,f.jsxs)("div",{className:"row",children:[(0,f.jsx)("div",{className:"col-md-3",children:(0,f.jsx)("div",{className:"form-group mb-3",children:(0,f.jsxs)("label",{htmlFor:!0,children:["Shift Name",(0,f.jsx)("span",{className:"text-danger",children:"*"})]})})}),(0,f.jsx)("div",{className:"col-md-9",children:(0,f.jsxs)("div",{className:"form-group mb-3",children:[(0,f.jsx)("input",{type:"text",className:"form-control fs-7",placeholder:"Enter Shift Name",name:"shift_name",value:(null===I||void 0===I?void 0:I.shift_name)||"",onChange:e=>T(e)}),(null===_||void 0===_?void 0:_.shift_name)&&(0,f.jsx)(c.A,{text:_.shift_name})]})})]}),(0,f.jsxs)("div",{className:"row",children:[(0,f.jsx)("div",{className:"col-md-3",children:(0,f.jsx)("div",{className:"form-group mb-3",children:(0,f.jsxs)("label",{htmlFor:!0,children:["Shift Code",(0,f.jsx)("span",{className:"text-danger",children:"*"})]})})}),(0,f.jsx)("div",{className:"col-md-9",children:(0,f.jsxs)("div",{className:"form-group mb-3",children:[(0,f.jsx)("input",{type:"text",className:"form-control fs-7",placeholder:"Enter Shift Code",name:"shift_code",value:(null===(s=I.shift_code)||void 0===s?void 0:s.toUpperCase())||"",onChange:e=>T(e)}),(null===_||void 0===_?void 0:_.shift_code)&&(0,f.jsx)(c.A,{text:_.shift_code})]})})]}),(0,f.jsxs)("div",{className:"row",children:[(0,f.jsx)("div",{className:"col-md-3",children:(0,f.jsx)("div",{className:"form-group mb-3",children:(0,f.jsxs)("label",{htmlFor:!0,style:{position:"relative",top:"40px"},children:["Working Time",(0,f.jsx)("span",{className:"text-danger",children:"*"})]})})}),(0,f.jsx)("div",{className:"col-md-9",children:(0,f.jsx)("div",{className:"form-group mb-3",children:(0,f.jsxs)("div",{className:"row",children:[(0,f.jsxs)("div",{className:"form-group col-md",children:[(0,f.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Start time"}),(0,f.jsx)("span",{className:"text-danger",children:"*"}),(0,f.jsx)("input",{type:"time",name:"shift_start_time",value:I.shift_start_time,onChange:e=>T(e),className:"form-control",placeholder:"Enter start time"}),(null===_||void 0===_?void 0:_.shift_start_time)&&(0,f.jsx)(c.A,{text:_.shift_start_time})]}),(0,f.jsxs)("div",{className:"form-group col-md",children:[(0,f.jsx)("label",{htmlFor:"exampleInputEmail1",children:"End time"}),(0,f.jsx)("span",{className:"text-danger",children:"*"}),(0,f.jsx)("input",{type:"time",name:"shift_end_time",value:I.shift_end_time,onChange:e=>T(e),className:"form-control",placeholder:"Enter end time"}),(null===_||void 0===_?void 0:_.shift_end_time)&&(0,f.jsx)(c.A,{text:_.shift_end_time})]}),(0,f.jsxs)("div",{className:"form-group col-md",children:[(0,f.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Shift Hours"}),(0,f.jsx)("input",{type:"text",name:"",value:I.full_day_policy_time,readOnly:!0,className:"form-control",placeholder:"Shift Hours"})]})]})})})]}),(0,f.jsxs)("div",{className:"row",children:[(0,f.jsx)("div",{className:"col-md-3",children:(0,f.jsx)("div",{className:"form-group mb-3",children:(0,f.jsxs)("label",{htmlFor:!0,style:{position:"relative",top:"40px"},children:["Break Time",(0,f.jsx)("span",{className:"text-danger",children:"*"})]})})}),(0,f.jsx)("div",{className:"col-md-9",children:(0,f.jsx)("div",{className:"form-group mb-3",children:(0,f.jsxs)("div",{className:"row",children:[(0,f.jsxs)("div",{className:"form-group col-md",children:[(0,f.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Start time"}),(0,f.jsx)("span",{className:"text-danger",children:"*"}),(0,f.jsx)("input",{type:"time",name:"break_start_time",value:I.break_start_time,onChange:e=>T(e),className:"form-control",placeholder:"Enter start time"}),(null===_||void 0===_?void 0:_.break_start_time)&&(0,f.jsx)(c.A,{text:_.break_start_time})]}),(0,f.jsxs)("div",{className:"form-group col-md",children:[(0,f.jsx)("label",{htmlFor:"exampleInputEmail1",children:"End time"}),(0,f.jsx)("span",{className:"text-danger",children:"*"}),(0,f.jsx)("input",{type:"time",name:"break_end_time",value:I.break_end_time,onChange:e=>T(e),className:"form-control",placeholder:"Enter end time"}),(null===_||void 0===_?void 0:_.break_end_time)&&(0,f.jsx)(c.A,{text:_.break_end_time})]}),(0,f.jsxs)("div",{className:"form-group col-md",children:[(0,f.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Break Hours"}),(0,f.jsx)("input",{type:"text",name:"",value:R,readOnly:!0,className:"form-control",placeholder:"Break Hours"})]})]})})})]}),(0,f.jsxs)("div",{className:"row",children:[(0,f.jsx)("div",{className:"col-md-3",children:(0,f.jsx)("div",{className:"form-group mb-3",children:(0,f.jsxs)("label",{htmlFor:!0,style:{position:"relative",top:"40px"},children:["Punching Tolerance",(0,f.jsx)("span",{className:"text-danger",children:"*"})]})})}),(0,f.jsx)("div",{className:"col-md-9",children:(0,f.jsx)("div",{className:"form-group mb-3",children:(0,f.jsxs)("div",{className:"row",children:[(0,f.jsxs)("div",{className:"form-group col-md",children:[(0,f.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Early Coming Time"}),(0,f.jsx)("span",{className:"text-danger",children:"*"}),(0,f.jsx)(u.A,{name:"early_arrival_tolerance",value:I.early_arrival_tolerance,handleChange:T,totalHours:5,intervalMinutes:15}),(null===_||void 0===_?void 0:_.early_arrival_tolerance)&&(0,f.jsx)(c.A,{text:_.early_arrival_tolerance})]}),(0,f.jsxs)("div",{className:"form-group col-md",children:[(0,f.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Let Going Time"}),(0,f.jsx)("span",{className:"text-danger",children:"*"}),(0,f.jsx)(u.A,{name:"late_departure_tolerance",value:I.late_departure_tolerance,handleChange:T,totalHours:5,intervalMinutes:15}),(null===_||void 0===_?void 0:_.late_departure_tolerance)&&(0,f.jsx)(c.A,{text:_.late_departure_tolerance})]})]})})})]}),(0,f.jsxs)("div",{className:"row",children:[(0,f.jsx)("div",{className:"col-md-3",children:(0,f.jsx)("div",{className:"form-group mb-3",children:(0,f.jsxs)("label",{htmlFor:!0,style:{position:"relative",top:"40px"},children:["Grace Period",(0,f.jsx)("span",{className:"text-danger",children:"*"})]})})}),(0,f.jsx)("div",{className:"col-md-9",children:(0,f.jsx)("div",{className:"form-group mb-3",children:(0,f.jsxs)("div",{className:"row",children:[(0,f.jsxs)("div",{className:"form-group col-md",children:[(0,f.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Grace Start Time "}),(0,f.jsx)("span",{className:"text-danger",children:"*"}),(0,f.jsx)(u.A,{name:"grace_start_time",value:I.grace_start_time,handleChange:T,totalHours:5,intervalMinutes:15}),(null===_||void 0===_?void 0:_.grace_start_time)&&(0,f.jsx)(c.A,{text:_.grace_start_time})]}),(0,f.jsxs)("div",{className:"form-group col-md",children:[(0,f.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Grace End Time"}),(0,f.jsx)("span",{className:"text-danger",children:"*"}),(0,f.jsx)(u.A,{name:"grace_end_time",value:I.grace_end_time,handleChange:T,totalHours:5,intervalMinutes:15}),(null===_||void 0===_?void 0:_.grace_end_time)&&(0,f.jsx)(c.A,{text:_.grace_end_time})]})]})})})]}),(0,f.jsxs)("div",{className:"row",children:[(0,f.jsx)("div",{className:"col-md-3",children:(0,f.jsx)("div",{className:"form-group mb-3",children:(0,f.jsxs)("label",{htmlFor:!0,style:{position:"relative",top:"40px"},children:["Half/Full day policy",(0,f.jsx)("span",{className:"text-danger",children:"*"})]})})}),(0,f.jsx)("div",{className:"col-md-9",children:(0,f.jsx)("div",{className:"form-group mb-3",children:(0,f.jsxs)("div",{className:"row",children:[(0,f.jsxs)("div",{className:"form-group col-md",children:[(0,f.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Half day"}),(0,f.jsx)("span",{className:"text-danger",children:"*"}),(0,f.jsx)("input",{type:"time",name:"half_day_policy_time",value:I.half_day_policy_time,onChange:e=>T(e),className:"form-control",placeholder:"Enter end time"}),(null===_||void 0===_?void 0:_.half_day_policy_time)&&(0,f.jsx)(c.A,{text:_.half_day_policy_time})]}),(0,f.jsxs)("div",{className:"form-group col-md",children:[(0,f.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Full day"}),(0,f.jsx)("span",{className:"text-danger",children:"*"}),(0,f.jsx)("input",{type:"text",name:"full_day_policy_time",value:I.full_day_policy_time,onChange:e=>T(e),className:"form-control",readOnly:!0,placeholder:"Full day"}),(null===_||void 0===_?void 0:_.full_day_policy_time)&&(0,f.jsx)(c.A,{text:_.full_day_policy_time})]})]})})})]}),(0,f.jsxs)("div",{className:"row",children:[(0,f.jsx)("div",{className:"col-md-3",children:(0,f.jsx)("div",{className:"form-group mb-3",children:(0,f.jsxs)("label",{htmlFor:!0,children:["Shift Type",(0,f.jsx)("span",{className:"text-danger",children:"*"})]})})}),(0,f.jsx)("div",{className:"col-md-9",children:(0,f.jsxs)("div",{className:"form-group mb-3",children:[(0,f.jsxs)("select",{className:"form-select",required:!0,name:"shift_type",value:null===I||void 0===I?void 0:I.shift_type,onChange:e=>T(e),children:[(0,f.jsx)("option",{value:"",hidden:!0,selected:!0,children:"Select Required shift Type"}),(0,f.jsx)("option",{value:"morning",children:"Morning"}),(0,f.jsx)("option",{value:"night",children:"Night"})]}),(null===_||void 0===_?void 0:_.shift_type)&&(0,f.jsx)(c.A,{text:_.shift_type})]})})]}),(0,f.jsxs)("div",{className:"row",children:[(0,f.jsx)("div",{className:"col-md-3",children:(0,f.jsx)("div",{className:"form-group mb-3",children:(0,f.jsxs)("label",{htmlFor:!0,children:["Shift Color",(0,f.jsx)("span",{className:"text-danger",children:"*"})]})})}),(0,f.jsx)("div",{className:"col-md-9",children:(0,f.jsxs)("div",{className:"form-group mb-3",children:[(0,f.jsx)("input",{type:"color",className:"ColorData",placeholder:"Enter Short Name",name:"color",value:(null===I||void 0===I?void 0:I.color)||"",onChange:e=>T(e)}),(null===_||void 0===_?void 0:_.color)&&(0,f.jsx)(c.A,{text:_.color})]})})]}),(0,f.jsxs)("div",{className:"row",children:[(0,f.jsx)("div",{className:"col-md-3",children:(0,f.jsx)("div",{className:"form-group mb-3",children:(0,f.jsxs)("label",{htmlFor:!0,children:["is Active",(0,f.jsx)("span",{className:"text-danger",children:"*"})]})})}),(0,f.jsx)("div",{className:"col-md-9",children:(0,f.jsxs)("div",{className:"form-group mb-3",children:[(0,f.jsx)("input",{type:"checkbox",placeholder:"Is Active",checked:C,onChange:e=>A(!C)}),(null===_||void 0===_?void 0:_.is_active)&&(0,f.jsx)(c.A,{text:_.is_active})]})})]}),(0,f.jsx)("div",{className:"d-flex align-items-center justify-content-end gap-2",children:(0,f.jsx)(i.Sv,{type:"button",classNames:"btn btn-primary gradientBg",handleClick:e=>(async()=>{I.is_active=C;const e=await(0,o.i6)(r.PC,I);e.isValid?(y({}),v?(I._id=E,N(d.ce.updateShiftRequest(I)),m(),p()):(N(d.ce.addShiftRequest(I)),p())):(y(e.errors),console.log(e.errors,"formattedErrors"))})(),text:(v?"Update":"Create")+" Shift"})})]})})]})})},x=e=>{const{card:s,setEditShift:t,openCreateShiftModel:a,setDeletShift:l,setActivebtn:i}=e;return(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)("div",{className:"dropdown",children:[(0,f.jsx)("button",{className:"btn dropdownDots",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:(0,f.jsx)("img",{src:"images/dotvertical.svg",alt:"",width:25})}),(0,f.jsxs)("ul",{className:"dropdown-menu",children:[(0,f.jsx)("li",{children:(0,f.jsx)("button",{className:"dropdown-item border-bottom",onClick:()=>(a(),void t(s)),children:"Edit Shift"})}),1!=s.is_default&&(0,f.jsx)("li",{children:1==s.is_active?(0,f.jsx)("button",{className:"dropdown-item border-bottom",onClick:()=>i(s),children:"Set as Inactive"}):(0,f.jsx)("button",{className:"dropdown-item border-bottom",onClick:()=>i(s),children:"Set as active"})}),(0,f.jsx)("li",{children:(0,f.jsx)("button",{className:"dropdown-item",onClick:()=>l(s),children:"Delete Shift"})})]})]})})},p=e=>{let{card:s,index:t,setEditShift:i,openCreateShiftModel:d,setDeletShift:n,setShiftData:r,setActivebtn:o,editMode:c}=e;(0,l.wA)();const[m,h]=(0,a.useState)([0]);return(0,f.jsxs)("li",{className:"nav-item",style:{backgroundColor:"#FFFFFF30",marginRight:"10px"},children:[(0,f.jsxs)("a",{href:"#shiftTab1","data-bs-toggle":"tab",className:"nav-link w-100 "+(m.includes(t)?"active":""),onClick:e=>((e,s)=>{r(e),h([s])})(s,t),children:[(0,f.jsxs)("span",{children:[null===s||void 0===s?void 0:s.shift_name," ",null===(null===s||void 0===s?void 0:s.shift_code)||void 0===(null===s||void 0===s?void 0:s.shift_code)?"":`(${null===s||void 0===s?void 0:s.shift_code})`]}),(0,f.jsxs)("strong",{children:[`${null===s||void 0===s?void 0:s.shift_start_time} - ${null===s||void 0===s?void 0:s.shift_end_time}`," "]})]}),void 0!==(null===s||void 0===s?void 0:s.shift_code)&&c&&(0,f.jsx)(x,{card:s,setEditShift:i,openCreateShiftModel:d,setDeletShift:n,setActivebtn:o})]},null===s||void 0===s?void 0:s.id)},j=e=>{const{getAllShift:s,setEditShift:t,openCreateShiftModel:l,setDeletShift:i,setShiftData:d,setActivebtn:n,editMode:r}=e,[o,c]=(0,a.useState)(null);return(0,a.useEffect)((()=>{let e=document.querySelector(".qualityServicetab");c(e)}),[o]),(0,f.jsxs)("div",{className:"carousel slide ",style:{overflow:"hidden"},children:[(0,f.jsx)("ul",{className:"nav nav-tabs shiftListing qualityServicetab border-0",style:{overflowX:"hidden",scrollBehavior:"smooth",marginRight:"70px",marginLeft:"70px"},children:s&&(null===s||void 0===s?void 0:s.map(((e,s)=>(0,f.jsx)(p,{card:e,index:s,setEditShift:t,openCreateShiftModel:l,setDeletShift:i,setShiftData:d,setActivebtn:n,editMode:r},null===e||void 0===e?void 0:e.id))))}),(0,f.jsxs)("button",{className:"carousel-control-prev scrollbtn",type:"button","data-bs-target":"#carouselExampleCaptions","data-bs-slide":"prev",onClick:()=>{let e=o.clientWidth;o.scrollLeft=o.scrollLeft-e},children:[(0,f.jsx)("span",{className:"carousel-control-prev-icon ",style:{position:"absolute",left:"0px"},"aria-hidden":"true"}),(0,f.jsx)("span",{className:"visually-hidden",children:"Previous"})]}),(0,f.jsxs)("button",{className:"carousel-control-next scrollbtn",type:"button","data-bs-target":"#carouselExampleCaptions","data-bs-slide":"next",onClick:()=>{let e=o.clientWidth;o.scrollLeft=o.scrollLeft+e},children:[(0,f.jsx)("span",{style:{position:"absolute",right:"0px"},className:"carousel-control-next-icon","aria-hidden":"true"}),(0,f.jsx)("span",{className:"visually-hidden",children:"Next"})]})]})};var g=t(46170),b=t(73216);const _=e=>{const s=(0,b.Zp)(),{getAllShift:t,getAllShiftFunction:l,setDeletShift:i,setShiftData:d,setActivebtn:n,editMode:r,setEditMode:o,openUploadShiftModel:c,setOpenUploadShiftModel:m}=e,[h,u]=(0,a.useState)(!1),[x,p]=(0,a.useState)(!1),[_,y]=(0,a.useState)(""),N=()=>{u(!h)},S=()=>{s("/shift-setting")};return(0,f.jsxs)("div",{className:"shiftSchedule mb-3",children:[(0,f.jsxs)("div",{className:"cardHead d-flex justify-content-between gap-3",children:[(0,f.jsx)("h3",{className:"mb-0",children:"Shift Schedule (Weekly)"}),(0,f.jsxs)("div",{children:[r&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("button",{className:"btn btn-primary me-2",onClick:()=>m(!c),children:"Shift Bulk Upload"}),(0,f.jsx)("button",{className:"btn btn-primary me-2",onClick:()=>N(),children:"Create Shift"}),(0,f.jsx)("button",{className:"btn btn-primary me-2",onClick:()=>S(),children:"Setting"})]}),(0,f.jsx)("button",{className:"btn btn-primary ",onClick:()=>o(!r),children:"Edit"})]})]}),(0,f.jsx)(v,{openCreateShiftModel:N,openModel:h,editShift:_,setEditShift:y,getAllShiftFunction:l}),(0,f.jsx)(j,{getAllShift:t,setEditShift:y,openCreateShiftModel:N,setDeletShift:i,setActivebtn:n,setShiftData:d,editMode:r}),(0,f.jsx)(g.A,{openAddCalendar:x,openAddCalendarModel:S})]})};var y=t(52027);const N=e=>{const{openShiftModel:s,openShiftModelfunction:t,editShift:i,shiftData:r}=e,{addShiftConfigurationPending:o,addShiftConfigurationRes:m,addShiftConfigurationError:h,getShiftByIdPending:v,getShiftByIdRes:x,getShiftByIdError:p,getAllShiftCalendarError:j,getAllShiftCalendarRes:g,getAllShiftCalendarPending:b}=(0,l.d4)((e=>e.shift)),[_,y]=(0,a.useState)({}),[N,S]=(0,a.useState)(!1),[k,E]=(0,a.useState)(!1),w=(0,l.wA)(),[C,A]=(0,a.useState)(""),[D,M]=(0,a.useState)(""),[R,F]=(0,a.useState)(),[I,O]=(0,a.useState)([]),[T,Y]=(0,a.useState)({shift_id:null===r||void 0===r?void 0:r.id,over_time:"",minimum_ot_hours:"",maximum_ot_hours:"",calendar_id:D,is_default:k});(0,a.useEffect)((()=>{if(!o){if(h)return void n.oR.error(null===h||void 0===h?void 0:h.errorMessage);var e,s;if(m)if(200===(null===m||void 0===m||null===(e=m.data)||void 0===e?void 0:e.code))n.oR.success(null===m||void 0===m||null===(s=m.data)||void 0===s?void 0:s.msg),t(),w(d.ce.handleClearShiftStore("HANDLE_CLEAR_ADD_SHIFT_CONFIGURATION_STORE"))}}),[m,h,o]),(0,a.useEffect)((()=>{if(!v){if(p)return void n.oR.error(null===p||void 0===p?void 0:p.errorMessage);var e;if(x)if(200===(null===x||void 0===x||null===(e=x.data)||void 0===e?void 0:e.code)){var s,t;let e=null===x||void 0===x||null===(s=x.data)||void 0===s||null===(t=s.data)||void 0===t?void 0:t.data;S(null===e||void 0===e?void 0:e.is_ot_time),Y({minimum_ot_hours:null===e||void 0===e?void 0:e.minimum_ot_hours,maximum_ot_hours:null===e||void 0===e?void 0:e.maximum_ot_hours}),M(e.calendar_id),E(null===e||void 0===e?void 0:e.is_default)}}}),[x,p,v]);const L=e=>{const{name:s,value:t}=e.target;Y({...T,[s]:t}),y((e=>({...e,[s]:void 0})))};(0,a.useEffect)((()=>{0==s&&P()}),[s]),(0,a.useEffect)((()=>{B()}),[]);const B=()=>{w(d.ce.getAllShiftCalendarRequest())};(0,a.useEffect)((()=>{if(!b){if(j)return void O([]);var e,s,t,a;if(g)if(200==(null===g||void 0===g||null===(e=g.data)||void 0===e?void 0:e.code))O(null===g||void 0===g||null===(s=g.data)||void 0===s||null===(t=s.data)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.data)}}),[b,g,j]);const P=()=>{Y({shift_id:"",over_time:"",minimum_ot_hours:"",maximum_ot_hours:"",working_days:"",alternative_saturday_off:"",week_off:""}),y({}),S(!1),E(!1),A(""),F([]),M([])};return(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)("div",{className:"offcanvas offcanvas-end applyLeaveCanvas "+(s?"show":""),tabIndex:-1,style:{visibility:s?"visible":"hidden",width:"800px"},children:[(0,f.jsxs)("div",{className:"offcanvas-header",children:[(0,f.jsx)("h5",{className:"offcanvas-title  fs-5 fw-bold text-primary",children:"Shift Management"}),(0,f.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close",onClick:()=>t()})]}),(0,f.jsx)("div",{className:"offcanvas-body",children:(0,f.jsx)("div",{className:"table-responsive tableDiv shiftmanagementtbl",children:(0,f.jsx)("table",{className:"table",children:(0,f.jsxs)("tbody",{children:[(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{width:"30%",children:(0,f.jsxs)("div",{className:"d-flex align-items-center",children:[(0,f.jsx)("span",{className:"srNum",children:"1"}),(0,f.jsx)("b",{className:"ps-3 text-primary",children:" Shift start time"})]})}),(0,f.jsx)("td",{children:null===r||void 0===r?void 0:r.shift_start_time})]}),(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{children:(0,f.jsxs)("div",{className:"d-flex align-items-center",children:[(0,f.jsx)("span",{className:"srNum",children:"2"}),(0,f.jsx)("b",{className:"ps-3 text-primary",children:" Shift start time"})]})}),(0,f.jsx)("td",{children:null===r||void 0===r?void 0:r.shift_end_time})]}),(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{children:(0,f.jsxs)("div",{className:"d-flex align-items-center",children:[(0,f.jsx)("span",{className:"srNum",children:"3"}),(0,f.jsx)("b",{className:"ps-3 text-primary",children:" Over Time (OT)"})]})}),(0,f.jsx)("td",{children:(0,f.jsx)("input",{type:"checkbox",placeholder:"Is Active",checked:N,onChange:e=>S(!N)})})]}),1==N&&(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{children:(0,f.jsx)("div",{className:"d-flex align-items-center",children:(0,f.jsx)("b",{className:"ps-3 text-primary",children:" "})})}),(0,f.jsx)("td",{children:(0,f.jsxs)("div",{className:"row",children:[(0,f.jsxs)("div",{className:"form-group col-md",children:[(0,f.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Minimum OT hours par days"}),(0,f.jsx)(u.A,{name:"minimum_ot_hours",value:T.minimum_ot_hours,handleChange:L,totalHours:5,intervalMinutes:15}),(null===_||void 0===_?void 0:_.minimum_ot_hours)&&(0,f.jsx)(c.A,{text:_.minimum_ot_hours})]}),(0,f.jsxs)("div",{className:"form-group col-md",children:[(0,f.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Maximum OT hours par days"}),(0,f.jsx)(u.A,{name:"maximum_ot_hours",value:T.maximum_ot_hours,handleChange:L,totalHours:5,intervalMinutes:15}),(null===_||void 0===_?void 0:_.maximum_ot_hours)&&(0,f.jsx)(c.A,{text:_.maximum_ot_hours})]})]})})]}),(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{children:(0,f.jsxs)("div",{className:"d-flex align-items-center",children:[(0,f.jsx)("span",{className:"srNum",children:"4"}),(0,f.jsx)("b",{className:"ps-3 text-primary",children:" Is Default"})]})}),(0,f.jsx)("td",{children:(0,f.jsx)("input",{type:"checkbox",placeholder:"Is Active",checked:k,onChange:e=>E(!k)})})]}),(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{children:(0,f.jsxs)("div",{className:"d-flex align-items-center",children:[(0,f.jsx)("span",{className:"srNum",children:"5"}),(0,f.jsx)("b",{className:"ps-3 text-primary",children:"add calendar"})]})}),(0,f.jsx)("td",{children:(0,f.jsx)("div",{className:"d-flex workingradio",children:(0,f.jsx)("div",{className:"shiftInpt",children:(0,f.jsxs)("select",{className:"form-select",required:!0,name:"shift_type",value:D,onChange:e=>{return s=e.target.value,void M(s);var s},children:[(0,f.jsx)("option",{value:"",hidden:!0,selected:!0,children:"Select Required Working Days"}),I&&(null===I||void 0===I?void 0:I.map((e=>(0,f.jsx)("option",{value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.title}))))]})})})})]})]})})})}),(0,f.jsx)("div",{className:"offcanvas-footer",children:(0,f.jsx)("div",{className:"d-flex align-items-center justify-content-end gap-3",children:(0,f.jsx)("button",{type:"button",className:"btn btn-primary gradientBg",onClick:()=>(async()=>{T.shift_id=null===r||void 0===r?void 0:r.id,T.is_OT_time=N,T.calendar_id=D,y({}),w(d.ce.addShiftConfigurationRequest(T))})(),children:"Submit"})})})]})})};!function(e){let{insertAt:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e||typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css","top"===s&&t.firstChild?t.insertBefore(a,t.firstChild):t.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}(".rmsc{--rmsc-main: #4285f4;--rmsc-hover: #f1f3f5;--rmsc-selected: #e2e6ea;--rmsc-border: #ccc;--rmsc-gray: #aaa;--rmsc-bg: #fff;--rmsc-p: 10px;--rmsc-radius: 4px;--rmsc-h: 38px}.rmsc *{box-sizing:border-box;transition:all .2s ease}.rmsc .gray{color:var(--rmsc-gray)}.rmsc .dropdown-content{position:absolute;z-index:1;top:100%;width:100%;padding-top:8px}.rmsc .dropdown-content .panel-content{overflow:hidden;border-radius:var(--rmsc-radius);background:var(--rmsc-bg);box-shadow:0 0 0 1px #0000001a,0 4px 11px #0000001a}.rmsc .dropdown-container{position:relative;outline:0;background-color:var(--rmsc-bg);border:1px solid var(--rmsc-border);border-radius:var(--rmsc-radius)}.rmsc .dropdown-container[aria-disabled=true]:focus-within{box-shadow:var(--rmsc-gray) 0 0 0 1px;border-color:var(--rmsc-gray)}.rmsc .dropdown-container:focus-within{box-shadow:var(--rmsc-main) 0 0 0 1px;border-color:var(--rmsc-main)}.rmsc .dropdown-heading{position:relative;padding:0 var(--rmsc-p);display:flex;align-items:center;width:100%;height:var(--rmsc-h);cursor:default;outline:0}.rmsc .dropdown-heading .dropdown-heading-value{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;flex:1}.rmsc .clear-selected-button{cursor:pointer;background:none;border:0;padding:0;display:flex}.rmsc .options{max-height:260px;overflow-y:auto;margin:0;padding-left:0}.rmsc .options li{list-style:none;margin:0}.rmsc .select-item{box-sizing:border-box;cursor:pointer;display:block;padding:var(--rmsc-p);outline-offset:-1px;outline-color:var(--rmsc-primary)}.rmsc .select-item:hover{background:var(--rmsc-hover)}.rmsc .select-item.selected{background:var(--rmsc-selected)}.rmsc .no-options{padding:var(--rmsc-p);text-align:center;color:var(--rmsc-gray)}.rmsc .search{width:100%;position:relative;border-bottom:1px solid var(--rmsc-border)}.rmsc .search input{background:none;height:var(--rmsc-h);padding:0 var(--rmsc-p);width:100%;outline:0;border:0;font-size:1em}.rmsc .search input:focus{background:var(--rmsc-hover)}.rmsc .search-clear-button{cursor:pointer;position:absolute;top:0;right:0;bottom:0;background:none;border:0;padding:0 calc(var(--rmsc-p) / 2)}.rmsc .search-clear-button [hidden]{display:none}.rmsc .item-renderer{display:flex;align-items:baseline}.rmsc .item-renderer input{margin:0 5px 0 0}.rmsc .item-renderer.disabled{opacity:.5}.rmsc .spinner{animation:rotate 2s linear infinite}.rmsc .spinner .path{stroke:var(--rmsc-border);stroke-width:4px;stroke-linecap:round;animation:dash 1.5s ease-in-out infinite}@keyframes rotate{to{transform:rotate(360deg)}}@keyframes dash{0%{stroke-dasharray:1,150;stroke-dashoffset:0}50%{stroke-dasharray:90,150;stroke-dashoffset:-35}to{stroke-dasharray:90,150;stroke-dashoffset:-124}}\n");var S={allItemsAreSelected:"All items are selected.",clearSearch:"Clear Search",clearSelected:"Clear Selected",noOptions:"No options",search:"Search",selectAll:"Select All",selectAllFiltered:"Select All (Filtered)",selectSomeItems:"Select...",create:"Create"},k={value:[],hasSelectAll:!0,className:"multi-select",debounceDuration:200,options:[]},E=a.createContext({}),w=e=>{let{props:s,children:t}=e,[l,i]=(0,a.useState)(s.options);return(0,a.useEffect)((()=>{i(s.options)}),[s.options]),(0,f.jsx)(E.Provider,{value:{t:e=>{var t;return(null==(t=s.overrideStrings)?void 0:t[e])||S[e]},...k,...s,options:l,setOptions:i},children:t})},C=()=>a.useContext(E);var A={when:!0,eventTypes:["keydown"]};function D(e,s,t){let l=(0,a.useMemo)((()=>Array.isArray(e)?e:[e]),[e]),i=Object.assign({},A,t),{when:d,eventTypes:n}=i,r=(0,a.useRef)(s),{target:o}=i;(0,a.useEffect)((()=>{r.current=s}));let c=(0,a.useCallback)((e=>{l.some((s=>e.key===s||e.code===s))&&r.current(e)}),[l]);(0,a.useEffect)((()=>{if(d&&typeof window<"u"){let e=o?o.current:window;return n.forEach((s=>{e&&e.addEventListener(s,c)})),()=>{n.forEach((s=>{e&&e.removeEventListener(s,c)}))}}}),[d,n,l,o,s])}var M={ARROW_DOWN:"ArrowDown",ARROW_UP:"ArrowUp",ENTER:"Enter",ESCAPE:"Escape",SPACE:"Space"};var R=()=>(0,f.jsxs)("svg",{width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"dropdown-search-clear-icon gray",children:[(0,f.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,f.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),F=e=>{let{checked:s,option:t,onClick:a,disabled:l}=e;return(0,f.jsxs)("div",{className:"item-renderer "+(l?"disabled":""),children:[(0,f.jsx)("input",{type:"checkbox",onChange:a,checked:s,tabIndex:-1,disabled:l}),(0,f.jsx)("span",{children:t.label})]})},I=e=>{let{itemRenderer:s=F,option:t,checked:l,tabIndex:i,disabled:d,onSelectionChanged:n,onClick:r}=e,o=(0,a.useRef)(),c=()=>{d||n(!l)};return D([M.ENTER,M.SPACE],(e=>{c(),e.preventDefault()}),{target:o}),(0,f.jsx)("label",{className:"select-item "+(l?"selected":""),role:"option","aria-selected":l,tabIndex:i,ref:o,children:(0,f.jsx)(s,{option:t,checked:l,onClick:e=>{c(),r(e)},disabled:d})})},O=e=>{let{options:s,onClick:t,skipIndex:a}=e,{disabled:l,value:i,onChange:d,ItemRenderer:n}=C();return(0,f.jsx)(f.Fragment,{children:s.map(((e,s)=>{let r=s+a;return(0,f.jsx)("li",{children:(0,f.jsx)(I,{tabIndex:r,option:e,onSelectionChanged:s=>((e,s)=>{l||d(s?[...i,e]:i.filter((s=>s.value!==e.value)))})(e,s),checked:!!i.find((s=>s.value===e.value)),onClick:e=>t(e,r),itemRenderer:n,disabled:e.disabled||l})},(null==e?void 0:e.key)||s)}))})},T=()=>{let{t:e,onChange:s,options:t,setOptions:l,value:i,filterOptions:d,ItemRenderer:n,disabled:r,disableSearch:o,hasSelectAll:c,ClearIcon:m,debounceDuration:h,isCreatable:u,onCreateOption:v}=C(),x=(0,a.useRef)(),p=(0,a.useRef)(),[j,g]=(0,a.useState)(""),[b,_]=(0,a.useState)(t),[y,N]=(0,a.useState)(""),[S,k]=(0,a.useState)(0),E=(0,a.useCallback)(((e,s)=>{let t;return function(){for(var a=arguments.length,l=new Array(a),i=0;i<a;i++)l[i]=arguments[i];clearTimeout(t),t=setTimeout((()=>{e.apply(null,l)}),s)}})((e=>N(e)),h),[]),w=(0,a.useMemo)((()=>{let e=0;return o||(e+=1),c&&(e+=1),e}),[o,c]),A={label:e(j?"selectAllFiltered":"selectAll"),value:""},F=()=>{var e;N(""),g(""),null==(e=null==p?void 0:p.current)||e.focus()},T=e=>k(e);D([M.ARROW_DOWN,M.ARROW_UP],(e=>{switch(e.code){case M.ARROW_UP:L(-1);break;case M.ARROW_DOWN:L(1);break;default:return}e.stopPropagation(),e.preventDefault()}),{target:x});let Y=async()=>{let e={label:j,value:j,__isNew__:!0};v&&(e=await v(j)),l([e,...t]),F(),s([...i,e])},L=e=>{let s=S+e;s=Math.max(0,s),s=Math.min(s,t.length+Math.max(w-1,0)),k(s)};(0,a.useEffect)((()=>{var e,s;null==(s=null==(e=null==x?void 0:x.current)?void 0:e.querySelector(`[tabIndex='${S}']`))||s.focus()}),[S]);let[B,P]=(0,a.useMemo)((()=>{let e=b.filter((e=>!e.disabled));return[e.every((e=>-1!==i.findIndex((s=>s.value===e.value)))),0!==e.length]}),[b,i]);(0,a.useEffect)((()=>{(async()=>d?await d(t,y):function(e,s){return s?e.filter((e=>{let{label:t,value:a}=e;return null!=t&&null!=a&&t.toLowerCase().includes(s.toLowerCase())})):e}(t,y))().then(_)}),[y,t]);let H=(0,a.useRef)();D([M.ENTER],Y,{target:H});let W=u&&j&&!b.some((e=>(null==e?void 0:e.value)===j));return(0,f.jsxs)("div",{className:"select-panel",role:"listbox",ref:x,children:[!o&&(0,f.jsxs)("div",{className:"search",children:[(0,f.jsx)("input",{placeholder:e("search"),type:"text","aria-describedby":e("search"),onChange:e=>{E(e.target.value),g(e.target.value),k(0)},onFocus:()=>{k(0)},value:j,ref:p,tabIndex:0}),(0,f.jsx)("button",{type:"button",className:"search-clear-button",hidden:!j,onClick:F,"aria-label":e("clearSearch"),children:m||(0,f.jsx)(R,{})})]}),(0,f.jsxs)("ul",{className:"options",children:[c&&P&&(0,f.jsx)(I,{tabIndex:1===w?0:1,checked:B,option:A,onSelectionChanged:e=>{let a=(e=>{let s=b.filter((e=>!e.disabled)).map((e=>e.value));if(e){let e=[...i.map((e=>e.value)),...s];return(d?b:t).filter((s=>e.includes(s.value)))}return i.filter((e=>!s.includes(e.value)))})(e);s(a)},onClick:()=>T(1),itemRenderer:n,disabled:r}),b.length?(0,f.jsx)(O,{skipIndex:w,options:b,onClick:(e,s)=>T(s)}):W?(0,f.jsx)("li",{onClick:Y,className:"select-item creatable",tabIndex:1,ref:H,children:`${e("create")} "${j}"`}):(0,f.jsx)("li",{className:"no-options",children:e("noOptions")})]})]})},Y=e=>{let{expanded:s}=e;return(0,f.jsx)("svg",{width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"dropdown-heading-dropdown-arrow gray",children:(0,f.jsx)("path",{d:s?"M18 15 12 9 6 15":"M6 9L12 15 18 9"})})},L=()=>{let{t:e,value:s,options:t,valueRenderer:a}=C(),l=0===s.length,i=s.length===t.length,d=a&&a(s,t);return l?(0,f.jsx)("span",{className:"gray",children:d||e("selectSomeItems")}):(0,f.jsx)("span",{children:d||(i?e("allItemsAreSelected"):s.map((e=>e.label)).join(", "))})},B=e=>{let{size:s=24}=e;return(0,f.jsx)("span",{style:{width:s,marginRight:"0.2rem"},children:(0,f.jsx)("svg",{width:s,height:s,className:"spinner",viewBox:"0 0 50 50",style:{display:"inline",verticalAlign:"middle"},children:(0,f.jsx)("circle",{cx:"25",cy:"25",r:"20",fill:"none",className:"path"})})})},P=()=>{let{t:e,onMenuToggle:s,ArrowRenderer:t,shouldToggleOnHover:l,isLoading:i,disabled:d,onChange:n,labelledBy:r,value:o,isOpen:c,defaultIsOpen:m,ClearSelectedIcon:h,closeOnChangedValue:u}=C();(0,a.useEffect)((()=>{u&&j(!1)}),[o]);let[v,x]=(0,a.useState)(!0),[p,j]=(0,a.useState)(m),[g,b]=(0,a.useState)(!1),_=t||Y,y=(0,a.useRef)();(function(e,s){let t=(0,a.useRef)(!1);(0,a.useEffect)((()=>{t.current?e():t.current=!0}),s)})((()=>{s&&s(p)}),[p]),(0,a.useEffect)((()=>{void 0===m&&"boolean"==typeof c&&(x(!1),j(c))}),[c]);D([M.ENTER,M.ARROW_DOWN,M.SPACE,M.ESCAPE],(e=>{var s;["text","button"].includes(e.target.type)&&[M.SPACE,M.ENTER].includes(e.code)||(v&&(e.code===M.ESCAPE?(j(!1),null==(s=null==y?void 0:y.current)||s.focus()):j(!0)),e.preventDefault())}),{target:y});let N=e=>{v&&l&&j(e)};return(0,f.jsxs)("div",{tabIndex:0,className:"dropdown-container","aria-labelledby":r,"aria-expanded":p,"aria-readonly":!0,"aria-disabled":d,ref:y,onFocus:()=>!g&&b(!0),onBlur:e=>{!e.currentTarget.contains(e.relatedTarget)&&v&&(b(!1),j(!1))},onMouseEnter:()=>N(!0),onMouseLeave:()=>N(!1),children:[(0,f.jsxs)("div",{className:"dropdown-heading",onClick:()=>{v&&j(!i&&!d&&!p)},children:[(0,f.jsx)("div",{className:"dropdown-heading-value",children:(0,f.jsx)(L,{})}),i&&(0,f.jsx)(B,{}),o.length>0&&null!==h&&(0,f.jsx)("button",{type:"button",className:"clear-selected-button",onClick:e=>{e.stopPropagation(),n([]),v&&j(!1)},disabled:d,"aria-label":e("clearSelected"),children:h||(0,f.jsx)(R,{})}),(0,f.jsx)(_,{expanded:p})]}),p&&(0,f.jsx)("div",{className:"dropdown-content",children:(0,f.jsx)("div",{className:"panel-content",children:(0,f.jsx)(T,{})})})]})},H=e=>(0,f.jsx)(w,{props:e,children:(0,f.jsx)("div",{className:`rmsc ${e.className||"multi-select"}`,children:(0,f.jsx)(P,{})})}),W=t(78737);const $=e=>{const s=(0,l.wA)(),{openAssignShiftModel:t,assignShiftModelOpen:i,shiftData:r,getAllShiftDetails:o,setOpenEditModel:c}=e,{getAllEmployeePending:m,getAllEmployeeRes:u,getAllEmployeeError:v}=(0,l.d4)((e=>e.employee)),{assignShiftPending:x,assignShiftRes:p,assignShiftError:j}=(0,l.d4)((e=>e.shift)),[g,b]=(0,a.useState)(1),[_,N]=(0,a.useState)({}),[S,k]=(0,a.useState)([]),[E,w]=(0,a.useState)([]),[C,A]=(0,a.useState)(""),[D,M]=(0,a.useState)(""),[R,F]=(0,a.useState)({assignment_type:"",shift_id:"",employee_id:"",start_date:"",end_date:""});(0,a.useEffect)((()=>{I()}),[]),(0,a.useEffect)((()=>{if(!x){if(j)return void n.oR.error(null===j||void 0===j?void 0:j.errorMessage);var e;if(p)if(200===(null===p||void 0===p?void 0:p.code))n.oR.success(null===p||void 0===p||null===(e=p.data)||void 0===e?void 0:e.msg),i(),T(),o(r),c(!1),s(d.ce.handleClearShiftStore("HANDLE_CLEAR_ASSIGN_SHIFT_STORE"))}}),[p,j,x]);const I=()=>{const e={page:g,limit:y.X$.limit};s(d.mM.getAllEmployeeRequest(e))};(0,a.useEffect)((()=>{if(!m){if(v)return;if(u&&(null==u&&I(),200===(null===u||void 0===u?void 0:u.code))){const e=null===u||void 0===u?void 0:u.data;k(e)}}}),[u,v,m]);const O=e=>{const{name:s,value:t}=e.target;F({...R,[s]:t}),N((e=>({...e,[s]:void 0})))},T=()=>{F({assignment_type:"",shift_id:"",employee_id:"",start_date:"",end_date:""}),w([])};return(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)("div",{className:"offcanvas offcanvas-end applyLeaveCanvas "+(t?"show":""),tabIndex:-1,style:{visibility:t?"visible":"hidden",width:"700px"},children:[(0,f.jsxs)("div",{className:"offcanvas-header",children:[(0,f.jsx)("h5",{className:"offcanvas-title  fs-5 fw-bold text-primary",children:"Assign Shift"}),(0,f.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close",onClick:()=>i()})]}),(0,f.jsx)("div",{className:"offcanvas-body",children:(0,f.jsxs)("div",{className:"employeeAdd rounded-0 border-0",children:[(0,f.jsx)("div",{className:"employeeAddheader justify-content-between align-items-center border-0 m-0 mb-3",children:(0,f.jsxs)("div",{className:"row",children:[(0,f.jsx)("div",{className:"col-md-3",children:(0,f.jsx)("div",{className:"form-group mb-3",children:(0,f.jsx)("label",{htmlFor:!0,children:(0,f.jsx)("b",{children:"Shift Name"})})})}),(0,f.jsx)("div",{className:"col-md-9",children:(0,f.jsxs)("div",{className:"form-group mb-3",children:[r.shift_name," (",r.shift_start_time," - ",r.shift_end_time,")"]})})]})}),(0,f.jsxs)("div",{className:"row",children:[(0,f.jsx)("div",{className:"col-md-3",children:(0,f.jsx)("div",{className:"form-group mb-3",children:(0,f.jsxs)("label",{htmlFor:!0,children:["Shift Assignment Type",(0,f.jsx)("span",{className:"text-danger",children:"*"})]})})}),(0,f.jsx)("div",{className:"col-md-9",children:(0,f.jsx)("div",{className:"form-group mb-3",children:(0,f.jsxs)("select",{className:"form-select",required:!0,name:"assignment_type",onChange:e=>O(e),children:[(0,f.jsx)("option",{value:"",hidden:!0,selected:!0,children:"Select Shift Assignment Type"}),(0,f.jsx)("option",{value:"default",children:"Default"}),(0,f.jsx)("option",{value:"monthly",children:"Monthly"}),(0,f.jsx)("option",{value:"temporary",children:"Temporary"})]})})})]}),"monthly"===(null===R||void 0===R?void 0:R.assignment_type)&&(0,f.jsxs)("div",{className:"row",children:[(0,f.jsx)("div",{className:"col-md-3",children:(0,f.jsx)("div",{className:"form-group mb-3",children:(0,f.jsxs)("label",{htmlFor:!0,style:{position:"relative",top:"30px"},children:["Shift Range",(0,f.jsx)("span",{className:"text-danger",children:"*"})]})})}),(0,f.jsx)("div",{className:"col-md-9",children:(0,f.jsx)("div",{className:"form-group mb-3",children:(0,f.jsx)("div",{className:"row",children:(0,f.jsxs)("div",{className:"form-group col-md",children:[(0,f.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Select Month"}),(0,f.jsx)("span",{className:"text-danger",children:"*"}),(0,f.jsx)("input",{type:"month",name:"start_date",onChange:e=>O(e),className:"form-control",placeholder:"Enter start time"})]})})})})]}),"default"!==(null===R||void 0===R?void 0:R.assignment_type)&&"monthly"!==(null===R||void 0===R?void 0:R.assignment_type)&&(0,f.jsxs)("div",{className:"row",children:[(0,f.jsx)("div",{className:"col-md-3",children:(0,f.jsx)("div",{className:"form-group mb-3",children:(0,f.jsxs)("label",{htmlFor:!0,style:{position:"relative",top:"30px"},children:["Shift Range",(0,f.jsx)("span",{className:"text-danger",children:"*"})]})})}),(0,f.jsx)("div",{className:"col-md-9",children:(0,f.jsx)("div",{className:"form-group mb-3",children:(0,f.jsxs)("div",{className:"row",children:[(0,f.jsxs)("div",{className:"form-group col-md",children:[(0,f.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Start Date"}),(0,f.jsx)("span",{className:"text-danger",children:"*"}),(0,f.jsx)("input",{type:"date",name:"start_date",onChange:e=>O(e),className:"form-control",placeholder:"Enter start time"})]}),(0,f.jsxs)("div",{className:"form-group col-md",children:[(0,f.jsx)("label",{htmlFor:"exampleInputEmail1",children:"End Date"}),(0,f.jsx)("span",{className:"text-danger",children:"*"}),(0,f.jsx)("input",{type:"date",name:"end_date",onChange:e=>O(e),min:h()(null===R||void 0===R?void 0:R.start_date).format("YYYY-MM-DD"),className:"form-control",placeholder:"Enter end time"})]})]})})})]}),(0,f.jsxs)("div",{className:"row",children:[(0,f.jsx)("div",{className:"col-md-3",children:(0,f.jsx)("div",{className:"form-group mb-3",children:(0,f.jsxs)("label",{htmlFor:!0,children:["Select Employee",(0,f.jsx)("span",{className:"text-danger",children:"*"})]})})}),(0,f.jsx)("div",{className:"col-md-9",children:(0,f.jsx)("div",{className:"form-group mb-3",children:(0,f.jsx)(H,{options:S.map((e=>(e.label=e.label,e.value=e.value,e.emp_user_id=e.id,e))),value:E,onChange:w,labelledBy:"Select Employee"})})})]})]})}),(0,f.jsx)("div",{className:"offcanvas-footer",children:(0,f.jsx)("div",{className:"d-flex align-items-center justify-content-end gap-3",children:(0,f.jsx)("button",{type:"button",className:"btn btn-primary gradientBg",onClick:()=>{R.shift_id=null===r||void 0===r?void 0:r.id,R.employee_id=null===E||void 0===E?void 0:E.map((e=>null===e||void 0===e?void 0:e.value)),N({}),s(d.ce.assignShiftRequest(R))},children:"Assign"})})})]})})},q=e=>{const{openAddWeekOffModel:s,addWeekOffModelOpen:t,editShift:i,shiftData:r,getWeek:o,getAllShiftDetails:c}=e,m=(0,l.wA)(),{getEmployeebyShiftidPending:h,getEmployeebyShiftidRes:u,getEmployeebyShiftidError:v,addWeekOffPending:x,addWeekOffRes:p,addWeekOffError:j}=(0,l.d4)((e=>e.shift)),[g,b]=(0,a.useState)([1,2,3,4,5,6,7]),[_,y]=(0,a.useState)([]),[N,S]=(0,a.useState)({}),[k,E]=(0,a.useState)([]),[w,C]=(0,a.useState)([]);(0,a.useEffect)((()=>{if(!x){if(j)return void n.oR.error(null===j||void 0===j?void 0:j.errorMessage);var e,s;if(p)if(200===(null===p||void 0===p||null===(e=p.data)||void 0===e?void 0:e.code))n.oR.success(null===p||void 0===p||null===(s=p.data)||void 0===s?void 0:s.msg),t(),c(r),m(d.ce.handleClearShiftStore("HANDLE_ADD_WEEK_OFF_STORE"))}}),[p,j,x]);(0,a.useEffect)((()=>{1==o&&A()}),[o]);const A=async()=>{let e={shift_id:r.id};m(d.ce.getEmployeeByShiftIdRequest(e))};(0,a.useEffect)((()=>{if(!h){if(v)return;var e;if(u)if(200===(null===u||void 0===u||null===(e=u.data)||void 0===e?void 0:e.code)){var s,t;const e=null===u||void 0===u||null===(s=u.data)||void 0===s||null===(t=s.data)||void 0===t?void 0:t.data;E(e);const a={},l=[];null===e||void 0===e||e.forEach((e=>{var s;a[e.employee_id]={},null===e||void 0===e||null===(s=e.weekoff)||void 0===s||s.forEach((s=>{null===s?a[e.employee_id][0]=!1:a[e.employee_id][s]=!0})),l.push({employee_id:e.employee_id,week_off:e.weekoff})})),S(a),y(l),C(e)}}}),[u,v,h]);return(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)("div",{className:"offcanvas offcanvas-end applyLeaveCanvas "+(s?"show":""),tabIndex:-1,style:{visibility:s?"visible":"hidden",width:"900px"},children:[(0,f.jsxs)("div",{className:"offcanvas-header",children:[(0,f.jsx)("h5",{className:"offcanvas-title fs-5 fw-bold text-primary",children:"Add Week Off"}),(0,f.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close",onClick:()=>t()})]}),(0,f.jsx)("div",{class:"offcanvas-body",children:(0,f.jsxs)("div",{class:"rounded-0 border-0",children:[(0,f.jsx)("div",{class:"justify-content-between align-items-center border-0",children:(0,f.jsx)("div",{className:"headerWeek",children:(0,f.jsxs)("p",{class:"mb-0",children:[(0,f.jsx)("b",{children:"Shift"}),": ",r.shift_name," (",r.shift_start_time," - ",r.shift_end_time,") "]})})}),(0,f.jsx)("div",{class:"py-0 shiftChecks shiftChecksweek",children:(0,f.jsxs)("div",{class:"",children:[(0,f.jsx)("div",{class:"searchTeamBox mb-2 p-2",children:(0,f.jsxs)("div",{class:"searchByName ",children:[(0,f.jsx)("input",{type:"text",class:"form-control",placeholder:"Search",onChange:e=>(e=>{const s=w.filter((s=>{var t;return s.name.toLowerCase().includes(null===e||void 0===e?void 0:e.toLowerCase())||(null===(t=s.emp_id)||void 0===t?void 0:t.toLowerCase().includes(null===e||void 0===e?void 0:e.toLowerCase()))}));E(s)})(e.target.value)}),(0,f.jsx)("button",{type:"button",class:"nameSearchBtn",children:(0,f.jsx)("img",{src:"images/search2.svg",alt:"",width:"17"})})]})}),(0,f.jsx)("div",{class:"table-responsive weekoffTable addWeek p-3 pt-0",children:(0,f.jsxs)("table",{class:"table",children:[(0,f.jsxs)("tr",{children:[(0,f.jsx)("th",{children:"All Users"}),(0,f.jsx)("th",{class:"text-center",children:"Mon"}),(0,f.jsx)("th",{class:"text-center",children:"Tue"}),(0,f.jsx)("th",{class:"text-center",children:"Wed"}),(0,f.jsx)("th",{class:"text-center",children:"Thu"}),(0,f.jsx)("th",{class:"text-center",children:"Fri"}),(0,f.jsx)("th",{class:"text-center",children:"Sat"}),(0,f.jsx)("th",{class:"text-center",children:"Sun"})]}),k&&k.map((e=>(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{children:(0,f.jsxs)("div",{class:"d-flex align-items-center userInfoTd",children:[(0,f.jsx)("figure",{class:"m-0",children:(0,f.jsx)("img",{src:"images/amber.png",alt:""})}),(0,f.jsxs)("h6",{children:[e.name," ",e.last_name]})]})}),g.map((s=>{var t;return(0,f.jsx)("td",{children:(0,f.jsxs)("div",{className:"cstmCheckbox",children:[(0,f.jsx)("input",{type:"checkbox",id:`check-${e.employee_id}-${s}`,name:`${e.employee_id}-${s}`,onClick:()=>((e,s)=>{y((t=>{const a=null===t||void 0===t?void 0:t.findIndex((s=>s.employee_id===e));if(-1!==a&&t[a].week_off.includes(s)){const l=t[a].week_off.filter((e=>e!==s));return 0===l.length?t.filter((s=>s.employee_id!==e)):[...t.slice(0,a),{...t[a],week_off:l},...t.slice(a+1)]}return-1===a?[...t,{employee_id:e,week_off:[s]}]:[...t.slice(0,a),{...t[a],week_off:[...t[a].week_off,s]},...t.slice(a+1)]})),S((t=>{var a;return{...t,[e]:{...t[e],[s]:!(null!==(a=t[e])&&void 0!==a&&a[s])}}}))})(e.employee_id,s),value:s,checked:null===(t=N[e.employee_id])||void 0===t?void 0:t[s]}),(0,f.jsx)("label",{htmlFor:`check-${e.employee_id}-${s}`})]})},s)}))]})))]})})]})})]})}),(0,f.jsx)("div",{className:"offcanvas-footer",children:(0,f.jsx)("div",{className:"d-flex align-items-center justify-content-end gap-3",children:(0,f.jsx)("button",{type:"button",className:"btn btn-primary gradientBg",onClick:()=>{let e={weekoff_details:_};m(d.ce.addWeekOffRequest(e))},children:"Submit"})})})]})})},G=e=>{var s,t,i;const{shiftData:n,headerDate:r,allEmployeeShift:o,isActiveShift:c,setOpenEditModel:m,setLoadIng:u}=e,{deleteEmployeeShiftPending:v,deleteEmployeeShiftRes:x,deleteEmployeeShiftError:p}=(0,l.d4)((e=>e.shift)),j=(0,l.wA)(),[g,b]=(0,a.useState)(!1),[_,y]=(0,a.useState)(!1),[S,k]=(0,a.useState)(!1),[E,w]=(0,a.useState)(!1);(0,a.useEffect)((()=>{if(!v){if(p)return;x&&200===(null===x||void 0===x?void 0:x.code)&&(R(n),j(d.ce.handleClearShiftStore("DELECT_EMPLOYEE_SHIFT_STORE")))}}),[x,p,v]);const C=()=>{y(!_)},A=e=>{k(!S),"data"==e&&w(!E)};(0,a.useEffect)((()=>{R()}),[]),(0,a.useEffect)((()=>{n&&R(n)}),[n]),(0,a.useEffect)((()=>{c&&D(c)}),[c]);const D=e=>{R(e)},M=async(e,s)=>{const[t,a]=e.split(" - "),l=h()(t,"DD MMM YYYY"),i=h()(a,"DD MMM YYYY");"prev"===s?await R(n,l.subtract(1,"week"),i.subtract(1,"week")):"next"===s&&await R(n,l.add(1,"week"),i.add(1,"week"))},R=async(e,s,t)=>{let a={shift_id:"ejknrjk34324"==(null===e||void 0===e?void 0:e.id)?"":null===e||void 0===e?void 0:e.id,start_date:s||h()().startOf("week").add(1,"day").format("YYYY-MM-DD"),end_date:t||h()().endOf("week").add(1,"day").format("YYYY-MM-DD")};j(d.ce.getAllShiftDetailsRequest(a)),u(!0)},F=e=>{if("Data"==e){let e={id:null===n||void 0===n?void 0:n.id};j(d.ce.getShiftByIdRequest(e))}b(!g)};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:"d-flex align-items-center p-3",children:[(0,f.jsx)("h3",{className:"me-auto mb-0 fs-5 fw-semibold",children:h()(null===(s=r[0])||void 0===s?void 0:s.date).format("MMMM YYYY")}),(0,f.jsxs)("div",{className:"customCalanderNav me-auto d-flex align-items-center",children:[(0,f.jsx)("img",{src:"images/prev-icon.svg",style:{cursor:"pointer"},alt:"",onClick:e=>M(`${h()(r[0].date).format("DD MMM YYYY")} - ${h()(r[r.length-1].date).format("DD MMM YYYY")}`,"prev")}),(0,f.jsxs)("span",{className:"mx-3 d-block fs-7 fw-semibold mt-1",children:[h()(null===(t=r[0])||void 0===t?void 0:t.date).format("DD MMM YYYY")," - ",h()(null===(i=r[r.length-1])||void 0===i?void 0:i.date).format("DD MMM YYYY")]}),(0,f.jsx)("img",{src:"images/next-icon.svg",style:{cursor:"pointer"},alt:"",onClick:e=>M(`${h()(r[0].date).format("DD MMM YYYY")} - ${h()(r[r.length-1].date).format("DD MMM YYYY")}`,"next")})]}),""!==n&&"All Shift"!==(null===n||void 0===n?void 0:n.shift_name)&&1==(null===n||void 0===n?void 0:n.is_active)&&(0,f.jsxs)("div",{className:"dropdown moredwn",children:[(0,f.jsxs)("button",{className:"btn btn-primary addShiftBtn me-2 ",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:[(0,f.jsx)("i",{className:"bi bi-three-dots-vertical"})," More"]}),(0,f.jsxs)("ul",{className:"dropdown-menu ",children:[(0,f.jsx)("li",{children:(0,f.jsx)("button",{className:"dropdown-item",onClick:()=>F("Data"),children:"Shift Configuration"})}),(0,f.jsx)("li",{children:(0,f.jsx)("button",{className:"dropdown-item border-bottom",onClick:()=>C(),children:"Assign Shift"})}),(0,f.jsx)("li",{children:(0,f.jsx)("button",{className:"dropdown-item border-bottom",onClick:()=>A("data"),children:"Add Week Off"})})]})]})]}),(0,f.jsx)(N,{openShiftModelfunction:F,openShiftModel:g,shiftData:n}),(0,f.jsx)($,{openAssignShiftModel:_,assignShiftModelOpen:C,shiftData:n,getAllShiftDetails:R,setOpenEditModel:m}),(0,f.jsx)(q,{openAddWeekOffModel:S,addWeekOffModelOpen:A,shiftData:n,getWeek:E,getAllShiftDetails:R})]})},U=e=>{const{headerDate:s}=e;return(0,f.jsx)("thead",{children:(0,f.jsxs)("tr",{children:[(0,f.jsx)("th",{className:"searchTh",children:(0,f.jsxs)("div",{className:"searchByName",children:[(0,f.jsx)("input",{type:"text",className:"form-control",placeholder:"Search Employee by Name"}),(0,f.jsx)("button",{type:"button",className:"nameSearchBtn",children:(0,f.jsx)("img",{src:"images/search-box.svg",alt:"",width:14})})]})}),s&&(null===s||void 0===s?void 0:s.map((e=>(0,f.jsx)("th",{children:h()(e.date).format("ddd DD")}))))]})})};var V=t(35475),z=t(34348),K=t.n(z),X=t(35685);const J=e=>{let{userShiftData:s,shiftData:t,editMode:i}=e;const n=(0,l.wA)(),r=new Date((new Date).getFullYear(),(new Date).getMonth(),1),o=new Date((new Date).getFullYear(),(new Date).getMonth()+1,0),[c,m]=(0,a.useState)(!1),[h,u]=(0,a.useState)(""),{deleteEmployeeShiftPending:v,deleteEmployeeShiftRes:x,deleteEmployeeShiftError:p}=(0,l.d4)((e=>e.shift));return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("td",{children:(0,f.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,f.jsx)(V.N_,{to:`/shift-management/${null===s||void 0===s?void 0:s._id}/${K()(r).format("YYYY-MM-DD")}/${K()(o).format("YYYY-MM-DD")}`,children:(0,f.jsxs)("a",{href:"shift-view.html",className:"userName",children:[(0,f.jsx)("figure",{children:(0,f.jsx)("img",{src:"images/profile-img.png",alt:""})}),(0,f.jsxs)("p",{children:[(0,f.jsx)("strong",{children:null===s||void 0===s?void 0:s.first_name}),s.emp_id," | ",s.Designation]})]})}),(0,f.jsx)("div",{className:"deleteBG",children:t&&"All Shift"!==t.shift_name&&i&&(0,f.jsx)("img",{src:"images/delete-icon.svg",alt:"",width:16,height:20,onClick:()=>{return e=null===s||void 0===s?void 0:s.employee_id,m(!c),void u(e);var e}})})]})}),c&&(0,f.jsx)(X.A,{onApproveReject:e=>{if(e){const e={employee_id:h};n(null===d.ce||void 0===d.ce?void 0:d.ce.deleteEmployeeShiftRequest(e)),m(!c)}else m(!c)},isShow:c,desc:"You want to delete this Employee",isLoading:v})]})},Z=e=>{let{shiftTime:s,editMode:t,setOpenEditModel:a,openEditModel:l}=e;s&&"WO"==(null===s||void 0===s?void 0:s.shift_name[0])||"PH"==(null===s||void 0===s?void 0:s.shift_name[0])?null===s||void 0===s||s.shift_name[0]:null===s||void 0===s||s.shift_name[0].split(" ")[0];return(0,f.jsx)("td",{children:(0,f.jsx)("div",{className:"shiftBox purpleColor",style:{background:`${s.color}`},children:(0,f.jsxs)("div",{className:"d-flex align-items-center gap-1",children:[!t&&(0,f.jsx)("a",{className:"editShiftTg",onClick:()=>a(!l),children:(0,f.jsx)("img",{src:"images/editIcon1.svg",alt:""})}),(0,f.jsxs)("p",{style:{cursor:"pointer"},children:[(0,f.jsx)("b",{children:null===s||void 0===s?void 0:s.shift_name[0].replace(/\(|\)/g,",").split(",")[0]}),null===s||void 0===s?void 0:s.shift_name[0].replace(/\(|\)/g,",").split(",")[1]]})]})})})},Q=e=>{var s;const{allEmployeeShift:t,shiftData:a,editMode:l,setOpenEditModel:i,openEditModel:d,setAssignTemporaryShift:n}=e;return(0,f.jsx)("tbody",{children:t&&(null===t||void 0===t||null===(s=t.slice(0,10))||void 0===s?void 0:s.map((e=>(0,f.jsxs)("tr",{onClick:()=>n(e),children:[(0,f.jsx)(J,{userShiftData:e,shiftData:a,editMode:l}),null===e||void 0===e?void 0:e.shiftDetails.map((e=>(0,f.jsx)(Z,{shiftTime:e,editMode:l,openEditModel:d,setOpenEditModel:i},null===e||void 0===e?void 0:e.date)))]},null===e||void 0===e?void 0:e.id))))})},ee=e=>{const{shiftData:s,isActiveShift:t,editMode:i,setOpenEditModel:d,openEditModel:n,setAssignTemporaryShift:r,setLoadIng:o}=e,{getAllShiftDetailsPending:c,getAllShiftDetailsRes:m,getAllShiftDetailsError:h}=(0,l.d4)((e=>e.shift)),[u,v]=(0,a.useState)([]),[x,p]=(0,a.useState)([]);return(0,a.useEffect)((()=>{if(!c){if(h)return;if(m&&200===(null===m||void 0===m?void 0:m.code)){o(!1);const e=null===m||void 0===m?void 0:m.data;v(null===e||void 0===e?void 0:e.shiftDateRange),p(null===e||void 0===e?void 0:e.getEmployeeDetails)}}}),[m,h,c]),(0,f.jsx)("div",{className:"cardBox p-0 mb-3 customCalander overflow-hidden",children:(0,f.jsx)("div",{className:"tab-content",children:(0,f.jsxs)("div",{className:"tab-pane fade show active",id:"shiftTab1",children:[(0,f.jsx)(G,{setLoadIng:o,shiftData:s,headerDate:u,allEmployeeShift:x,isActiveShift:t,setOpenEditModel:d}),(0,f.jsx)("div",{className:"table-responsive shiftTablemain shiftHeigth",children:(0,f.jsxs)("table",{className:"table m-0",children:[(0,f.jsx)(U,{headerDate:u}),(0,f.jsx)(Q,{allEmployeeShift:x,shiftData:s,editMode:i,openEditModel:n,setOpenEditModel:d,setAssignTemporaryShift:r})]})})]})})})},se=e=>{const{openEditModel:s,setOpenEditModel:t,assignTemporaryShift:i,getAllShift:n}=e,r=(0,l.wA)(),[o,c]=(0,a.useState)(""),[m,h]=(0,a.useState)(),[u,v]=(0,a.useState)(),[x,p]=(0,a.useState)(""),[j,g]=(0,a.useState)(!1),b=(e,s)=>{g(e),c(s)};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:"modal editShift fade "+(s?"show":""),tabIndex:"-1",style:{display:s?"block":"none",opacity:s?1:0},children:(0,f.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:(0,f.jsxs)("div",{className:"modal-content rounded-0 border-0",children:[(0,f.jsxs)("div",{className:"modal-header justify-content-between align-items-center",children:[(0,f.jsx)("h3",{className:"fs-6 fw-semibold mb-0",children:"Edit Shift"}),(0,f.jsx)("button",{type:"button",className:"btnClose border-0 bg-transparent",onClick:()=>{t(!1)},children:(0,f.jsx)("img",{src:"images/close-icon.svg",alt:"",width:"20"})})]}),(0,f.jsxs)("div",{className:"modal-body",children:[(0,f.jsxs)("div",{className:"currentShift",children:[(0,f.jsxs)("p",{className:"py-2",children:[(0,f.jsx)("b",{children:"Current Shift:"})," ",(0,W.PD)(null===i||void 0===i?void 0:i.shift_start_time)," - ",(0,W.PD)(null===i||void 0===i?void 0:i.shift_end_time)]}),(0,f.jsxs)("div",{className:"editShiftGroup",id:"editShiftDiv",children:[(0,f.jsx)("div",{className:"mb-2",children:(0,f.jsx)("select",{className:"form-select",onChange:e=>p(e.target.value),children:n.map((e=>(0,f.jsxs)("option",{value:e._id,children:[null===e||void 0===e?void 0:e.shift_name," (",(0,W.PD)(null===e||void 0===e?void 0:e.shift_start_time)," - ",(0,W.PD)(null===e||void 0===e?void 0:e.shift_end_time),")"]})))})}),j&&(0,f.jsxs)("div",{className:"d-flex gap-2",children:[(0,f.jsxs)("div",{className:"form-group col-md",children:[(0,f.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Start Date"}),(0,f.jsx)("span",{style:{color:"red"},children:"*"}),(0,f.jsx)("input",{type:"date",name:"shiftStartDate",onChange:e=>h(e.target.value),className:"form-control",placeholder:"Enter start time"})]}),(0,f.jsxs)("div",{className:"form-group col-md",children:[(0,f.jsx)("label",{htmlFor:"exampleInputEmail1",children:"End Date"}),(0,f.jsx)("span",{style:{color:"red"},children:"*"}),(0,f.jsx)("input",{type:"date",name:"shiftEndDate",onChange:e=>v(e.target.value),min:(0,W.yM)(m,"YYYY-MM-DD"),className:"form-control",placeholder:"Enter end time"})]})]})]})]}),!j&&(0,f.jsxs)("div",{className:"d-flex shiftBtnGroup gap-3",children:[(0,f.jsxs)("button",{type:"button",className:"btn btn-outline-primary editShiftButton",onClick:()=>b(!0,"temp"),children:[(0,f.jsx)("img",{src:"images/editShift.svg",alt:"",width:"16"})," Edit Shift"]}),(0,f.jsxs)("button",{type:"button",className:"btn btn-outline-primary addShiftButton",onClick:()=>b(!0,"both"),children:[(0,f.jsx)("img",{src:"images/add-icon.svg",alt:"",width:"16"})," Add another Shift"]})]})]}),(0,f.jsx)("div",{className:"modal-footer justify-content-center",children:(0,f.jsx)("button",{className:"btn btn-org-gradient text-white px-5",onClick:()=>(()=>{let e={assignment_type:"temporary",shift_id:x,employee_id:[null===i||void 0===i?void 0:i._id],start_date:m,end_date:u};r(d.ce.assignShiftRequest(e))})(),children:"Save"})})]})})}),s&&(0,f.jsx)("div",{className:"modal-backdrop fade show"})]})},te=e=>{const{openUploadShiftModel:s,setOpenUploadShiftModel:t}=e,[l,i]=(0,a.useState)(""),[d,n]=(0,a.useState)(""),[r,o]=(0,a.useState)(""),[c,m]=(0,a.useState)(""),[u,v]=(0,a.useState)(!0),[x,p]=(0,a.useState)("");return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)("div",{className:"modal editShift fade "+(s?"show":""),tabIndex:"-1",style:{display:s?"block":"none",opacity:s?1:0},children:(0,f.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:(0,f.jsxs)("div",{className:"modal-content rounded-0 border-0",children:[(0,f.jsxs)("div",{className:"modal-header justify-content-between align-items-center",children:[(0,f.jsx)("h3",{className:"fs-6 fw-semibold mb-0",children:"Shift Bulk Upload"}),(0,f.jsx)("button",{type:"button",className:"btnClose border-0 bg-transparent",onClick:()=>t(!s),children:(0,f.jsx)("img",{src:"images/close-icon.svg",alt:"",width:"20"})})]}),(0,f.jsx)("div",{className:"modal-body",children:(0,f.jsxs)("form",{children:[(0,f.jsxs)("div",{className:"row",children:[(0,f.jsx)("div",{className:"form-group col-md-3",children:(0,f.jsxs)("label",{htmlFor:"exampleInputEmail1",style:{fontSize:"20px"},children:["Start Date ",(0,f.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,f.jsx)("div",{className:"form-group col-md",children:(0,f.jsx)("input",{type:"date",name:"shift_name",value:l,onChange:e=>{return s=e.target.value,i(s),void n("");var s},min:h()().startOf("month").format("YYYY-MM-DD"),className:"form-control",placeholder:"Enter Start Date"})})]}),(0,f.jsxs)("div",{className:"row",children:[(0,f.jsx)("div",{className:"form-group col-md-3",children:(0,f.jsxs)("label",{htmlFor:"exampleInputEmail1",style:{fontSize:"20px"},children:["End Date ",(0,f.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,f.jsx)("div",{className:"form-group col-md",children:(0,f.jsx)("input",{type:"date",name:"shift_name",className:"form-control",placeholder:"Enter End Date",value:d,onChange:e=>{return s=e.target.value,void n(s);var s},min:h()(l).format("YYYY-MM-DD")})})]}),u&&(0,f.jsx)("div",{className:"row",children:(0,f.jsx)("div",{className:"form-group col-md-12",children:(0,f.jsx)("button",{className:"btn btn-info float-right ms-5",title:"",onClick:()=>{window.open(x,"_blank")},style:{backgroundColor:"cornflowerblue",color:"black"},children:"Download Sample"})})}),(0,f.jsxs)("div",{className:"row",children:[(0,f.jsx)("div",{className:"form-group col-md-3",children:(0,f.jsxs)("label",{htmlFor:"exampleInputEmail1",style:{fontSize:"20px"},children:["Bulk Upload ",(0,f.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,f.jsx)("div",{className:"form-group col-md",children:(0,f.jsx)("input",{type:"file",placeholder:"",className:"is-untouched is-pristine av-invalid form-control",name:"file",id:"Name",onChange:e=>{return o((s=e).target.files[0]),void console.log(s.target.files[0].name,"event.target.files[0]");var s},required:!0})})]})]})}),(0,f.jsx)("div",{className:"modal-footer justify-content-center",children:(0,f.jsx)("button",{className:"btn btn-org-gradient text-white px-5",children:"Save"})})]})})})})},ae=()=>{const e=(0,l.wA)(),{getAllShiftPending:s,getAllShiftRes:t,getAllShiftError:n,deleteShiftPending:r,deleteShiftRes:o,deleteShiftError:c,activeOrInactivePending:m,activeOrInactiveRes:h,activeOrInactiveError:u}=(0,l.d4)((e=>e.shift)),[v,x]=(0,a.useState)([]),[p,j]=(0,a.useState)(""),[g,b]=(0,a.useState)(!1),[y,N]=(0,a.useState)(!1),[S,k]=(0,a.useState)(),[E,w]=(0,a.useState)(""),[C,A]=(0,a.useState)(""),[D,M]=(0,a.useState)(!0),[R,F]=(0,a.useState)(!1),[I,O]=(0,a.useState)(""),[T,Y]=(0,a.useState)(!1),[L,B]=(0,a.useState)(!1);console.log("loading",L);(0,a.useEffect)((()=>{P()}),[]);const P=()=>{e(d.ce.getAllShiftRequest())};(0,a.useEffect)((()=>{if(!s){if(n)return void x([]);if(t&&200==(null===t||void 0===t?void 0:t.code)){var e;let s=null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.data;null===s||void 0===s||s.unshift({shift_name:"All Shift",id:"ejknrjk34324",shift_start_time:"00:00",shift_end_time:"00:00",short_name:void 0}),x(s)}}}),[s,t,n]),(0,a.useEffect)((()=>{if(!r){if(c)return void e(d.ce.handleClearShiftStore("HANDLE_CLEAR_DELETE_SHIFT_STORE"));o&&200==(null===o||void 0===o?void 0:o.code)&&(e(d.ce.handleClearShiftStore("HANDLE_CLEAR_DELETE_SHIFT_STORE")),P())}}),[o,c,r]),(0,a.useEffect)((()=>{if(!m){if(u)return void e(d.ce.handleClearShiftStore("ACTIVE_INACTIVE_SHIFT_STORE"));h&&200==(null===h||void 0===h?void 0:h.code)&&(e(d.ce.handleClearShiftStore("ACTIVE_INACTIVE_SHIFT_STORE")),w(C),P())}}),[h,u,m]);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(_,{getAllShift:v,getAllShiftFunction:P,setDeletShift:e=>{b(!g),j(e)},setActivebtn:e=>{N(!y),k(e)},setShiftData:A,editMode:D,setEditMode:M,openUploadShiftModel:T,setOpenUploadShiftModel:Y}),(0,f.jsx)(ee,{setLoadIng:B,shiftData:C,isActiveShift:E,editMode:D,openEditModel:R,setOpenEditModel:F,setAssignTemporaryShift:O}),g&&(0,f.jsx)(X.A,{onApproveReject:s=>{if(s){const s={_id:null===p||void 0===p?void 0:p.id};e(null===d.ce||void 0===d.ce?void 0:d.ce.deleteShiftRequest(s)),b(!g)}else b(!g)},isShow:g,desc:"You want to delete this Shift"}),y&&(0,f.jsx)(X.A,{onApproveReject:s=>{if(s){const s={id:null===S||void 0===S?void 0:S.id,is_active:1!=(null===S||void 0===S?void 0:S.is_active)};e(null===d.ce||void 0===d.ce?void 0:d.ce.activeOrInactiveRequest(s)),N(!y)}else N(!y)},isShow:y,desc:`You want to this shift ${1==S.is_active?"Inactve":"active"} `,isLoading:m}),R&&(0,f.jsx)(se,{openEditModel:R,setOpenEditModel:F,assignTemporaryShift:I,getAllShift:v}),T&&(0,f.jsx)(te,{openUploadShiftModel:T,setOpenUploadShiftModel:Y}),L&&(0,f.jsx)(i.L,{isShow:L,size:"lg"})]})}}}]);
//# sourceMappingURL=9069.1acd6fc9.chunk.js.map