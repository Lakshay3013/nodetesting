"use strict";(self.webpackChunkglueple_user=self.webpackChunkglueple_user||[]).push([[8281],{58281:(e,a,t)=>{t.r(a),t.d(a,{default:()=>E});var i=t(65043),s=t(53879),l=t(29829),n=t(45531),r=t(49985),d=t(85831),o=t(56462),c=t(90607),m=t(22166),v=t(70579);const p=e=>{const{t:a}=(0,c.K)(),t=(0,r.Yo)("assign_kra"),s=(0,r.Yo)("view_kra"),p=(0,r.Yo)("add_kpi"),{currentPage:u,setCurrentPage:g,toggleAssignKRA:h,toggleViewKRAParameter:x,financialYearListData:j,allKraDetailsData:f,toggleAddKraParameter:b}=e,{getKraDetailsPending:_}=(0,m.d4)((e=>e.pms)),[D,N]=(0,i.useState)(""),A=[{key:"sn",label:"S.N"},{key:"kra_name",label:"KRA"},{key:"department_name",label:"Department"},{key:"kra_rating_type",label:"Rating Type"},t&&{key:"assignKRA",label:"Assign KRA"},(p||s)&&{key:"action",label:"Action"}],K=(0,i.useMemo)((()=>({sn:(e,a)=>(0,v.jsx)("span",{children:a+1}),status:(e,a)=>(0,v.jsx)("span",{className:`${(0,r.OG)(null===e||void 0===e?void 0:e.is_active)} text-capitalize`,children:null===e||void 0===e?void 0:e.is_active},a),kra_rating_type:e=>(0,v.jsx)("span",{children:(0,r.Sn)(null===e||void 0===e?void 0:e.kra_rating_type)}),assignKRA:(e,a)=>(0,v.jsx)("span",{children:(0,v.jsx)(d.Sv,{text:"Assign KRA",classNames:"btn btn-primary gradientBg",handleClick:()=>h(e),isDisabled:!(null!==e&&void 0!==e&&e.is_eligible_for_assign_status),slug:"assign_kra"})},a),action:e=>(0,v.jsxs)("div",{className:"btn-group actionDrp",children:[(0,v.jsx)("button",{type:"button",className:"btn dropdown-toggle-split","data-bs-toggle":"dropdown","aria-expanded":"false",children:(0,v.jsx)("i",{className:"bi bi-three-dots-vertical"})}),(0,v.jsxs)("ul",{className:"dropdown-menu",children:[s&&(0,v.jsx)("li",{children:(0,v.jsxs)("span",{className:"dropdown-item",onClick:()=>x(e),children:[(0,v.jsx)(n.In,{className:"fa fa-eye"})," View"]})}),p&&(0,v.jsx)("li",{children:(0,v.jsxs)("span",{className:"dropdown-item",onClick:()=>b(e),children:[(0,v.jsx)(n.In,{className:"fa fa-plus"})," Add KPI"]})})]})]})})),[f]);return(0,v.jsx)("div",{children:(0,v.jsxs)("div",{className:"cardBox myRequest",children:[(0,v.jsxs)("div",{className:"cardHead d-flex justify-content-between mb-3",children:[(0,v.jsxs)("div",{className:"d-flex align-items-center",children:[(0,v.jsx)("img",{src:"images/team-rating.svg",alt:"",width:40,className:"me-2 fw-bold"}),(0,v.jsxs)("div",{className:"",children:[(0,v.jsx)("h3",{children:" Manage KRA"}),(0,v.jsx)("p",{children:"To assign any KRA total KPI weight need to be 100%?"})]})]}),(0,v.jsx)("div",{className:"w-25",children:(0,v.jsx)(o.A,{data:j,placeholder:a("placeholders.financialYear"),value:D||"",handleChange:e=>N(e),name:"department"})})]}),(0,v.jsx)("div",{className:"table-responsive tableDiv",children:(0,v.jsx)(l.Ak,{data:null===f||void 0===f?void 0:f.data,fields:A,isLoading:_,pagination:!0,currentPage:u,setCurrentPage:g,totalPages:null===f||void 0===f?void 0:f.totalPages,isHeader:!1,tableStyle:{padding:"0px",boxShadow:"none"},scopedSlots:K})})]})})};var u=t(26181),g=t(80728),h=t(94174);const x=e=>{const{openModel:a,handleOpenClose:t,allDepartmentList:s,financialYearListData:l,handleCreateUpdateKra:p,getSubDepartmentByDepartment:x,subDepartmentByDepartmentData:j,kraRatingTypeData:f,getAllKraRatingTypeForDepartmentData:b}=e,{t:_}=(0,c.K)(),[D,N]=(0,i.useState)(""),A=(0,m.wA)(),[K,k]=(0,i.useState)({department:null,subDepartment:null,financialYear:null,kraName:"",kraRatingType:"",ratingDuration:"monthly",bonusDuration:"Bonus Duration",isActive:!0}),E=(e,a)=>{var t;const i=a||(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.name),{value:s,type:l,checked:n}=null!==e&&void 0!==e&&e.target?null===e||void 0===e?void 0:e.target:{value:e};"department"===i&&x(null===s||void 0===s?void 0:s.value),"subDepartment"===i&&b(null===s||void 0===s?void 0:s.value),k((e=>({...e,[i]:"checkbox"===l?n:s}))),N((e=>({...e,[i]:void 0})))};return(0,i.useEffect)((()=>()=>{A(h.u7.handleClearPMSStore("HANDLE_CLEAR_GET_ALL_KRA_RATING_TYPE_FOR_DEPARTMENT_STORE"))}),[a]),(0,i.useEffect)((()=>{(null===f||void 0===f?void 0:f.length)>0&&k((e=>{var a;return{...e,kraRatingType:null===(a=f[0])||void 0===a?void 0:a.rating_type}}))}),[f]),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:"offcanvas offcanvas-end  "+(a?"show":""),tabIndex:-1,style:{visibility:a?"visible":"hidden"},id:"interviewDetail",children:[(0,v.jsxs)("div",{className:"offcanvas-header",children:[(0,v.jsx)("h5",{className:"offcanvas-title  fs-5 fw-bold text-primary",children:_("headings.addNewKRA")}),(0,v.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close",onClick:()=>t()})]}),(0,v.jsxs)("div",{className:"offcanvas-body myRequest ",children:[(0,v.jsx)("div",{className:"formPanel",children:(0,v.jsxs)("div",{className:"formPanel",children:[(0,v.jsxs)("div",{className:"form-group mb-3",children:[(0,v.jsx)(n.JU,{text:_("labels.financialYear"),required:!0}),(0,v.jsx)(o.A,{data:l,placeholder:_("placeholders.financialYear"),value:(null===K||void 0===K?void 0:K.financialYear)||"",handleChange:e=>E(e,"financialYear"),name:"financialYear"}),(null===D||void 0===D?void 0:D.financialYear)&&(0,v.jsx)(d.eo,{text:D.financialYear})]}),(0,v.jsxs)("div",{className:"form-group mb-3",children:[(0,v.jsx)(n.JU,{text:_("labels.kraName"),required:!0}),(0,v.jsx)(n.pd,{type:"text",placeholder:_("placeholders.kraName"),value:null===K||void 0===K?void 0:K.kraName,name:"kraName",onChange:e=>E(e)}),(null===D||void 0===D?void 0:D.kraName)&&(0,v.jsx)(d.eo,{text:D.kraName})]}),(0,v.jsxs)("div",{className:"form-group mb-3",children:[(0,v.jsx)(n.JU,{text:_("labels.selectDepartment"),required:!0}),(0,v.jsx)(o.A,{data:s,placeholder:_("placeholders.selectDepartment"),value:(null===K||void 0===K?void 0:K.department)||"",handleChange:e=>E(e,"department"),name:"department"}),(null===D||void 0===D?void 0:D.department)&&(0,v.jsx)(d.eo,{text:D.department_id})]}),(0,v.jsxs)("div",{className:"form-group mb-3",children:[(0,v.jsx)(n.JU,{text:_("labels.selectFunction"),required:!0}),(0,v.jsx)(o.A,{data:j,placeholder:_("placeholders.selectFunction"),value:(null===K||void 0===K?void 0:K.subDepartment)||"",handleChange:e=>E(e,"subDepartment"),name:"subDepartment"}),(null===D||void 0===D?void 0:D.subDepartment)&&(0,v.jsx)(d.eo,{text:D.subDepartment})]}),(0,v.jsxs)("div",{className:"d-flex justify-content-between align-items-center typerating",children:[(0,v.jsx)("div",{children:(0,v.jsxs)("span",{children:["KRA Rating Type ",(0,v.jsx)("strong",{children:(0,r.Sn)(null===K||void 0===K?void 0:K.kraRatingType)})]})}),(0,v.jsx)("div",{children:(0,v.jsxs)("span",{children:["Rating Duration ",(0,v.jsx)("strong",{children:null===K||void 0===K?void 0:K.ratingDuration})]})}),(0,v.jsx)("div",{children:(0,v.jsxs)("span",{children:["Bonus Duration ",(0,v.jsx)("strong",{children:null===K||void 0===K?void 0:K.bonusDuration})]})})]})]})}),(0,v.jsxs)("div",{className:"row",children:[(0,v.jsx)("div",{className:"col-md-3",children:(0,v.jsx)("div",{className:"form-group mb-3",children:(0,v.jsx)(n.JU,{text:_("labels.isActive")})})}),(0,v.jsx)("div",{className:"col-md-9",children:(0,v.jsx)("div",{className:"form-group mb-3",children:(0,v.jsx)(n.P_,{id:"is_active",checked:null===K||void 0===K?void 0:K.isActive,handleChange:e=>E(e),name:"is_active"},"is_active")})})]})]}),(0,v.jsx)("div",{className:"offcanvas-footer",children:(0,v.jsx)("div",{className:"d-flex align-items-center justify-content-end gap-3",children:(0,v.jsx)(d.Sv,{text:_("btns.submit"),classNames:"btn btn-org-gradient",handleClick:()=>(async()=>{const e=await(0,u.i6)(g.Od,K);if(e.isValid){const{department:e,financialYear:a,kraName:t,kraRatingType:i,ratingDuration:s,bonusDuration:l,isActive:n,subDepartment:r}=K,d={kra_name:t,kra_rating_type:i,rating_duration:s,bonus_duration:l,financial_id:null===a||void 0===a?void 0:a.value,department_id:null===e||void 0===e?void 0:e.value,function_id:r.value,is_active:n};p(d)}else N(e.errors)})()})})})]}),a&&(0,v.jsx)("div",{className:"modal-backdrop fade show"})]})};t(25515);var j=t(94140);const f=e=>{const{t:a}=(0,c.K)(),{getAllKpiDetailsDataPending:t,getAllKraParameterDataPending:i}=(0,m.d4)((e=>e.pms)),{openModel:s,handleOpenClose:l,allKRAParameterData:n,selectedKRA:r,getKpiSubParameterData:o,kpiSubParameterData:p}=e;return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:"offcanvas offcanvas-end  "+(s?"show":""),tabIndex:-1,style:{visibility:s?"visible":"hidden",width:"800px"},id:"interviewDetail",children:[(0,v.jsxs)("div",{className:"offcanvas-header",children:[(0,v.jsx)("h5",{className:"offcanvas-title  fs-5 fw-bold text-primary",children:a("headings.view")}),(0,v.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close",onClick:()=>l()})]}),(0,v.jsxs)("div",{className:"offcanvas-body viewcnv",children:[(0,v.jsxs)("div",{className:"d-flex justify-content-between align-items-center typerating mb-3",children:[(0,v.jsx)("div",{className:"",children:(0,v.jsxs)("span",{children:["KRA Name ",(0,v.jsx)("strong",{children:null===r||void 0===r?void 0:r.kra_name})]})}),(0,v.jsx)("div",{className:"",children:(0,v.jsxs)("span",{children:["Department ",(0,v.jsx)("strong",{children:null===r||void 0===r?void 0:r.department_name})]})}),(0,v.jsx)("div",{className:"",children:(0,v.jsxs)("span",{children:["Rating Type ",(0,v.jsx)("strong",{children:null===r||void 0===r?void 0:r.kra_rating_type})]})})]}),(0,v.jsx)("div",{className:"accordion accordion-flush mb-5",id:"parameteroneFlush",children:i?(0,v.jsxs)("span",{children:[(0,v.jsx)(d.L,{isShow:i,size:"xl"})," "]}):(()=>{var e,a;return(null===n||void 0===n||null===(e=n.data)||void 0===e?void 0:e.length)>1?null===n||void 0===n||null===(a=n.data)||void 0===a?void 0:a.map(((e,a)=>(0,v.jsxs)("div",{className:"accordion-item mb-3 border-0",children:[(0,v.jsx)("h2",{className:"accordion-header",children:(0,v.jsx)("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":`#parameter${a}`,onClick:()=>o({parameter_id:null===e||void 0===e?void 0:e._id}),children:(0,v.jsx)("div",{className:"parameterName w-100",children:(0,v.jsxs)("div",{className:"d-flex justify-content-between align-items-center w-100",children:[(0,v.jsxs)("b",{children:[a+1,"."]}),(0,v.jsxs)("div",{className:"d-flex justify-content-between align-items-center w-100 parameterinner",children:[(0,v.jsxs)("span",{children:["Parameter Name ",(0,v.jsx)("strong",{children:null===e||void 0===e?void 0:e.parameter_name})]}),(0,v.jsxs)("span",{children:["Parameter weightage ",(0,v.jsxs)("strong",{children:[null===e||void 0===e?void 0:e.parameter_weightage," %"]})]})]})]})})})}),(0,v.jsx)("div",{id:`parameter${a}`,className:"accordion-collapse collapse","data-bs-parent":"#parameteroneFlush",children:(0,v.jsx)("div",{className:"accordion-body py-0",children:(0,v.jsx)("ul",{className:"listUl",children:t?(0,v.jsx)(d.L,{isShow:t,size:"xl"}):null!==p&&void 0!==p&&p.length?null===p||void 0===p?void 0:p.map(((e,a)=>(0,v.jsx)("li",{children:(0,v.jsxs)("div",{className:"row ",children:[(0,v.jsx)("div",{className:"col-md-4",children:(0,v.jsxs)("strong",{children:["KPI Description ",(0,v.jsx)("span",{children:null===e||void 0===e?void 0:e.key_performance_indicator})]})}),(0,v.jsx)("div",{className:"col-md-4",children:(0,v.jsxs)("strong",{children:["KPI Criteria ",(0,v.jsx)("span",{children:null===e||void 0===e?void 0:e.measurement_criteria})]})}),(0,v.jsx)("div",{className:"col-md-4",children:(0,v.jsxs)("strong",{children:["KPI weightage ",(0,v.jsx)("span",{children:null===e||void 0===e?void 0:e.kpi_weightage})]})})]})},a))):(0,v.jsx)("span",{className:"d-flex justify-content-center",children:(0,v.jsx)(j.A,{})})})})})]},a))):!i&&(0,v.jsxs)("span",{className:"d-flex justify-content-center",children:[" ",(0,v.jsx)(j.A,{})]})})()})]}),(0,v.jsx)("div",{className:"offcanvas-footer",children:(0,v.jsx)("div",{className:"d-flex align-items-center justify-content-end gap-3"})})]}),s&&(0,v.jsx)("div",{className:"modal-backdrop fade show"})]})};var b=t(52027);const _=e=>{const{toggleAddKraParameter:a,openAddKraParameter:t,selectedKRA:s,handleCreateUpdateParameter:o,allKRAParameterData:p,toggleAddUpdateKpiSubParameter:h,toggleUpdateKraParameterModal:x,toggleDeleteKraParameterModal:j}=e,{getAllKraParameterDataPending:f}=(0,m.d4)((e=>e.pms)),{t:b}=(0,c.K)(),[_,D]=(0,i.useState)(""),[N,A]=(0,i.useState)(""),[K,k]=(0,i.useState)(!1),[E,y]=(0,i.useState)({parameterName:"",parameterWeightage:""}),R=(e,a)=>{var t;const i=a||(null===(t=e.target)||void 0===t?void 0:t.name),{value:s,type:l,checked:n}=e.target?e.target:{value:e};y((e=>({...e,[i]:"checkbox"===l?n:s}))),A((e=>({...e,[i]:void 0})))};(0,i.useEffect)((()=>()=>{}),[t]);const P=(0,i.useMemo)((()=>({sn:(e,a)=>(0,v.jsx)("span",{className:"srNum",children:a+1}),created_at:e=>(0,v.jsx)("span",{children:(0,r.N_)(null===e||void 0===e?void 0:e.created_at,"DD-MM-YYYY LT")}),action:e=>(0,v.jsxs)("div",{className:"d-flex gap-2",children:[(0,v.jsxs)("span",{onClick:()=>j(e),children:[" ",(0,v.jsx)("img",{src:"images/deletebg-Icon.svg",alt:"",width:26,"data-bs-toggle":"tooltip","data-bs-title":"Delete"})]}),(0,v.jsxs)("span",{onClick:()=>x(e),children:[" ",(0,v.jsx)("img",{src:"images/editbg-Icon.svg",alt:"",width:26,"data-bs-toggle":"tooltip","data-bs-title":"Edit"})]}),(0,v.jsxs)("span",{onClick:()=>h(e),children:[" ",(0,v.jsx)("img",{src:"images/addbg-Icon.svg",alt:"",width:26,"data-bs-toggle":"tooltip","data-bs-title":"Delete"})]})]})})),[p]);return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:"offcanvas offcanvas-end  "+(t?"show":""),tabIndex:-1,style:{visibility:t?"visible":"hidden"},id:"interviewDetail",children:[(0,v.jsxs)("div",{className:"offcanvas-header",children:[(0,v.jsx)("h5",{className:"offcanvas-title  fs-5 fw-bold text-primary",children:b("headings.addKpi")}),(0,v.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close",onClick:()=>a()})]}),(0,v.jsxs)("div",{className:"offcanvas-body",children:[(0,v.jsxs)("div",{className:"d-flex justify-content-between align-items-center typerating mb-3",children:[(0,v.jsx)("div",{className:"",children:(0,v.jsxs)("span",{children:["KRA Name ",(0,v.jsx)("strong",{children:null===s||void 0===s?void 0:s.kra_name})]})}),(0,v.jsx)("div",{className:"",children:(0,v.jsxs)("span",{children:["Department ",(0,v.jsx)("strong",{children:null===s||void 0===s?void 0:s.department_name})]})}),(0,v.jsx)("div",{className:"",children:(0,v.jsxs)("span",{children:["Rating Type ",(0,v.jsx)("strong",{children:null===s||void 0===s?void 0:s.kra_rating_type})]})})]}),(0,v.jsxs)("div",{className:"addmain",children:[(0,v.jsx)("select",{className:"form-select",disabled:"","aria-label":"Default select example",children:(0,v.jsx)("option",{selected:"",children:"Select KRA Template"})}),(0,v.jsx)("span",{children:"or"}),(0,v.jsx)("div",{children:(0,v.jsx)(d.Sv,{classNames:"",handleClick:()=>k(!K),text:"Add Main Parameter",isDisabled:null===s||void 0===s?void 0:s.kra_weightage_status})})]}),K&&(0,v.jsx)("div",{className:"addnewkpi mb-2",children:(0,v.jsxs)("div",{className:"addnewkpiInner h-100 overflow-hidden",children:[(0,v.jsx)("span",{className:"updation",children:"Add New Parameter"}),(0,v.jsxs)("div",{className:"form-group mb-3",children:[(0,v.jsx)("label",{htmlFor:"",children:"Parameter Name"}),(0,v.jsx)(n.pd,{type:"text",placeholder:"Enter here..",name:"parameterName",value:null===E||void 0===E?void 0:E.parameterName,onChange:e=>R(e)}),(null===_||void 0===_?void 0:_.parameterName)&&(0,v.jsx)(d.eo,{text:_.parameterName})]}),(0,v.jsxs)("div",{className:"form-group mb-3",children:[(0,v.jsx)("label",{htmlFor:"",children:"Parameter Weightage"}),(0,v.jsx)(n.pd,{type:"number",name:"parameterWeightage",value:null===E||void 0===E?void 0:E.parameterWeightage,onChange:e=>R(e)}),(null===_||void 0===_?void 0:_.parameterWeightage)&&(0,v.jsx)(d.eo,{text:_.parameterWeightage})]}),(0,v.jsx)(d.Sv,{classNames:"btn btn-primary gradientBg",handleClick:()=>(async()=>{const e=await(0,u.i6)(g.yQ,E);if(e.isValid){const e={kra_id:null===s||void 0===s?void 0:s._id,parameter_name:null===E||void 0===E?void 0:E.parameterName,parameter_weightage:null===E||void 0===E?void 0:E.parameterWeightage};o(e)}else D(e.errors)})(),text:"Add Parameter"})]})}),(0,v.jsxs)("div",{className:"",children:[(0,v.jsx)("div",{className:"cardHead d-flex justify-content-between",children:(0,v.jsx)("h3",{children:" Main Category List"})}),(0,v.jsx)(l.Ak,{data:null===p||void 0===p?void 0:p.data,fields:[{key:"sn",label:"S.No"},{key:"parameter_name",label:"Name"},{key:"parameter_weightage",label:"Weightage"},{key:"created_at",label:"Created At"},{key:"action",label:"Action"}],pagination:!0,isHeader:!1,tableStyle:{padding:"0px",boxShadow:"none"},scopedSlots:P,isLoading:f})]})]}),(0,v.jsx)("div",{class:"offcanvas-footer",children:(0,v.jsx)("div",{class:"d-flex align-items-center justify-content-end gap-3"})})]}),t&&(0,v.jsx)("div",{className:"modal-backdrop fade show"})]})},D=e=>{const{getAllKpiDetailsDataPending:a}=(0,m.d4)((e=>e.pms)),{toggleOpenClose:t,isOpen:s,selectedKpiParameterData:o,handleCreateUpdateKpiSubParameter:p,selectedKRA:h,kpiSubParameterData:x,toggleUpdateKpiSubParameter:j,toggleDeleteSubKpiParameterModal:f}=e,{t:b}=(0,c.K)(),[_,D]=(0,i.useState)(""),[N,A]=(0,i.useState)(""),[K,k]=(0,i.useState)({kpiDescription:"",kpiMeasurementCriteria:"",kpiWeightage:"",kpiTarget:""}),E=(e,a)=>{var t;const i=a||(null===(t=e.target)||void 0===t?void 0:t.name),{value:s,type:l,checked:n}=e.target?e.target:{value:e};k((e=>({...e,[i]:"checkbox"===l?n:s}))),D((e=>({...e,[i]:void 0})))},y=(0,i.useMemo)((()=>({sn:(e,a)=>(0,v.jsx)("span",{className:"srNum",children:a+1}),created_at:e=>(0,v.jsx)("span",{children:(0,r.N_)(null===e||void 0===e?void 0:e.created_at,"DD-MM-YYYY LT")}),action:e=>(0,v.jsxs)("div",{className:"d-flex gap-2",children:[(0,v.jsxs)("span",{onClick:()=>f(e),children:[" ",(0,v.jsx)("img",{src:"images/deletebg-Icon.svg",alt:"",width:26,"data-bs-toggle":"tooltip","data-bs-title":"Delete"})]}),(0,v.jsxs)("span",{onClick:()=>j(e),children:[" ",(0,v.jsx)("img",{src:"images/editbg-Icon.svg",alt:"",width:26,"data-bs-toggle":"tooltip","data-bs-title":"Edit"})]})]})})),[x]);return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:"offcanvas offcanvas-end  "+(s?"show":""),tabIndex:-1,style:{visibility:s?"visible":"hidden"},id:"interviewDetail",children:[(0,v.jsxs)("div",{className:"offcanvas-header",children:[(0,v.jsx)("h5",{className:"offcanvas-title  fs-5 fw-bold text-primary",children:b("headings.addKpi")}),(0,v.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close",onClick:()=>t()})]}),(0,v.jsxs)("div",{className:"offcanvas-body",children:[(0,v.jsxs)("div",{className:"d-flex justify-content-between align-items-center typerating mb-3",children:[(0,v.jsx)("div",{className:"",children:(0,v.jsxs)("span",{children:["KRA Name ",(0,v.jsx)("strong",{children:null===h||void 0===h?void 0:h.kra_name})]})}),(0,v.jsx)("div",{className:"",children:(0,v.jsxs)("span",{children:["Department ",(0,v.jsx)("strong",{children:null===h||void 0===h?void 0:h.department_name})]})}),(0,v.jsx)("div",{className:"",children:(0,v.jsxs)("span",{children:["Rating Type ",(0,v.jsx)("strong",{children:null===h||void 0===h?void 0:h.kra_rating_type})]})})]}),(0,v.jsxs)("div",{class:"inputFeild",children:[(0,v.jsxs)("div",{class:"cardHead",children:[(0,v.jsx)("h3",{clupdationass:"mb-3",children:" Main Category List"}),(0,v.jsxs)("ul",{class:"breadCrumb mb-3 mt-2",children:[(0,v.jsxs)("li",{children:[(0,v.jsxs)("span",{class:"me-2",onClick:()=>t(),children:[null===o||void 0===o?void 0:o.parameter_name," "]})," > "]}),(0,v.jsx)("li",{class:"active border-0",children:"Add KPI"})]}),(0,v.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,v.jsxs)("h3",{class:"fw-bolder text-primary",children:[null===o||void 0===o?void 0:o.parameter_name," - ",null===o||void 0===o?void 0:o.parameter_weightage," %"]}),(0,v.jsx)("div",{children:(0,v.jsx)(d.Sv,{classNames:"",handleClick:()=>A(!N),text:"Add New KPI"})})]})]}),N&&(0,v.jsx)("div",{class:"addnewkpi",children:(0,v.jsxs)("div",{class:"addnewkpiInner",children:[(0,v.jsx)("span",{class:"updation",children:"Add New KPI"}),(0,v.jsxs)("div",{class:"form-group mb-3",children:[(0,v.jsx)(n.JU,{text:"KPI Description",required:!0}),(0,v.jsx)(n.pd,{type:"text",placeholder:"Enter here..",name:"kpiDescription",value:null===K||void 0===K?void 0:K.kpiDescription,onChange:e=>E(e)}),(null===_||void 0===_?void 0:_.kpiDescription)&&(0,v.jsx)(d.eo,{text:_.kpiDescription})]}),(0,v.jsxs)("div",{class:"form-group mb-3",children:[(0,v.jsx)(n.JU,{text:"KPI Measurement Criteria",required:!0}),(0,v.jsx)("label",{for:""}),(0,v.jsx)(n.pd,{type:"text",placeholder:"Enter here..",name:"kpiMeasurementCriteria",value:null===K||void 0===K?void 0:K.kpiMeasurementCriteria,onChange:e=>E(e)}),(null===_||void 0===_?void 0:_.kpiMeasurementCriteria)&&(0,v.jsx)(d.eo,{text:_.kpiMeasurementCriteria})]}),(0,v.jsxs)("div",{class:"form-group mb-3",children:[(0,v.jsx)(n.JU,{text:"KPI Weightage",required:!0}),(0,v.jsx)("label",{for:""}),(0,v.jsx)(n.pd,{type:"number",placeholder:"Enter here..",name:"kpiWeightage",value:null===K||void 0===K?void 0:K.kpiWeightage,onChange:e=>E(e)}),(null===_||void 0===_?void 0:_.kpiWeightage)&&(0,v.jsx)(d.eo,{text:_.kpiWeightage})]}),"target_achivement"===(null===h||void 0===h?void 0:h.kra_rating_type)&&(0,v.jsxs)("div",{class:"form-group mb-3",children:[(0,v.jsx)(n.JU,{text:"KPI Target"}),(0,v.jsx)("label",{for:""}),(0,v.jsx)(n.pd,{type:"number",placeholder:"Enter here..",name:"kpiTarget",value:null===K||void 0===K?void 0:K.kpiTarget,onChange:e=>E(e)}),(null===_||void 0===_?void 0:_.kpiTarget)&&(0,v.jsx)(d.eo,{text:_.kpiTarget})]}),(0,v.jsx)(d.Sv,{classNames:"btn btn-primary gradientBg",handleClick:()=>(async()=>{const e=await(0,u.i6)(g.E6,K);if(e.isValid){const e={parameter_id:null===o||void 0===o?void 0:o._id,key_performance_indicator:(null===K||void 0===K?void 0:K.kpiDescription)||"",measurement_criteria:(null===K||void 0===K?void 0:K.kpiMeasurementCriteria)||"",kpi_weightage:(null===K||void 0===K?void 0:K.kpiWeightage)||"",kpi_target:(null===K||void 0===K?void 0:K.kpiTarget)||""};p(e)}else D(e.errors)})(),text:"Submit"})]})})]}),(0,v.jsx)(l.Ak,{data:x,fields:[{key:"sn",label:"S.No"},{key:"key_performance_indicator",label:"Description"},{key:"measurement_criteria",label:"Measurement Criteria"},{key:"kpi_weightage",label:"Kpi Weightage"},{key:"created_at",label:"Created At"},{key:"action",label:"Action"}],pagination:!0,isHeader:!1,tableStyle:{padding:"0px",boxShadow:"none"},scopedSlots:y,isLoading:a})]}),(0,v.jsx)("div",{class:"offcanvas-footer",children:(0,v.jsx)("div",{class:"d-flex align-items-center justify-content-end gap-3",children:(0,v.jsx)("button",{type:"button",class:"btn btn-secondary",onClick:()=>t(),children:"Back"})})})]}),s&&(0,v.jsx)("div",{className:"modal-backdrop fade show"})]})},N=e=>{const{openCloseModal:a,isOpen:t,selectedKRA:s,handleCreateUpdateParameter:l,selectedKRAParameterData:r}=e,{t:o}=(0,c.K)(),[m,p]=(0,i.useState)(""),[h,x]=(0,i.useState)(""),[j,f]=(0,i.useState)(!1),[b,_]=(0,i.useState)({parameterName:"",parameterWeightage:""}),D=(e,a)=>{var t;const i=a||(null===(t=e.target)||void 0===t?void 0:t.name),{value:s,type:l,checked:n}=e.target?e.target:{value:e};_((e=>({...e,[i]:"checkbox"===l?n:s}))),x((e=>({...e,[i]:void 0})))};(0,i.useEffect)((()=>()=>{}),[t]);return(0,i.useEffect)((()=>{r&&_({parameterName:null===r||void 0===r?void 0:r.parameter_name,parameterWeightage:null===r||void 0===r?void 0:r.parameter_weightage})}),[r]),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:"offcanvas offcanvas-end  "+(t?"show":""),tabIndex:-1,style:{visibility:t?"visible":"hidden"},id:"interviewDetail",children:[(0,v.jsxs)("div",{className:"offcanvas-header",children:[(0,v.jsx)("h5",{className:"offcanvas-title  fs-5 fw-bold text-primary",children:o("headings.addKpi")}),(0,v.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close",onClick:()=>a()})]}),(0,v.jsxs)("div",{className:"offcanvas-body",children:[(0,v.jsxs)("div",{className:"d-flex justify-content-between align-items-center typerating mb-3",children:[(0,v.jsx)("div",{className:"",children:(0,v.jsxs)("span",{children:["KRA Name ",(0,v.jsx)("strong",{children:null===s||void 0===s?void 0:s.kra_name})]})}),(0,v.jsx)("div",{className:"",children:(0,v.jsxs)("span",{children:["Department ",(0,v.jsx)("strong",{children:null===s||void 0===s?void 0:s.department_name})]})}),(0,v.jsx)("div",{className:"",children:(0,v.jsxs)("span",{children:["Rating Type ",(0,v.jsx)("strong",{children:null===s||void 0===s?void 0:s.kra_rating_type})]})})]}),(0,v.jsx)("div",{className:"addnewkpi mb-2",children:(0,v.jsxs)("div",{className:"addnewkpiInner h-100 overflow-hidden",children:[(0,v.jsx)("span",{className:"updation",children:"Update Parameter"}),(0,v.jsxs)("div",{className:"form-group mb-3",children:[(0,v.jsx)("label",{htmlFor:"",children:"Parameter Name"}),(0,v.jsx)(n.pd,{type:"text",placeholder:"Enter here..",name:"parameterName",value:null===b||void 0===b?void 0:b.parameterName,onChange:e=>D(e)})]}),(0,v.jsxs)("div",{className:"form-group mb-3",children:[(0,v.jsx)("label",{htmlFor:"",children:"Parameter Weightage"}),(0,v.jsx)(n.pd,{type:"number",name:"parameterWeightage",value:null===b||void 0===b?void 0:b.parameterWeightage,onChange:e=>D(e)})]}),(0,v.jsx)(d.Sv,{classNames:"btn btn-primary gradientBg",handleClick:()=>(async()=>{const e=await(0,u.i6)(g.yQ,b);if(e.isValid){const e={kra_id:null===s||void 0===s?void 0:s._id,parameter_name:null===b||void 0===b?void 0:b.parameterName,parameter_weightage:null===b||void 0===b?void 0:b.parameterWeightage};l(e)}else p(e.errors)})(),text:"Update "})]})})]}),(0,v.jsx)("div",{class:"offcanvas-footer",children:(0,v.jsx)("div",{class:"d-flex align-items-center justify-content-end gap-3"})})]}),t&&(0,v.jsx)("div",{className:"modal-backdrop fade show"})]})};var A=t(35685);const K=e=>{const{getAllKpiDetailsDataPending:a}=(0,m.d4)((e=>e.pms)),{toggleOpenClose:t,isOpen:s,selectedSubKpiParameterData:l,handleCreateUpdateKpiSubParameter:r,selectedKRA:o}=e,{t:p}=(0,c.K)(),[h,x]=(0,i.useState)(""),[j,f]=(0,i.useState)({kpiDescription:"",kpiMeasurementCriteria:"",kpiWeightage:""}),b=(e,a)=>{var t;const i=a||(null===(t=e.target)||void 0===t?void 0:t.name),{value:s,type:l,checked:n}=e.target?e.target:{value:e};f((e=>({...e,[i]:"checkbox"===l?n:s}))),x((e=>({...e,[i]:void 0})))};(0,i.useEffect)((()=>()=>{_()}),[s]);const _=()=>{f({kpiDescription:"",kpiMeasurementCriteria:"",kpiWeightage:""})};return(0,i.useEffect)((()=>{l&&f({kpiDescription:null===l||void 0===l?void 0:l.key_performance_indicator,kpiMeasurementCriteria:null===l||void 0===l?void 0:l.measurement_criteria,kpiWeightage:null===l||void 0===l?void 0:l.kpi_weightage})}),[l]),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:"offcanvas offcanvas-end  "+(s?"show":""),tabIndex:-1,style:{visibility:s?"visible":"hidden"},id:"interviewDetail",children:[(0,v.jsxs)("div",{className:"offcanvas-header",children:[(0,v.jsx)("h5",{className:"offcanvas-title  fs-5 fw-bold text-primary",children:p("headings.addKpi")}),(0,v.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close",onClick:()=>t()})]}),(0,v.jsxs)("div",{className:"offcanvas-body",children:[(0,v.jsxs)("div",{className:"d-flex justify-content-between align-items-center typerating mb-3",children:[(0,v.jsx)("div",{className:"",children:(0,v.jsxs)("span",{children:["KRA Name ",(0,v.jsx)("strong",{children:null===o||void 0===o?void 0:o.kra_name})]})}),(0,v.jsx)("div",{className:"",children:(0,v.jsxs)("span",{children:["Department ",(0,v.jsx)("strong",{children:null===o||void 0===o?void 0:o.department_name})]})}),(0,v.jsx)("div",{className:"",children:(0,v.jsxs)("span",{children:["Rating Type ",(0,v.jsx)("strong",{children:null===o||void 0===o?void 0:o.kra_rating_type})]})})]}),(0,v.jsx)("div",{class:"inputFeild",children:(0,v.jsx)("div",{class:"addnewkpi",children:(0,v.jsxs)("div",{class:"addnewkpiInner",children:[(0,v.jsx)("span",{class:"updation",children:"Update KPI Parameter"}),(0,v.jsxs)("div",{class:"form-group mb-3",children:[(0,v.jsx)(n.JU,{text:"KPI Description",required:!0}),(0,v.jsx)(n.pd,{type:"text",placeholder:"Enter here..",name:"kpiDescription",value:null===j||void 0===j?void 0:j.kpiDescription,onChange:e=>b(e)}),(null===h||void 0===h?void 0:h.kpiDescription)&&(0,v.jsx)(d.eo,{text:h.kpiDescription})]}),(0,v.jsxs)("div",{class:"form-group mb-3",children:[(0,v.jsx)(n.JU,{text:"KPI Measurement Criteria",required:!0}),(0,v.jsx)("label",{for:""}),(0,v.jsx)(n.pd,{type:"text",placeholder:"Enter here..",name:"kpiMeasurementCriteria",value:null===j||void 0===j?void 0:j.kpiMeasurementCriteria,onChange:e=>b(e)}),(null===h||void 0===h?void 0:h.kpiMeasurementCriteria)&&(0,v.jsx)(d.eo,{text:h.kpiMeasurementCriteria})]}),(0,v.jsxs)("div",{class:"form-group mb-3",children:[(0,v.jsx)(n.JU,{text:"KPI Weightage",required:!0}),(0,v.jsx)("label",{for:""}),(0,v.jsx)(n.pd,{type:"number",placeholder:"Enter here..",name:"kpiWeightage",value:null===j||void 0===j?void 0:j.kpiWeightage,onChange:e=>b(e)}),(null===h||void 0===h?void 0:h.kpiWeightage)&&(0,v.jsx)(d.eo,{text:h.kpiWeightage})]}),(0,v.jsx)(d.Sv,{classNames:"btn btn-primary gradientBg",handleClick:()=>(async()=>{const e=await(0,u.i6)(g.E6,j);if(e.isValid){const e={key_performance_indicator:null===j||void 0===j?void 0:j.kpiDescription,measurement_criteria:null===j||void 0===j?void 0:j.kpiMeasurementCriteria,kpi_weightage:null===j||void 0===j?void 0:j.kpiWeightage};r(e)}else x(e.errors)})(),text:"Update"})]})})})]}),(0,v.jsx)("div",{class:"offcanvas-footer",children:(0,v.jsx)("div",{class:"d-flex align-items-center justify-content-end gap-3",children:(0,v.jsx)("button",{type:"button",class:"btn btn-secondary",onClick:()=>t(),children:"Back"})})})]}),s&&(0,v.jsx)("div",{className:"modal-backdrop fade show"})]})};var k=t(73216);const E=()=>{const e=(0,m.wA)(),{t:a}=(0,c.K)(),{getDepartmentListRes:t,getDepartmentListError:l,getDepartmentListPending:n,getSubDepartmentByDepartmentRes:r,getSubDepartmentByDepartmentError:d,getSubDepartmentByDepartmentPending:o}=(0,m.d4)((e=>e.department)),{getFinancialYearListRes:u,getFinancialYearListError:g,getFinancialYearListPending:j}=(0,m.d4)((e=>e.financialYear)),{createKraPending:E,createKraRes:y,createKraError:R,getKraDetailsPending:P,getKraDetailsRes:S,getKraDetailsError:C,updateKraDetailPending:w,updateKraDetailRes:T,updateKraDetailError:L,deleteKraDetailPending:M,deleteKraDetailRes:I,deleteKraDetailError:O,createKraParameterPending:U,createKraParameterRes:W,createKraParameterError:Y,getKraParameterPending:q,getKraParameterRes:F,getKraParameterError:H,getAllKraParameterDataPending:B,getAllKraParameterDataRes:J,getAllKraParameterDataError:V,updateKraParameterPending:G,updateKraParameterRes:$,updateKraParameterError:z,deleteKraParameterPending:Q,deleteKraParameterRes:X,deleteKraParameterError:Z,createKPiDetailsPending:ee,createKPiDetailsRes:ae,createKPiDetailsError:te,getAllKpiDetailsDataPending:ie,getAllKpiDetailsDataRes:se,getAllKpiDetailsDataError:le,updateKpiDetailPending:ne,updateKpiDetailRes:re,updateKpiDetailError:de,deleteKpiDetailPending:oe,deleteKpiDetailRes:ce,deleteKpiDetailError:me,getAllKraRatingTypeForDepartmentPending:ve,getAllKraRatingTypeForDepartmentRes:pe,getAllKraRatingTypeForDepartmentError:ue,selectedKraDetailData:ge}=(0,m.d4)((e=>e.pms)),{getAllEmployeePending:he,getAllEmployeeRes:xe,getAllEmployeeError:je}=(0,m.d4)((e=>e.employee)),fe=(0,k.Zp)(),[be,_e]=(0,i.useState)(!1),[De,Ne]=(0,i.useState)(!1),[Ae,Ke]=(0,i.useState)(""),[ke,Ee]=(0,i.useState)(""),[ye,Re]=(0,i.useState)(""),[Pe,Se]=(0,i.useState)(1),[Ce,we]=(0,i.useState)(!1),[Te,Le]=(0,i.useState)([]),[Me,Ie]=(0,i.useState)(!1),[Oe,Ue]=(0,i.useState)(!1),[We,Ye]=(0,i.useState)(""),[qe,Fe]=(0,i.useState)(""),[He,Be]=(0,i.useState)(""),[Je,Ve]=(0,i.useState)(""),[Ge,$e]=(0,i.useState)(""),[ze,Qe]=(0,i.useState)(""),[Xe,Ze]=(0,i.useState)(""),[ea,aa]=(0,i.useState)(""),[ta,ia]=(0,i.useState)(!1),[sa,la]=(0,i.useState)(""),[na,ra]=(0,i.useState)(!1),[da,oa]=(0,i.useState)([]),[ca,ma]=(0,i.useState)(""),va=()=>{_e(!be)},pa=e=>{e&&(Ye(e),Na({kra_id:null===e||void 0===e?void 0:e._id})),Ne(!De)},ua=[{classNames:"btn-primary",onClick:va,text:"New KRA"}];(0,i.useEffect)((()=>{ga(),xa(),ha()}),[]);const ga=()=>{const a=null===t||void 0===t?void 0:t.data;null!==a&&void 0!==a&&a.length?Ke(a):e(h.vd.getDepartmentListRequest())};(0,i.useEffect)((()=>{if(!n){if(l)return;if(t&&200===(null===t||void 0===t?void 0:t.code)){const e=null===t||void 0===t?void 0:t.data;Ke(e)}}}),[t,l,n]);const ha=()=>{const a=null===xe||void 0===xe?void 0:xe.data;null!==a&&void 0!==a&&a.length?oa(a):e(h.mM.getAllEmployeeRequest())};(0,i.useEffect)((()=>{if(!he){if(je)return;if(xe&&200===(null===xe||void 0===xe?void 0:xe.code)){const e=null===xe||void 0===xe?void 0:xe.data;oa(e)}}}),[xe,je,he]);const xa=()=>{e(h.Cm.getFinancialYearListRequest())};(0,i.useEffect)((()=>{if(!j){if(g)return;u&&200===(null===u||void 0===u?void 0:u.code)&&Ee(null===u||void 0===u?void 0:u.data)}}),[u,g,j]);(0,i.useEffect)((()=>{if(!E){if(R)return void e(h.u7.handleClearPMSStore("HANDLE_CLEAR_CREATE_KRA_STORE"));y&&200===(null===y||void 0===y?void 0:y.code)&&(e(h.u7.handleClearPMSStore("HANDLE_CLEAR_CREATE_KRA_STORE")),e(h.u7.handleClearPMSStore("HANDLE_CLEAR_GET_KRA_DETAILS_STORE")),ja(),va())}}),[E,y,R]),(0,i.useEffect)((()=>{if(!w){if(L)return;T&&200===(null===T||void 0===T?void 0:T.code)&&(e(h.u7.handleClearPMSStore("HANDLE_CLEAR_UPDATE_KRA_DETAIL_STORE")),e(h.u7.handleClearPMSStore("HANDLE_CLEAR_GET_KRA_DETAILS_STORE")),ja())}}),[w,T,L]),(0,i.useEffect)((()=>{ja()}),[Pe]);const ja=()=>{const a={page:Pe,limit:b.X$.limit};e(h.u7.getKraDetailsRequest(a))};(0,i.useEffect)((()=>{if(!P){if(C)return;S&&200===(null===S||void 0===S?void 0:S.code)&&Re(null===S||void 0===S?void 0:S.data)}}),[S,C,P]);const fa=e=>{we(!Ce)};(0,i.useEffect)((()=>{if(!M){if(O)return void e(h.u7.handleClearPMSStore("HANDLE_CLEAR_DELETE_KRA_DETAIL_STORE"));var a;if(I)if(200===(null===I||void 0===I?void 0:I.code))e(h.u7.handleClearPMSStore("HANDLE_CLEAR_DELETE_KRA_DETAIL_STORE")),e(h.u7.handleClearPMSStore("HANDLE_CLEAR_GET_KRA_DETAILS_STORE")),fa(),Pe>1&&1===(null===ye||void 0===ye||null===(a=ye.data)||void 0===a?void 0:a.length)?Se((e=>e-1)):ja()}}),[I,O,M]);(0,i.useEffect)((()=>{if(!o){if(d)return;r&&200===(null===r||void 0===r?void 0:r.code)&&Le(null===r||void 0===r?void 0:r.data)}}),[r,d,o]);const ba=e=>{e&&(Ye(e),Na({kra_id:null===e||void 0===e?void 0:e._id})),Ie(!Me)},_a=e=>{Ze(e),Ue(!Oe)},Da=a=>{Xe?(a._id=null===Xe||void 0===Xe?void 0:Xe._id,e(h.u7.updateKraParameterRequest(a))):e(h.u7.createKraParameterRequest(a))};(0,i.useEffect)((()=>{if(!U){if(R)return void e(h.u7.handleClearPMSStore("HANDLE_CLEAR_CREATE_KRA_PARAMETER_STORE"));W&&200===(null===W||void 0===W?void 0:W.code)&&(e(h.u7.handleClearPMSStore("HANDLE_CLEAR_CREATE_KRA_PARAMETER_STORE")),Na({kra_id:null===We||void 0===We?void 0:We._id}))}}),[U,W,Y]),(0,i.useEffect)((()=>{if(!G){if(z)return;$&&200===(null===$||void 0===$?void 0:$.code)&&(e(h.u7.handleClearPMSStore("HANDLE_CLEAR_UPDATE_KRA_PARAMETER_STORE")),_a(""),Na({kra_id:null===We||void 0===We?void 0:We._id}))}}),[G,$,z]);(0,i.useEffect)((()=>{if(!q){if(H)return;F&&200===(null===F||void 0===F?void 0:F.code)&&Fe(null===F||void 0===F?void 0:F.data)}}),[q,F,H]);const Na=a=>{Be(null),e(h.u7.getAllKraParameterDataRequest(a))};(0,i.useEffect)((()=>{if(!B){if(V)return;J&&200===(null===J||void 0===J?void 0:J.code)&&Be(J)}}),[B,J,V]);const Aa=e=>{Ze(e||""),aa(!ea)};(0,i.useEffect)((()=>{if(!Q){if(Z)return void e(h.u7.handleClearPMSStore("HANDLE_CLEAR_DELETE_KRA_PARAMETER_STORE"));X&&200===(null===X||void 0===X?void 0:X.code)&&(e(h.u7.handleClearPMSStore("HANDLE_CLEAR_DELETE_KRA_PARAMETER_STORE")),Aa(),Na({kra_id:null===We||void 0===We?void 0:We._id}))}}),[Q,X,Z]);const Ka=e=>{e&&(Ve(e),ya({parameter_id:null===e||void 0===e?void 0:e._id})),$e(!Ge),ba()},ka=e=>{e&&la(e),ia(!ta)},Ea=a=>{sa?(a.parameter_id=null===Je||void 0===Je?void 0:Je._id,a._id=null===sa||void 0===sa?void 0:sa._id,e(h.u7.updateKpiDetailRequest(a))):e(h.u7.createKPiDetailsRequest(a))};(0,i.useEffect)((()=>{if(!ee){if(te)return void e(h.u7.handleClearPMSStore("HANDLE_CLEAR_CREATE_KPI_DETAILS_STORE"));ae&&200===(null===ae||void 0===ae?void 0:ae.code)&&(e(h.u7.handleClearPMSStore("HANDLE_CLEAR_CREATE_KPI_DETAILS_STORE")),ya({parameter_id:null===Je||void 0===Je?void 0:Je._id}))}}),[ee,ae,te]),(0,i.useEffect)((()=>{if(!ne){if(de)return void e(h.u7.handleClearPMSStore("HANDLE_CLEAR_UPDATE_KPI_DETAIL_STORE"));re&&200===(null===re||void 0===re?void 0:re.code)&&(e(h.u7.handleClearPMSStore("HANDLE_CLEAR_UPDATE_KPI_DETAIL_STORE")),la(""),ka(),ya({parameter_id:null===Je||void 0===Je?void 0:Je._id}))}}),[ne,re,de]);const ya=a=>{Qe(null),e(h.u7.getAllKpiDetailsDataRequest(a))};(0,i.useEffect)((()=>{if(!ie){if(le)return;se&&200===(null===se||void 0===se?void 0:se.code)&&Qe(null===se||void 0===se?void 0:se.data)}}),[ie,se,le]);const Ra=e=>{la(e||""),ra(!na)};(0,i.useEffect)((()=>{if(!oe){if(me)return void e(h.u7.handleClearPMSStore("HANDLE_CLEAR_DELETE_KPI_DETAIL_STORE"));ce&&200===(null===ce||void 0===ce?void 0:ce.code)&&(e(h.u7.handleClearPMSStore("HANDLE_CLEAR_DELETE_KPI_DETAIL_STORE")),Ra(),ya({parameter_id:null===Je||void 0===Je?void 0:Je._id}))}}),[oe,ce,me]);return(0,i.useEffect)((()=>{if(!ve){if(ue)return;pe&&200===(null===pe||void 0===pe?void 0:pe.code)&&ma(null===pe||void 0===pe?void 0:pe.data)}}),[ve,pe,ue]),(0,v.jsxs)("div",{children:[(0,v.jsx)(s.A,{titleName:"Add New Key Responsibility Areas (KRA)",buttons:ua}),(0,v.jsx)(p,{toggleAssignKRA:a=>{e(h.u7.selectedKraDetailData(a)),fe("assign-kra")},toggleViewKRAParameter:pa,financialYearListData:ke,allKraDetailsData:ye,toggleAddKraParameter:ba}),be&&(0,v.jsx)(x,{openModel:be,handleOpenClose:va,allDepartmentList:Ae,financialYearListData:ke,handleCreateUpdateKra:a=>{e(h.u7.createKraRequest(a))},getSubDepartmentByDepartment:a=>{const t={department_id:a};e(h.vd.getSubDepartmentByDepartmentRequest(t))},subDepartmentByDepartmentData:Te,getAllKraRatingTypeForDepartmentData:a=>{e(h.u7.getAllKraRatingTypeForDepartmentRequest({function_id:a}))},kraRatingTypeData:ca}),De&&(0,v.jsx)(f,{openModel:De,handleOpenClose:pa,allKRAParameterData:He,selectedKRA:We,kpiSubParameterData:ze,getKpiSubParameterData:ya}),Me&&(0,v.jsx)(_,{openAddKraParameter:Me,toggleAddKraParameter:ba,selectedKRA:We,handleCreateUpdateParameter:Da,allKRAParameterData:He,toggleAddUpdateKpiSubParameter:Ka,toggleUpdateKraParameterModal:_a,toggleDeleteKraParameterModal:Aa}),Ge&&(0,v.jsx)(D,{isOpen:Ge,toggleOpenClose:Ka,selectedKpiParameterData:Je,selectedKRA:We,handleCreateUpdateKpiSubParameter:Ea,kpiSubParameterData:ze,toggleUpdateKpiSubParameter:ka,toggleDeleteSubKpiParameterModal:Ra}),Oe&&(0,v.jsx)(N,{isOpen:Oe,openCloseModal:_a,selectedKRA:We,handleCreateUpdateParameter:Da,allKRAParameterData:He,selectedKRAParameterData:Xe}),ta&&(0,v.jsx)(K,{isOpen:ta,toggleOpenClose:ka,selectedSubKpiParameterData:sa,selectedKRA:We,handleCreateUpdateKpiSubParameter:Ea}),ea&&(0,v.jsx)(A.A,{onApproveReject:a=>{if(a){const a={_id:null===Xe||void 0===Xe?void 0:Xe._id};e(null===h.u7||void 0===h.u7?void 0:h.u7.deleteKraParameterRequest(a))}else Aa()},isShow:ea,desc:a("alerts.deletePopup.desc").replace("$1","Parameter"),btnRightLoading:Q,btnTextRight:a("btns.delete"),btnTextLeft:a("btns.cancel")}),na&&(0,v.jsx)(A.A,{onApproveReject:a=>{if(a){const a={_id:null===sa||void 0===sa?void 0:sa._id};e(null===h.u7||void 0===h.u7?void 0:h.u7.deleteKpiDetailRequest(a))}else Ra()},isShow:na,desc:a("alerts.deletePopup.desc").replace("$1","KPI Parameter"),btnRightLoading:oe,btnTextRight:a("btns.delete"),btnTextLeft:a("btns.cancel")})]})}},25515:(e,a,t)=>{t.d(a,{A:()=>o});var i=t(65043),s=t(45531),l=t(56462),n=t(90607),r=t(85831),d=t(70579);const o=e=>{const{t:a}=(0,n.K)(),{openModel:t,handleOpenClose:o,allKraDetailsData:c,handleAssignKra:m}=e,[v,p]=(0,i.useState)(null);return(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"modal fade attendanceViewodal",id:"assignKra",style:{display:t?"unset !important":"none !important",opacity:t?"unset":"0"},children:(0,d.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:(0,d.jsxs)("div",{className:"modal-content rounded-0 border-0",children:[(0,d.jsxs)("div",{className:"modal-header border-0",children:[(0,d.jsx)("h1",{className:"modal-title fs-5 fw-bold text-primary",children:"Assign KRA"}),(0,d.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:()=>o()})]}),(0,d.jsxs)("div",{className:"modal-body ",children:[(0,d.jsxs)("div",{className:"approveSlct mb-3",children:[(0,d.jsx)(s.JU,{text:"Assign To",required:!0}),(0,d.jsx)(l.A,{data:c||[],placeholder:"Select KRA",value:v,handleChange:e=>p(e),name:"id"})]}),(0,d.jsx)("div",{className:"py-2",children:(0,d.jsx)(r.Sv,{classNames:"btn btn-primary gradientBg mt-2",text:"Assign KRA",handleClick:()=>(()=>{let e={kra_id:null===v||void 0===v?void 0:v.value};m(e)})()})})]})]})})}),t&&(0,d.jsx)("div",{className:"modal-backdrop fade show"})]})}}}]);
//# sourceMappingURL=8281.1998dd2f.chunk.js.map