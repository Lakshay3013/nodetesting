"use strict";(self.webpackChunkglueple_user=self.webpackChunkglueple_user||[]).push([[3110],{96816:(e,l,a)=>{a.d(l,{A:()=>n});a(65043);var t=a(70579);const n=()=>(0,t.jsx)("div",{children:(0,t.jsxs)("svg",{version:"1.1",id:"Layer_1",x:0,y:0,viewBox:"0 0 512 512",xmlSpace:"preserve",className:"icon icon-xlg me-2",style:{height:"23px",width:"23px",cursor:"pointer"},children:[(0,t.jsx)("circle",{id:"Oval-3",opacity:".1",fill:"#2B76D2",cx:256,cy:256,r:256}),(0,t.jsx)("path",{fill:"#2B76D2",d:"M277.3 362.7c-5.3 0-10.6-2-14.7-5.9l-85.3-81.5c-4.1-3.9-6.5-9.3-6.6-15-.1-5.7 2-11.1 5.9-15.2l85.3-89.1c8.1-8.5 21.7-8.8 30.2-.7 8.5 8.1 8.8 21.6.7 30.2l-70.6 73.7 69.9 66.8c8.5 8.1 8.8 21.6.7 30.1-4.2 4.4-9.8 6.6-15.5 6.6z"})]})})},83110:(e,l,a)=>{a.r(l),a.d(l,{default:()=>m});var t=a(65043),n=a(22166),i=a(96816),d=a(35475),s=a(45531),o=a(92250),r=a(90607),c=a(49985),v=(a(56462),a(94174)),u=a(70579);const m=()=>{const{t:e}=(0,r.K)(),l=(0,n.wA)(),{selectedEmployeeData:a,addEmployeeInvestmentPending:m,addEmployeeInvestmentRes:p,addEmployeeInvestmentError:x,updateEmployeeInvestmentPending:h,updateEmployeeInvestmentRes:g,updateEmployeeInvestmentError:_,getEmployeeInvestmentPending:y,getEmployeeInvestmentRes:j,getEmployeeInvestmentError:N,getAllInvestmentCategoryDetailsPending:f,getAllInvestmentCategoryDetailsRes:E,getAllInvestmentCategoryDetailsError:b}=(0,n.d4)((e=>e.payroll)),[I,C]=(0,t.useState)(""),[k,R]=(0,t.useState)(),[S,T]=(0,t.useState)({taxType:"old_tax_regime",houseRent:[{from:"",to:"",amount:"",address:"",landlord_name:"",metroNonMetro:null,landlord_pan:""}],letOutPropertyDeclarations:[{annualRentReceived:"",municipalTaxesPaid:"",netAnnualValue:"",netIncomeLoss:"",repayingHomeLoan:!1}],investment80C:[{investment:null,amount:""}],investment80D:[{investment:null,amount:""}],otherInvestment:[{investment:null,amount:""}],previousEmployment:[{incomeTax:"",professionalTax:"",employeeProvidentFund:"",leaveEncashmentExemptions:""}],homeLoanDeclarations:[{principalPaid:"",interestPaid:"",lenderName:"",lenderPen:""}],otherSourceIncome:[{otherSources:"",savingsDeposit:"",fixedDeposit:"",nationalIncome:""}]}),[D,A]=(0,t.useState)({employeeRent:!1,employeeRepaying:!1,employeeReceivingIncome:!1,otherSourceIncome:!1,previousEmployment:!1}),[L,P]=(0,t.useState)(""),[w,O]=(0,t.useState)([]),[V,F]=(0,t.useState)([]),[M,B]=(0,t.useState)(""),H=(e,l,a,t)=>{var n;const i=l||(null===(n=e.target)||void 0===n?void 0:n.name),{value:d,type:s,checked:o}=null!==e&&void 0!==e&&e.target?e.target:{value:e};T((e=>{let l={...e};return t?l[t]=e[t].map(((e,l)=>l===a?{...e,[i]:"checkbox"===s?o:d}:e)):l[i]=d,l}))};(0,t.useEffect)((()=>{if(!m){if(x)return void l(v.Vg.handleClearPayrollStore("HANDLE_CLEAR_ADD_EMPLOYEE_INVESTMENT_STORE"));p&&200===(null===p||void 0===p?void 0:p.code)&&l(v.Vg.handleClearPayrollStore("HANDLE_CLEAR_ADD_EMPLOYEE_INVESTMENT_STORE"))}}),[p,x,m]),(0,t.useEffect)((()=>{if(!h){if(_)return void l(v.Vg.handleClearPayrollStore("HANDLE_CLEAR_UPDATE_EMPLOYEE_INVESTMENT_STORE"));g&&200===(null===g||void 0===g?void 0:g.code)&&l(v.Vg.handleClearPayrollStore("HANDLE_CLEAR_UPDATE_EMPLOYEE_INVESTMENT_STORE"))}}),[g,_,h]),(0,t.useEffect)((()=>{Y(),U()}),[]);const Y=()=>{const e={_id:null===a||void 0===a?void 0:a._id};l(v.Vg.getEmployeeInvestmentRequest(e))};(0,t.useEffect)((()=>{if(!y){if(N)return;j&&(null===j||void 0===j||j.code)}}),[j,N,y]);const U=()=>{l(v.Vg.getAllInvestmentCategoryDetailsRequest())};(0,t.useEffect)((()=>{if(!f){if(b)return;if(E&&200===(null===E||void 0===E?void 0:E.code)){var e;F(null===E||void 0===E?void 0:E.data);let l=[];null===E||void 0===E||null===(e=E.data)||void 0===e||e.forEach((e=>{let a=[];if("dropdown"===(null===e||void 0===e?void 0:e.input_type))a.push(e);else{var t;let l={};null===e||void 0===e||null===(t=e.sub_category)||void 0===t||t.forEach(((e,a)=>{l[a]={...e}})),a.push(l)}l.push({...e,data:a})})),C(l)}}}),[E,b,f]);const $=(e,l,a)=>{"add"===e?C((e=>{var t,n,i;let d=[...e],s={...null===(t=d[a])||void 0===t||null===(n=t.data)||void 0===n?void 0:n[l],selected_value:"",select_input_type:""};return d[a]={...d[a],data:[...null===(i=d[a])||void 0===i?void 0:i.data,s]},d})):"delete"===e&&C((e=>{let t=[...e],n={...t[a]};return n.data=n.data.filter(((e,a)=>a!==l)),t[a]=n,t}))};console.log(I,"itData--------------");const q=(e,l)=>{var a;let t={};return null===I||void 0===I||null===(a=I.filter(((e,a)=>a===l)))||void 0===a||a.map(((e,l)=>{var a;null===e||void 0===e||null===(a=e.data)||void 0===a||a.map((e=>{var l;null===e||void 0===e||null===(l=e.sub_category)||void 0===l||l.map(((l,a)=>{(null===e||void 0===e?void 0:e.selected_value)===(null===l||void 0===l?void 0:l.sub_category_name)&&(t=l)}))}))})),t},z=(e,l)=>{var a,t;return(0,u.jsx)("div",{className:"card-body",children:"dropdown"===(null===e||void 0===e?void 0:e.input_type)?null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.map(((a,t)=>{var n,i,d,o,r,v,m;return(0,u.jsxs)(u.Fragment,{children:[(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.length)>1&&(0,u.jsxs)("div",{className:"text-danger d-flex justify-content-end  mb-1",style:{cursor:"pointer"},onClick:()=>$("delete",t,l),children:[(0,u.jsx)(s.In,{className:"bi bi-trash-fill me-1"}),(0,u.jsx)(s.L1,{className:"mt-1",text:"Remove"})]}),(0,u.jsxs)("div",{className:"row",children:[(0,u.jsx)("div",{className:"col-md-7 form-group mb-3",children:(0,u.jsxs)("select",{value:(null===e||void 0===e||null===(i=e.data[t])||void 0===i?void 0:i.selected_value)||"",className:"form-control",name:"selected_value",onChange:e=>((e,l,a)=>{const{name:t,value:n}=e.target;C((e=>e.map(((e,i)=>{var d;return i===a?{...e,data:null===e||void 0===e||null===(d=e.data)||void 0===d?void 0:d.map(((e,a)=>a===l?{...e,[t]:n}:e))}:e}))))})(e,t,l),children:[(0,u.jsx)("option",{value:"",disabled:!0,children:"Select an option"}),null===a||void 0===a||null===(d=a.sub_category)||void 0===d?void 0:d.map(((e,l)=>(0,u.jsx)("option",{value:null===e||void 0===e?void 0:e.sub_category_name,children:null===e||void 0===e?void 0:e.sub_category_name},l)))]})}),(0,u.jsx)("div",{className:"col-md-2"}),(0,u.jsx)("div",{className:"col-md-3 form-group mb-3 ",children:(0,u.jsxs)("div",{className:"input-group mb-3",children:["number"===(null===(o=q(0,l))||void 0===o?void 0:o.input_type)&&(0,u.jsx)("span",{className:"input-group-text",id:"basic-addon1",children:(0,c.Fc)("")}),(0,u.jsx)(s.pd,{type:null===(r=q(0,l))||void 0===r?void 0:r.input_type,value:null===a||void 0===a?void 0:a.select_input_type,name:"select_input_type",onChange:e=>((e,l,a)=>{const{name:t,value:n}=e.target;C((e=>e.map(((e,i)=>{var d;return i===a?{...e,data:null===e||void 0===e||null===(d=e.data)||void 0===d?void 0:d.map(((e,a)=>a===l?{...e,[t]:n}:e))}:e}))))})(e,t,l)})]})}),(null===e||void 0===e||null===(v=e.data)||void 0===v?void 0:v.length)-1===t&&(0,u.jsxs)("div",{className:"text-primary mt-2",style:{cursor:"pointer"},onClick:()=>$("add",t,l),children:[(0,u.jsx)(s.In,{className:"bi bi-plus-circle-fill me-1"}),(0,u.jsx)(s.L1,{text:"Add Rent House"})]}),(null===e||void 0===e||null===(m=e.data)||void 0===m?void 0:m.length)>1&&(0,u.jsx)("hr",{})]})]})})):null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.map(((a,t)=>{var n,i,d;return(0,u.jsxs)(u.Fragment,{children:[(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.length)>1&&(0,u.jsxs)("div",{className:"text-danger d-flex justify-content-end  mb-1",style:{cursor:"pointer"},onClick:()=>G("delete",t,l),children:[(0,u.jsx)(s.In,{className:"bi bi-trash-fill me-1"}),(0,u.jsx)(s.L1,{className:"mt-1",text:"Remove"})]}),Object.entries(a).map((e=>{let[a,n]=e;return(0,u.jsxs)("div",{className:"row",children:[(0,u.jsx)("div",{className:"col-md-9 form-group mb-3",children:(0,u.jsx)("p",{className:"loan-para",children:n.sub_category_name})}),(0,u.jsx)("div",{className:"col-md-3",children:(0,u.jsx)("div",{className:"form-group mb-3",children:J(n,t,l,a)})})]},`${t}-${a}`)})),(null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.length)-1===t&&(0,u.jsxs)("div",{className:"text-primary mt-2",style:{cursor:"pointer"},onClick:()=>G("add",t,l),children:[(0,u.jsx)(s.In,{className:"bi bi-plus-circle-fill me-1"}),(0,u.jsx)(s.L1,{text:"Add Rent House"})]}),(null===e||void 0===e||null===(d=e.data)||void 0===d?void 0:d.length)>1&&(0,u.jsx)("hr",{})]})}))})},J=(e,l,a,t)=>{switch(null===e||void 0===e?void 0:e.input_type){case"checkbox":return(0,u.jsx)("div",{className:"col-md-9",children:(0,u.jsx)("div",{className:"form-group mb-3",children:(0,u.jsx)(s.P_,{checked:null===e||void 0===e?void 0:e.input_type_value,handleChange:e=>K(e,l,a,t),name:"input_type_value"},"is_active")})});case"number":case"text":return(0,u.jsxs)("div",{className:"input-group mb-3",children:["number"===(null===e||void 0===e?void 0:e.input_type)&&(0,u.jsx)("span",{className:"input-group-text",id:"basic-addon1",children:(0,c.Fc)("")}),(0,u.jsx)(s.pd,{type:null===e||void 0===e?void 0:e.input_type,value:(null===e||void 0===e?void 0:e.input_type_value)||"",name:"input_type_value",onChange:e=>K(e,l,a,t)})]});default:return null}},K=(e,l,a,t)=>{const{name:n,value:i,type:d,checked:s}=e.target,o="checkbox"===d?s:i;console.log(n,o,"name,inputValue------------"),C((e=>e.map(((e,i)=>{var d;return i===a?{...e,data:null===e||void 0===e||null===(d=e.data)||void 0===d?void 0:d.map(((e,a)=>a===l?{...e,[t]:{...e[t],[n]:o}}:e))}:e}))))},G=(e,l,a)=>{"add"===e?C((e=>{var t,n,i;let d=[...e],s={...null===(t=d[a])||void 0===t||null===(n=t.data)||void 0===n?void 0:n[l]};return Object.keys(s).forEach((e=>{s[e]={...s[e],input_type_value:""}})),d[a]={...d[a],data:[...null===(i=d[a])||void 0===i?void 0:i.data,s]},d})):"delete"===e&&C((e=>{let t=[...e],n={...t[a]};return n.data=n.data.filter(((e,a)=>a!==l)),t[a]=n,t}))};return(0,u.jsxs)("div",{className:"cardBox  myRequest p-4",children:[(0,u.jsxs)("div",{className:"d-flex",children:[(0,u.jsx)("div",{children:(0,u.jsx)(d.N_,{to:"/payroll-employees/employee-detail",children:(0,u.jsx)(i.A,{})})}),(0,u.jsx)("div",{children:(0,u.jsxs)("h5",{children:[null===a||void 0===a?void 0:a.name," IT Declaration"]})})]}),(0,u.jsx)("hr",{style:{margin:"0px"}}),(0,u.jsxs)("div",{className:"mt-3 col-12 it-declaration-body",children:[(0,u.jsxs)("div",{className:"alert ",role:"alert",style:{background:"#F7F8FF"},children:[(0,u.jsx)(s.In,{className:"bi bi-info-circle-fill",style:{color:"rgb(43, 118, 210)"}})," Enter your planned investment declarations here and choose the desired regime in the following page."]}),(0,u.jsx)("div",{children:(0,u.jsxs)("div",{className:"d-flex gap-3",children:[(0,u.jsx)("div",{className:"cardBox it-card "+("old_tax_regime"===(null===S||void 0===S?void 0:S.taxType)?"active":""),children:(0,u.jsx)(s.hI,{htmlFor:"old_tax_regime",text:"Old Tax Regime",name:"taxType",value:"old_tax_regime",checked:"old_tax_regime"===(null===S||void 0===S?void 0:S.taxType),handleChange:e=>H(e),radioClass:"mt-2"})}),(0,u.jsx)("div",{className:"cardBox it-card "+("new_tax_regime"===(null===S||void 0===S?void 0:S.taxType)?"active":""),children:(0,u.jsx)(s.hI,{htmlFor:"new_tax_regime",text:"New Tax Regime",name:"taxType",value:"new_tax_regime",checked:"new_tax_regime"===(null===S||void 0===S?void 0:S.taxType),handleChange:e=>H(e),radioClass:"mt-2"})})]})}),(0,u.jsxs)("div",{className:"mt-4",children:[(0,u.jsxs)("div",{className:"d-flex justify-content-between it-header",children:[(0,u.jsx)("div",{children:(0,u.jsx)(s.JU,{text:"Particulars",className:"text-dark"})}),(0,u.jsx)("div",{children:(0,u.jsx)(s.JU,{text:"Declared Amount",className:"text-dark"})})]}),(0,u.jsx)("hr",{style:{margin:"0px"}}),(0,u.jsx)("div",{className:"it-accordions mt-3",children:(0,u.jsx)("div",{id:"accordion",children:I&&(null===I||void 0===I?void 0:I.map(((e,l)=>(0,u.jsxs)("div",{className:"cardBox p-0 mb-3",children:[(0,u.jsxs)("div",{className:"d-flex justify-content-between p-3 "+(null!==D&&void 0!==D&&D[e._id]?"acc-header":""),id:`heading-${l}`,children:[(0,u.jsx)("h5",{className:"mb-0",children:null===e||void 0===e?void 0:e.category}),(0,u.jsxs)("div",{className:"d-flex",children:[(0,u.jsx)(s.L1,{className:"form-check-label mt-1 pe-4",text:null!==D&&void 0!==D&&D[e._id]?"Yes":"No"}),(0,u.jsx)("div",{className:"form-check form-switch",children:(0,u.jsx)(s.pd,{className:"form-check-input",type:"checkbox",id:`switch-${e._id}`,style:{fontSize:"20px"},name:e._id,onChange:l=>((e,l)=>{A((a=>({...a,[l]:e.target.checked})))})(l,e._id),checked:(null===D||void 0===D?void 0:D[e._id])||!1})})]})]}),(null===D||void 0===D?void 0:D[e._id])&&z(e,l)]},e._id))))})})]})]}),(0,u.jsx)("div",{className:"d-flex justify-content-end",children:(0,u.jsx)(o.Sv,{text:e(w?"btns.update":"btns.submit"),classNames:"btn btn-primary",handleClick:()=>(()=>{let e=[];null===I||void 0===I||I.map(((l,a)=>{null===e||void 0===e||e.push({[null===l||void 0===l?void 0:l._id]:null===l||void 0===l?void 0:l.data})})),console.log(e,"--------------------------------")})(),isLoading:w?h:m})})]})}}}]);
//# sourceMappingURL=3110.8d23a39c.chunk.js.map