"use strict";(self.webpackChunkglueple_user=self.webpackChunkglueple_user||[]).push([[3872],{73872:(e,a,l)=>{l.r(a),l.d(a,{default:()=>F});var s=l(65043),n=l(26362),t=l(92250),d=l(90607),i=l(82149),o=l(70579);const r=e=>{const{toggleAddArrearsModal:a}=e,{t:l}=(0,d.K)(),n=(0,s.useMemo)((()=>({sn:(e,a)=>(0,o.jsx)("span",{children:a+1})})),[]);return(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[(0,o.jsx)("h3",{className:"underlineHead ",style:{fontSize:"18px"},children:" Arrears"}),(0,o.jsx)(t.Sv,{classNames:"btn btn-primary gradientBg",handleClick:()=>a(),text:"Add Arrear"})]}),(0,o.jsx)("div",{className:"card p-3",children:(0,o.jsx)("div",{className:"row",children:(0,o.jsxs)("div",{className:"col-12 form-group mb-3",children:[(0,o.jsx)("h3",{className:"underlineHead ",style:{fontSize:"18px"},children:" Employees"}),(0,o.jsx)(i.A,{data:[],fields:[{key:"sn",label:"S.N"},{key:"Employee Name",label:"Employee Name"},{key:"emp_id",label:"Employee ID"},{key:"Year-month",label:"Year-month"},{key:"present_days",label:"Present Days"},{key:"pay_days",label:"Pay Days"},{key:"basic",label:"Basic"},{key:"hra",label:"HRA"},{key:"education_allowance",label:"Education Allowance"},{key:"meal_allowance",label:"Meal Allowance"},{key:"petrol_allowance",label:"Petrol Allowance"},{key:"special_allowance",label:"Special Allowance"},{key:"lta",label:"LTA "},{key:"arrear",label:"Arrear"},{key:"pf_contribution",label:"PF-Employee Contribution"},{key:"esi_contribution",label:"ESI Employee Contribution"},{key:"action",label:"Action"}],pagination:!0,isHeader:!1,tableStyle:{padding:"0px",boxShadow:"none"},scopedSlots:n})]})})}),(0,o.jsx)(t.Sv,{classNames:"btn btn-primary gradientBg mt-2",text:"Save"})]})};var c=l(61487),m=l(56462);const p=e=>{const{isOpen:a,toggleOpenClose:l,allEmployeeList:i}=e,{t:r}=(0,d.K)(),[p,u]=(0,s.useState)(""),[v,y]=(0,s.useState)({}),[x,h]=(0,s.useState)(""),[j,b]=(0,s.useState)({arrearName:"",arrearFor:"",payMonth:"",description:"",employees:[]}),g=(0,s.useMemo)((()=>({sn:(e,a)=>(0,o.jsx)("span",{children:a+1}),pay_day:(e,a)=>(0,o.jsx)("span",{children:(0,o.jsx)(c.pd,{type:"number",value:p||"",name:"pay_days",onChange:e=>{}})})})),[]),f=(e,a)=>{var l;const s=a||(null===(l=e.target)||void 0===l?void 0:l.name),{value:n,type:t,checked:d}=null!==e&&void 0!==e&&e.target?e.target:{value:e};b((e=>({...e,[s]:"checkbox"===t?d:n}))),"employees"==s&&h(n),y((e=>({...e,[s]:void 0})))};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"offcanvas offcanvas-end creatNewTicketOff "+(a?"show":""),tabIndex:-1,style:{visibility:a?"visible":"hidden",width:"800px"},children:[(0,o.jsxs)("div",{className:"offcanvas-header",children:[(0,o.jsx)("h5",{className:"offcanvas-title  fs-5 fw-bold text-primary",children:" Add Arrears "}),(0,o.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close",onClick:()=>l()})]}),(0,o.jsxs)("div",{className:"offcanvas-body",children:[(0,o.jsxs)("div",{className:"formPanel",children:[(0,o.jsxs)("div",{className:"row",children:[(0,o.jsx)("div",{className:"col-md-4",children:(0,o.jsx)("div",{className:"form-group mb-3",children:(0,o.jsx)(c.JU,{text:r("labels.arrearName"),required:!0})})}),(0,o.jsx)("div",{className:"col-md-8",children:(0,o.jsxs)("div",{className:"form-group mb-3",children:[(0,o.jsx)(c.pd,{type:"text",placeholder:r("placeholders.arrearName"),value:(null===j||void 0===j?void 0:j.arrearName)||"",name:"arrearName",onChange:e=>f(e)}),(null===v||void 0===v?void 0:v.arrearName)&&(0,o.jsx)(t.eo,{text:v.arrearName})]})})]}),(0,o.jsxs)("div",{className:"row",children:[(0,o.jsx)("div",{className:"col-md-4",children:(0,o.jsx)("div",{className:"form-group mb-3",children:(0,o.jsx)(c.JU,{text:r("labels.arrearFor"),required:!0})})}),(0,o.jsx)("div",{className:"col-md-8",children:(0,o.jsxs)("div",{className:"form-group mb-3",children:[(0,o.jsx)(c.pd,{type:"month",value:(null===j||void 0===j?void 0:j.arrearFor)||"",name:"arrearFor",onChange:e=>f(e)}),(null===v||void 0===v?void 0:v.arrearFor)&&(0,o.jsx)(t.eo,{text:v.arrearFor})]})})]}),(0,o.jsxs)("div",{className:"row",children:[(0,o.jsx)("div",{className:"col-md-4",children:(0,o.jsx)("div",{className:"form-group mb-3",children:(0,o.jsx)(c.JU,{text:r("labels.payMonth"),required:!0})})}),(0,o.jsx)("div",{className:"col-md-8",children:(0,o.jsxs)("div",{className:"form-group mb-3",children:[(0,o.jsx)(c.pd,{type:"month",value:(null===j||void 0===j?void 0:j.payMonth)||"",name:"payMonth",onChange:e=>f(e)}),(null===v||void 0===v?void 0:v.payMonth)&&(0,o.jsx)(t.eo,{text:v.payMonth})]})})]}),(0,o.jsxs)("div",{className:"row",children:[(0,o.jsx)("div",{className:"col-md-4",children:(0,o.jsx)("div",{className:"form-group mb-3",children:(0,o.jsx)(c.JU,{text:r("labels.description"),required:!0})})}),(0,o.jsx)("div",{className:"col-md-8",children:(0,o.jsxs)("div",{className:"form-group mb-3",children:[(0,o.jsx)(c.TM,{name:"description",value:null===j||void 0===j?void 0:j.description,placeholder:r("placeholders.description"),onChange:e=>f(e)}),(null===v||void 0===v?void 0:v.description)&&(0,o.jsx)(t.eo,{text:v.description})]})})]}),(0,o.jsxs)("div",{className:"row",children:[(0,o.jsx)("div",{className:"col-md-4",children:(0,o.jsx)("div",{className:"form-group mb-3",children:(0,o.jsx)(c.JU,{text:r("labels.employee"),required:!0})})}),(0,o.jsx)("div",{className:"col-md-8",children:(0,o.jsxs)("div",{className:"form-group mb-3",children:[(0,o.jsx)(m.A,{data:i,placeholder:r("placeholders.employee"),value:(null===j||void 0===j?void 0:j.employees)||"",handleChange:e=>f(e,"employees"),name:"employees",isMulti:!0}),(null===v||void 0===v?void 0:v.employees)&&(0,o.jsx)(t.eo,{text:v.employees})]})})]}),(0,o.jsx)(n.Ak,{data:x,fields:[{key:"sn",label:"S.N"},{key:"pay_day",label:"Pay Days"},{key:"emp_code",label:"Emp Code"},{key:"name",label:"Emp Name"},{key:"department_name",label:"Department  "},{key:"designation_name",label:"Designation"}],pagination:!0,isHeader:!1,tableStyle:{padding:"0px",boxShadow:"none"},scopedSlots:g})]}),(0,o.jsx)("div",{className:"offcanvas-footer",children:(0,o.jsx)("div",{className:"d-flex align-items-center justify-content-end gap-3",children:(0,o.jsx)(t.Sv,{text:"Add",classNames:"btn btn-org-gradient"})})})]})]}),a&&(0,o.jsx)("div",{className:"modal-backdrop fade show"})]})},u=e=>{const{installmentData:a,setInstallmentData:l,loanData:t}=e,d=(0,s.useMemo)((()=>({amount:(e,s)=>(0,o.jsx)("span",{children:(0,o.jsx)(c.pd,{type:"number",className:"form-control border border-black text-center",id:"instl_amt",placeholder:"Installment Amount",onChange:e=>((e,s)=>{let n,d=a;d[s].amount=parseFloat(e).toFixed(2);let i=0;d.forEach(((e,a)=>(i+=parseFloat(e.amount),a===s?(n=parseFloat(null===t||void 0===t?void 0:t.amount)-i>=0?parseFloat(null===t||void 0===t?void 0:t.amount)-i:0,n/=(d.length-1-s).toFixed(2)):a>s&&(e.amount=JSON.stringify(n)),e))),l(d)})(e.target.value,s),value:parseFloat(null===e||void 0===e?void 0:e.amount)})})})),[a]);return(0,o.jsx)(s.Fragment,{children:(0,o.jsx)("div",{className:"text-center",children:(0,o.jsx)(n.Ak,{data:a,fields:[{key:"installment",label:"Installment"},{key:"date",label:"Date"},{key:"amount",label:"Amount"}],pagination:!0,isHeader:!1,tableStyle:{padding:"0px",boxShadow:"none",marginTop:"0px !important"},scopedSlots:d})})})},v=[{emp_id:"qd2654",name:"Mohd Sarfaraz",email:"sarfaraz1@qdegrees.com",department:"IT",loan_type:"Personal Loan",amount:"100",emi_duration:"3",effective_date:"2024-11-21",end_date:"2025-01-21"},{emp_id:"qd2281",name:"Chandan Kumar",email:"Candan@qdegrees.com",department:"IT",loan_type:"Car Loan",amount:"10000",emi_duration:"10",effective_date:"2024-12-01",end_date:"2025-08-30"}],y=[{installment:1,date:"2024-11-21",amount:"33.33"},{installment:2,date:"2024-12-21",amount:"33.33"},{installment:3,date:"2025-01-21",amount:"33.33"}],x=e=>{const{toggleAddLoanModal:a}=e,[l,d]=(0,s.useState)(y),i=(0,s.useMemo)((()=>({sn:(e,a)=>(0,o.jsx)("span",{children:a+1}),action:e=>(0,o.jsxs)("div",{className:"btn-group actionDrp",children:[(0,o.jsx)("button",{type:"button",className:"btn dropdown-toggle-split","data-bs-toggle":"dropdown","aria-expanded":"false",children:(0,o.jsx)("i",{className:"bi bi-three-dots-vertical"})}),(0,o.jsx)("ul",{className:"dropdown-menu",children:(0,o.jsx)("li",{children:(0,o.jsx)("span",{className:"dropdown-item",onClick:()=>a(null===e||void 0===e?void 0:e._id,"edit"),children:"View  Details"})})})]})})),[]);return(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[(0,o.jsx)("h3",{className:"underlineHead ",style:{fontSize:"18px"},children:" Loans"}),(0,o.jsx)(t.Sv,{classNames:"btn btn-primary gradientBg",handleClick:()=>a(),text:"Add Loan"})]}),(0,o.jsx)(n.Ak,{data:v,fields:[{key:"sn",label:"S.N"},{key:"name",label:"Employee Name"},{key:"emp_id",label:"Employee ID"},{key:"department",label:"Department"},{key:"loan_type",label:"Loan Type"},{key:"loan_amount",label:"Loan Amount"},{key:"emi_duration",label:"EMI Duration"},{key:"effective_date",label:"Effective Date"},{key:"end_date",label:"End Date"},{key:"action",label:"Action"}],pagination:!0,isHeader:!1,tableStyle:{padding:"0px",boxShadow:"none"},scopedSlots:i})]})};var h=l(86178),j=l.n(h);const b=[{label:"3 Months",value:3},{label:"4 Months",value:4},{label:"5 Months",value:5},{label:"6 Months",value:6},{label:"7 Months",value:7},{label:"8 Months",value:8},{label:"1 Year",value:12},{label:"2 Years",value:24},{label:"3 Years",value:36}],g=e=>{const{t:a}=(0,d.K)(),{toggleOpenClose:l,isOpen:n}=e,[i,r]=(0,s.useState)({employee:null,loanType:null,amount:"",emiDuration:null,effectiveDate:"",endDate:""}),[p,v]=(0,s.useState)(""),[y,x]=(0,s.useState)([]),h=(e,a)=>{var l;const s=a||(null===(l=e.target)||void 0===l?void 0:l.name),{value:n,type:t,checked:d}=null!==e&&void 0!==e&&e.target?e.target:{value:e};"effectiveDate"===s&&g(n),"emiDuration"===s&&(r((e=>({...e,effectiveDate:"",endDate:""}))),x([])),"amount"===s&&(r((e=>({...e,emiDuration:null,effectiveDate:"",endDate:""}))),x([])),r((e=>({...e,[s]:"checkbox"===t?d:n}))),v((e=>({...e,[s]:void 0})))},g=e=>{var a,l=j()(e).add((null===i||void 0===i||null===(a=i.emiDuration)||void 0===a?void 0:a.value)-1,"M").format("YYYY-MM-DD");l=j()(l).format("YYYY-MM-DD"),r((e=>({...e,endDate:l}))),f(e)},f=e=>{var a;let l=parseInt(null===i||void 0===i||null===(a=i.emiDuration)||void 0===a?void 0:a.value),s=parseFloat((null===i||void 0===i?void 0:i.amount)/l).toFixed(2),n=[],t=j()(e).format("YYYY-MM-DD");for(let d=1;d<=l;d++){n.push({installment:d,date:t,amount:s});n.length;t=j()(t).add(1,"month").format("YYYY-MM-DD")}console.log(n,"temporary Installment ................................"),x(n)};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"offcanvas offcanvas-end creatNewTicketOff "+(n?"show":""),tabIndex:-1,style:{visibility:n?"visible":"hidden",width:"800px"},children:[(0,o.jsxs)("div",{className:"offcanvas-header",children:[(0,o.jsx)("h5",{className:"offcanvas-title  fs-5 fw-bold text-primary",children:" Add Loans "}),(0,o.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close",onClick:()=>l()})]}),(0,o.jsx)("div",{className:"offcanvas-body",children:(0,o.jsx)("div",{className:"formPanel",children:(0,o.jsxs)("div",{className:"row",children:[(0,o.jsxs)("div",{className:"col-md-6",children:[(0,o.jsxs)("div",{className:"form-group mb-2",children:[(0,o.jsx)(c.JU,{text:a("labels.employee"),required:!0}),(0,o.jsx)(m.A,{data:[],placeholder:a("placeholders.employee"),value:(null===i||void 0===i?void 0:i.employee)||"",handleChange:e=>h(e,"employee"),name:"employee"})]}),(null===p||void 0===p?void 0:p.employee)&&(0,o.jsx)(t.eo,{text:p.employee})]}),(0,o.jsx)("div",{className:"col-md-6",children:(0,o.jsxs)("div",{className:"form-group mb-2",children:[(0,o.jsx)(c.JU,{text:a("labels.loanType")}),(0,o.jsx)(m.A,{data:[],placeholder:a("placeholders.loanType"),value:(null===i||void 0===i?void 0:i.loanType)||"",handleChange:e=>h(e,"loanType"),name:"loanType"})]})}),(0,o.jsx)("div",{className:"col-md-6",children:(0,o.jsxs)("div",{className:"form-group mb-2",children:[(0,o.jsx)(c.JU,{text:a("labels.amount"),required:!0}),(0,o.jsx)(c.pd,{type:"text",placeholder:a("placeholders.amount"),value:null===i||void 0===i?void 0:i.amount,name:"amount",onChange:e=>h(e)}),(null===p||void 0===p?void 0:p.amount)&&(0,o.jsx)(t.eo,{text:p.amount})]})}),(0,o.jsxs)("div",{className:"col-md-6",children:[(0,o.jsxs)("div",{className:"form-group mb-2",children:[(0,o.jsx)(c.JU,{text:a("labels.emiDuration"),required:!0}),(0,o.jsx)(m.A,{data:b,placeholder:a("placeholders.emiDuration"),value:(null===i||void 0===i?void 0:i.emiDuration)||"",handleChange:e=>h(e,"emiDuration"),name:"emiDuration"})]}),(null===p||void 0===p?void 0:p.emiDuration)&&(0,o.jsx)(t.eo,{text:p.emiDuration})]}),(0,o.jsxs)("div",{className:"col-md-6",children:[(0,o.jsxs)("div",{className:"form-group mb-2",children:[(0,o.jsx)(c.JU,{text:a("labels.effectiveDate"),required:!0}),(0,o.jsx)(c.pd,{type:"date",value:null===i||void 0===i?void 0:i.effectiveDate,isDisabled:null===i||void 0===i||!i.emiDuration,name:"effectiveDate",onChange:e=>h(e)})]}),(null===p||void 0===p?void 0:p.effectiveDate)&&(0,o.jsx)(t.eo,{text:p.effectiveDate})]}),(0,o.jsx)("div",{className:"col-md-6",children:(0,o.jsxs)("div",{className:"form-group mb-2",children:[(0,o.jsx)(c.JU,{text:a("labels.endDate"),required:!0}),(0,o.jsx)(c.pd,{type:"date",value:null===i||void 0===i?void 0:i.endDate,isDisabled:!0,name:"endDate",onChange:e=>h(e)})]})}),(0,o.jsx)("hr",{}),y&&(null===y||void 0===y?void 0:y.length)>0&&(0,o.jsxs)("div",{className:"col-12",children:[(0,o.jsxs)("div",{className:"card text-center p-1 m-o",style:{backgroundColor:"#3c82e9",color:"white"},children:[" ",(0,o.jsx)("h6",{children:"Pending Installment "})]}),(0,o.jsx)(u,{installmentData:y,setInstallmentData:x,loanData:i})]})]})})}),(0,o.jsx)("div",{className:"offcanvas-footer",children:(0,o.jsx)("div",{className:"d-flex align-items-center justify-content-end gap-3",children:(0,o.jsx)(t.Sv,{text:"Add",classNames:"btn btn-org-gradient"})})})]}),n&&(0,o.jsx)("div",{className:"modal-backdrop fade show"})]})};l(53536);const f=[{salaryForMonth:"May 2024",paymentMonth:"June 2024",paymentDate:"2024-06-07"},{salaryForMonth:"June 2024",paymentMonth:"July 2024",paymentDate:"2024-07-07"},{salaryForMonth:"February 2024",paymentMonth:"March 2024",paymentDate:"2024-03-07"},{salaryForMonth:"March 2024",paymentMonth:"April 2024",paymentDate:"2024-04-07"},{salaryForMonth:"April 2024",paymentMonth:"May 2024",paymentDate:"2024-05-07"},{salaryForMonth:"September 2024",paymentMonth:"October 2024",paymentDate:"2024-10-07"}],N=()=>{const e=(0,s.useMemo)((()=>({sn:(e,a)=>(0,o.jsx)("span",{children:a+1}),action:e=>(0,o.jsxs)("div",{className:"btn-group actionDrp",children:[(0,o.jsx)("button",{type:"button",className:"btn dropdown-toggle-split","data-bs-toggle":"dropdown","aria-expanded":"false",children:(0,o.jsx)("i",{className:"bi bi-three-dots-vertical"})}),(0,o.jsx)("ul",{className:"dropdown-menu",children:(0,o.jsx)("li",{children:(0,o.jsx)("span",{className:"dropdown-item",children:"View  Details"})})})]})})),[]);return(0,o.jsxs)(s.Fragment,{children:[(0,o.jsx)("div",{className:"d-flex justify-content-between align-items-center mb-2",children:(0,o.jsx)("h3",{className:"underlineHead ",style:{fontSize:"18px"},children:" Payroll History"})}),(0,o.jsx)(n.Ak,{data:f,fields:[{key:"salaryForMonth",label:"Salary For Month"},{key:"paymentMonth",label:"Payment Month"},{key:"paymentDate",label:"Payment Date"},{key:"action",label:"Action"}],pagination:!0,isHeader:!1,tableStyle:{padding:"0px",boxShadow:"none"},scopedSlots:e})]})};var D=l(35475);const k=e=>{const{toggleCreatePayRunModal:a}=e;return(0,o.jsxs)(s.Fragment,{children:[(0,o.jsx)("div",{className:" d-flex justify-content-between align-items-center mb-2",children:(0,o.jsx)("h3",{className:"underlineHead ",style:{fontSize:"18px"},children:" Run Attendance"})}),(0,o.jsx)("div",{className:"card",children:(0,o.jsxs)("div",{className:" payroll-card-body-css  p-3 border-left border-dark",children:[(0,o.jsxs)("div",{className:"payruns-cards d-flex align-items-center justify-content-around",children:[(0,o.jsxs)("div",{className:"col",children:[(0,o.jsx)("small",{className:"text-secondary",children:"PAYMENT DATE"}),(0,o.jsx)("h5",{className:"py-3",children:"08-09-2024"})]}),(0,o.jsx)("div",{className:"col",children:(0,o.jsx)("button",{className:"btn btn-primary",children:"Add Pay Run"})}),(0,o.jsxs)("div",{className:"col",children:[(0,o.jsx)("button",{className:"btn btn-primary",onClick:()=>a(),children:"Create Pay Run"}),"\xa0\xa0",(0,o.jsx)(D.N_,{to:"/regular-payroll",children:(0,o.jsx)("button",{className:"btn btn-primary",children:"View Details"})})]})]}),(0,o.jsx)("i",{class:"bi bi-info-circle"}),(0,o.jsx)("span",{children:(0,o.jsxs)("small",{className:"text-secondary",children:["Please approve this payroll before"," ","08-09-2024 | 04:00 PM"]})})]})})]})};var S=l(49985),A=l(22166),_=l(94174);const w=e=>{const a=(0,A.wA)(),{currentPage:l,setCurrentPage:t,getAllEmployeeDetailsByPayDays:d,monthYear:i}=e,{getEmployeeDetailsByPayDaysPending:r}=(0,A.d4)((e=>e.payroll)),c=(0,s.useMemo)((()=>({sn:(e,a)=>(0,o.jsx)("span",{children:a+1}),account_status:e=>(0,o.jsx)("span",{className:`badge ${(0,S.XN)(e.account_status)}`,children:e.account_status}),action:e=>(0,o.jsxs)("div",{className:"btn-group actionDrp",children:[(0,o.jsx)("button",{type:"button",className:"btn dropdown-toggle-split","data-bs-toggle":"dropdown","aria-expanded":"false",children:(0,o.jsx)("i",{className:"bi bi-three-dots-vertical"})}),(0,o.jsx)("ul",{className:"dropdown-menu",children:(0,o.jsx)("li",{children:(0,o.jsx)(D.N_,{className:"dropdown-item",to:`employee-attendance-tracking/${null===e||void 0===e?void 0:e._id}/${i}`,onClick:()=>{return l=e,void a(_.Vg.selectedEmployeeData(l));var l},children:"View Details"})})})]})})),[d,l]);return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(n.Ak,{data:null===d||void 0===d?void 0:d.data,fields:[{key:"sn",label:"S.N"},{key:"emp_id",label:"Emp Id"},{key:"name",label:"Full Name"},{key:"present_days",label:"Present Days"},{key:"absent_days",label:"Absent Days"},{key:"present_days",label:"Pay Days"},{key:"account_status",label:"Account Status"},{key:"action",label:"Action"}],isLoading:r,pagination:!0,currentPage:l,setCurrentPage:t,totalPages:null===d||void 0===d?void 0:d.totalPages,isHeader:!1,tableStyle:{padding:"0px",boxShadow:"none"},scopedSlots:c})})},M=e=>{const{allEmployeeList:a,allDepartments:l,allDesignations:n,handleDepartmentByDesignation:i,getEmployeeDetailsByPayDays:r,setMonthYear:p}=e,{t:u}=(0,d.K)(),[v,y]=(0,s.useState)({department:null,designation:null,employees:"",month_year:j()().format("YYYY-MM")}),x=(e,a)=>{var l;const s=a||(null===(l=e.target)||void 0===l?void 0:l.name),{value:n,type:t,checked:d}=null!==e&&void 0!==e&&e.target?e.target:{value:e};"department"===s&&(n&&(null===n||void 0===n?void 0:n.value)&&i(null===n||void 0===n?void 0:n.value),y((e=>({...e,designation:null})))),"month_year"===s&&p(n),y((e=>({...e,[s]:"checkbox"===t?d:n})))};return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("div",{className:"formPanel cardBox",children:[(0,o.jsxs)("div",{className:"row",children:[(0,o.jsx)("div",{className:"col-md-4",children:(0,o.jsxs)("div",{className:"form-group mb-2",children:[(0,o.jsx)(c.JU,{text:u("labels.department")}),(0,o.jsx)(m.A,{data:l,placeholder:u("placeholders.selectDepartment"),value:(null===v||void 0===v?void 0:v.department)||"",handleChange:e=>x(e,"department"),name:"department"})]})}),(0,o.jsx)("div",{className:"col-md-4",children:(0,o.jsxs)("div",{className:"form-group mb-2",children:[(0,o.jsx)(c.JU,{text:u("labels.designation")}),(0,o.jsx)(m.A,{data:n,placeholder:u("placeholders.selectDesignation"),value:(null===v||void 0===v?void 0:v.designation)||"",handleChange:e=>x(e,"designation"),name:"designation",isDisabled:null===v||void 0===v||!v.department})]})}),(0,o.jsx)("div",{className:"col-md-4",children:(0,o.jsxs)("div",{className:"form-group mb-2",children:[(0,o.jsx)(c.JU,{text:u("labels.employees")}),(0,o.jsx)(m.A,{data:a,placeholder:u("placeholders.employees"),value:(null===v||void 0===v?void 0:v.employees)||"",handleChange:e=>x(e,"employees"),name:"employees",isMulti:!0,selectAllText:u("labels.selectAll")})]})}),(0,o.jsx)("div",{className:"col-md-4",children:(0,o.jsxs)("div",{className:"form-group mb-2",children:[(0,o.jsx)(c.JU,{text:u("labels.monthYear")}),(0,o.jsx)(c.pd,{type:"month",value:(null===v||void 0===v?void 0:v.month_year)||"",onChange:e=>x(e),name:"month_year"})]})})]}),(0,o.jsx)("div",{className:"d-flex justify-content-end",children:(0,o.jsx)(t.Sv,{classNames:"btn btn-primary gradientBg",handleClick:()=>(()=>{var e,a,l,s,n;const t={};null!==v&&void 0!==v&&null!==(e=v.department)&&void 0!==e&&e.value&&(t.department_id=null===v||void 0===v||null===(a=v.department)||void 0===a?void 0:a.value),null!==v&&void 0!==v&&null!==(l=v.designation)&&void 0!==l&&l.value&&(t.designation_id=null===v||void 0===v||null===(s=v.designation)||void 0===s?void 0:s.value),(null===v||void 0===v||null===(n=v.employees)||void 0===n?void 0:n.length)>0&&(t.employee_ids=(0,S.RM)(null===v||void 0===v?void 0:v.employees)),t.month_year=null===v||void 0===v?void 0:v.month_year,r(t)})(),text:u("btns.filter"),icon:(0,o.jsx)(c.In,{className:"fa fa-search"})})})]})})},C=e=>{const{allEmployeeList:a,allDepartments:l,allDesignations:n,handleDepartmentByDesignation:t,getAllEmployeeDetailsByPayDays:d,getEmployeeDetailsByPayDays:i}=e,[r,c]=(0,s.useState)(1),[m,p]=(0,s.useState)(j()().format("YYYY-MM"));return(0,o.jsxs)(s.Fragment,{children:[(0,o.jsx)("div",{className:"d-flex justify-content-between align-items-center mb-2",children:(0,o.jsx)("h3",{className:"underlineHead ",style:{fontSize:"18px"},children:" Attendance Tracking"})}),(0,o.jsx)(M,{allEmployeeList:a,allDepartments:l,allDesignations:n,handleDepartmentByDesignation:t,getEmployeeDetailsByPayDays:i,setMonthYear:p}),(0,o.jsx)(w,{setCurrentPage:c,currentPage:r,allEmployeeData:a,getAllEmployeeDetailsByPayDays:d,monthYear:m})]})},E=[{emp_id:"qd2654",name:"Mohd Sarfaraz",email:"sarfaraz1@qdegrees.com",department:"IT",designation:"Junior Software Development"},{emp_id:"qd2281",name:"chandan kumar",email:"chandan@qdegrees.com",department:"IT",designation:"Junior Software Development"}],P=e=>{const{isOpen:a,toggleOpenClose:l}=e,{t:i}=(0,d.K)(),[r,p]=(0,s.useState)(""),u=(0,s.useMemo)((()=>({sn:(e,a)=>(0,o.jsx)("span",{children:a+1}),hold_salary:(e,a)=>(0,o.jsx)("span",{children:(0,o.jsx)(c.P_,{id:"hold_salary",name:"hold_salary"},"hold_salary")}),create_salary:(e,a)=>(0,o.jsx)("span",{children:(0,o.jsx)(c.P_,{id:"create_salary",name:"create_salary"},"create_salary")})})),[]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"offcanvas offcanvas-end creatNewTicketOff "+(a?"show":""),tabIndex:-1,style:{visibility:a?"visible":"hidden",width:"800px"},children:[(0,o.jsxs)("div",{className:"offcanvas-header",children:[(0,o.jsx)("h5",{className:"offcanvas-title  fs-5 fw-bold text-primary",children:" Create Pay Run "}),(0,o.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close",onClick:()=>l()})]}),(0,o.jsxs)("div",{className:"offcanvas-body",children:[(0,o.jsxs)("div",{className:"row",children:[(0,o.jsx)("div",{className:"col-md-2",children:(0,o.jsx)("div",{className:"mt-2",children:(0,o.jsx)(c.JU,{text:"Department",className:"text-primary"})})}),(0,o.jsx)("div",{className:"col-md-4",children:(0,o.jsx)("div",{className:"form-group mb-3",children:(0,o.jsx)(m.A,{data:[],placeholder:"Select Department",value:r||"",handleChange:e=>p(e),name:"department"})})})]}),(0,o.jsx)("div",{className:"row",children:(0,o.jsx)(c.P_,{id:"hold_salary",name:"hold_salary",label:"Create Salary For All"},"hold_salary")}),(0,o.jsx)(n.Ak,{data:E,fields:[{key:"sn",label:"S.N"},{key:"hold_salary",label:"Hold Salary"},{key:"create_salary",label:"Create Salary"},{key:"emp_id",label:"Emp ID"},{key:"name",label:"Emp Name"},{key:"email",label:"Email"},{key:"department",label:"Department  "},{key:"designation",label:"Designation"}],pagination:!0,isHeader:!1,tableStyle:{padding:"0px",boxShadow:"none"},scopedSlots:u})]}),(0,o.jsx)("div",{className:"offcanvas-footer",children:(0,o.jsx)("div",{className:"d-flex align-items-center justify-content-end gap-3",children:(0,o.jsx)(t.Sv,{text:"Add",classNames:"btn btn-org-gradient"})})})]}),a&&(0,o.jsx)("div",{className:"modal-backdrop fade show"})]})};l(52027),l(44978);const F=()=>{const e=(0,A.wA)(),{t:a}=(0,d.K)(),{getDepartmentListRes:l,getDepartmentListError:t,getDepartmentListPending:i}=(0,A.d4)((e=>e.department)),{getDesignationsByDepartmentRes:c,getDesignationsByDepartmentPending:m,getDesignationsByDepartmentError:u}=(0,A.d4)((e=>e.designation)),{getAllEmployeePending:v,getAllEmployeeRes:y,getAllEmployeeError:h}=(0,A.d4)((e=>e.employee)),{getEmployeeDetailsByPayDaysPending:j,getEmployeeDetailsByPayDaysRes:b,getEmployeeDetailsByPayDaysError:f}=(0,A.d4)((e=>e.payroll)),[D,S]=(0,s.useState)(!1),[w,M]=(0,s.useState)(!1),[E,F]=(0,s.useState)(""),[Y,B]=(0,s.useState)(!1),[T,q]=(0,s.useState)(""),[L,J]=(0,s.useState)(""),[R,I]=(0,s.useState)(""),[H,O]=(0,s.useState)([]),[U,z]=(0,s.useState)([]),[K,V]=(0,s.useState)(1),$=[{name:"Run Attendance",onClickFun:e=>Q(e),id:"runAttendance"},{name:"Attendance Tracking",onClickFun:e=>Q(e),id:"attendanceTracking"},{name:"Add Arrears",onClickFun:e=>Q(e),id:"addArrears"},{name:"Loans",onClickFun:e=>Q(e),id:"loans"},{name:"Payroll History",onClickFun:e=>Q(e),id:"payRollHistory"}],Q=e=>{"attendanceTracking"===e&&ae()},X=()=>{S(!D)},G=(e,a)=>{a&&F(a),M(!w)},W=()=>{B(!Y)};(0,s.useEffect)((()=>{ee(),Z()}),[]);const Z=()=>{e(_.mM.getAllEmployeeRequest())};(0,s.useEffect)((()=>{if(!v){if(h)return;y&&200===(null===y||void 0===y?void 0:y.code)&&q(null===y||void 0===y?void 0:y.data)}}),[y,h,v]);const ee=()=>{var a;null!==l&&void 0!==l&&null!==(a=l.data)&&void 0!==a&&a.length?J(null===l||void 0===l?void 0:l.data):e(_.vd.getDepartmentListRequest())};(0,s.useEffect)((()=>{if(!i){if(t)return;if(l&&200===(null===l||void 0===l?void 0:l.code)){const e=null===l||void 0===l?void 0:l.data;J(e)}}}),[l,t,i]);(0,s.useEffect)((()=>{if(!m){if(u)return;if(c&&200===(null===c||void 0===c?void 0:c.code)){const e=(null===c||void 0===c?void 0:c.data)||[];I(e)}}}),[c,u,m]);const ae=a=>{e(_.Vg.getEmployeeDetailsByPayDaysRequest())};return(0,s.useEffect)((()=>{if(!j){if(f)return;if(b&&200===(null===b||void 0===b?void 0:b.code)){const e=null===b||void 0===b?void 0:b.data;O(e)}}}),[b,f,j]),(0,o.jsxs)(s.Fragment,{children:[(0,o.jsx)("div",{className:"tab-pane fade show active",id:"receivedFeedback",children:(0,o.jsxs)("div",{className:"cardBox myRequest mb-3",children:[(0,o.jsxs)("div",{className:"cardHead d-flex justify-content-between",children:[(0,o.jsxs)("div",{className:"d-flex align-items-center",children:[(0,o.jsx)("img",{src:"images/kpi-guidline.svg",alt:"",width:40,className:"me-2 fw-bold"}),(0,o.jsx)("div",{className:"",children:(0,o.jsx)("h3",{children:" Pay Runs"})})]}),(0,o.jsx)("div",{className:"searchB me-0 ",children:(0,o.jsx)("input",{type:"text",className:"form-control w-100 fs-7",placeholder:"Search"})})]}),(0,o.jsx)(n.QE,{tabs:$,type:"rayRuns"}),(0,o.jsxs)("div",{className:"tab-content mykpiMain",children:[(0,o.jsx)("div",{className:"tab-pane fade active show",id:"runAttendance",children:(0,o.jsx)(k,{toggleCreatePayRunModal:W})}),(0,o.jsx)("div",{className:"tab-pane fade",id:"attendanceTracking",children:(0,o.jsx)(C,{allEmployeeList:T,allDepartments:L,allDesignations:R,handleDepartmentByDesignation:a=>{const l={department_id:a};e(_.EU.getDesignationsByDepartmentRequest(l))},getAllEmployeeDetailsByPayDays:H,getEmployeeDetailsByPayDays:ae,attendanceStatusData:U})}),(0,o.jsx)("div",{className:"tab-pane fade",id:"addArrears",children:(0,o.jsx)(r,{toggleAddArrearsModal:X})}),(0,o.jsx)("div",{className:"tab-pane fade",id:"loans",children:(0,o.jsx)(x,{toggleAddLoanModal:G})}),(0,o.jsx)("div",{className:"tab-pane fade",id:"payRollHistory",children:(0,o.jsx)(N,{})})]})]})}),D&&(0,o.jsx)(p,{isOpen:D,toggleOpenClose:X,allEmployeeList:T}),w&&(0,o.jsx)(g,{isOpen:w,toggleOpenClose:G,openLoanTypeModal:E}),Y&&(0,o.jsx)(P,{isOpen:Y,toggleOpenClose:W})]})}}}]);
//# sourceMappingURL=3872.63d55642.chunk.js.map