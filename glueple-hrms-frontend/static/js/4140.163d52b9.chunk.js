"use strict";(self.webpackChunkglueple_user=self.webpackChunkglueple_user||[]).push([[4140],{84140:(e,a,l)=>{l.r(a),l.d(a,{default:()=>M});var s=l(65043),d=l(70579);const n=e=>{let{cardData:a}=e;return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("div",{className:"cardBox leaveAppli h-100 mb-4",children:(0,d.jsx)("div",{className:"row",children:(0,d.jsx)("div",{className:"col-12 selectModal position-relative z-1",children:(0,d.jsx)("div",{className:"row px-md-1 ",children:a&&(null===a||void 0===a?void 0:a.length)>0&&a.map((e=>(0,d.jsx)("div",{className:"col-md-2 px-md-2 mb-3",onClick:()=>null===e||void 0===e?void 0:e.onClickFunc(null===e||void 0===e?void 0:e.id),children:(0,d.jsxs)("span",{className:"totalBx h-100",children:[(0,d.jsx)("figure",{children:(0,d.jsx)("img",{src:null===e||void 0===e?void 0:e.imgUrl,alt:"",width:50})}),(0,d.jsx)("h3",{className:"fw-bolder my-0",children:null===e||void 0===e?void 0:e.name}),(0,d.jsx)("img",{src:"images/firstlineBlue.svg",className:"cornerLine",alt:"",width:95})]})},null===e||void 0===e?void 0:e.id)))})})})})})};var i=l(29829),t=l(49985);const o=e=>{const{currentPage:a,setCurrentPage:l,earningData:n,handleToggleModals:o}=e,r=(0,s.useMemo)((()=>({sn:(e,a)=>(0,d.jsx)("span",{children:a+1}),is_active:e=>(0,d.jsx)("span",{className:`badge ${e.is_active?(0,t.XN)("active"):(0,t.XN)("inactive")}`,children:e.is_active?"Active":"Inactive"}),action:e=>(0,d.jsxs)("div",{className:"btn-group actionDrp",children:[(0,d.jsx)("button",{type:"button",className:"btn dropdown-toggle-split","data-bs-toggle":"dropdown","aria-expanded":"false",children:(0,d.jsx)("i",{className:"bi bi-three-dots-vertical"})}),(0,d.jsx)("ul",{className:"dropdown-menu",children:(0,d.jsx)("li",{children:(0,d.jsx)("span",{className:"dropdown-item",onClick:()=>o("add_earnings",e),children:"Update"})})})]})})),[n,a]);return(0,d.jsx)("div",{children:(0,d.jsx)(i.Ak,{data:null===n||void 0===n?void 0:n.data,fields:[{key:"sn",label:"S.N"},{key:"payslip_name",label:"Payslip Name"},{key:"name",label:"Name"},{key:"value",label:"Value"},{key:"value_in",label:"Calculation Type"},{key:"is_active",label:"Status"},{key:"action",label:"Action"}],pagination:!0,currentPage:a,setCurrentPage:l,totalPages:null===n||void 0===n?void 0:n.totalPages,isHeader:!1,tableStyle:{padding:"0px",boxShadow:"none"},scopedSlots:r})})},r=e=>{const{currentPage:a,setCurrentPage:l,deductionsData:n,handleToggleModals:o}=e,r=(0,s.useMemo)((()=>({sn:(e,a)=>(0,d.jsx)("span",{children:a+1}),include_in_ctc:e=>(0,d.jsx)("span",{className:`badge ${e.include_in_ctc?(0,t.XN)("active"):(0,t.XN)("inactive")}`,children:e.include_in_ctc?"Active":"Inactive"}),is_active:e=>(0,d.jsx)("span",{className:`badge ${e.is_active?(0,t.XN)("active"):(0,t.XN)("inactive")}`,children:e.is_active?"Active":"Inactive"}),action:e=>(0,d.jsxs)("div",{className:"btn-group actionDrp",children:[(0,d.jsx)("button",{type:"button",className:"btn dropdown-toggle-split","data-bs-toggle":"dropdown","aria-expanded":"false",children:(0,d.jsx)("i",{className:"bi bi-three-dots-vertical"})}),(0,d.jsx)("ul",{className:"dropdown-menu",children:(0,d.jsx)("li",{children:(0,d.jsx)("span",{className:"dropdown-item",onClick:()=>o("deduction",e),children:"Update"})})})]})})),[n,a]);return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(i.Ak,{data:null===n||void 0===n?void 0:n.data,fields:[{key:"sn",label:"S.N"},{key:"payslip_name",label:"Payslip Name"},{key:"name",label:"Name"},{key:"value",label:"Value"},{key:"value_in",label:"Calculation Type"},{key:"is_active",label:"Status"},{key:"action",label:"Action"}],pagination:!0,currentPage:a,setCurrentPage:l,totalPages:null===n||void 0===n?void 0:n.totalPages,isHeader:!1,tableStyle:{padding:"0px",boxShadow:"none"},scopedSlots:r})})},c=e=>{const{handleToggleModals:a,earningData:l,deductionsData:s}=e,n=[{name:"Earnings",onClickFun:e=>t(e),id:"earnings"},{name:"Deductions",onClickFun:e=>t(e),id:"deductions"}],t=e=>{};return(0,d.jsx)("div",{children:(0,d.jsxs)("div",{className:"cardBox myRequest mb-3 employeeHistory",children:[(0,d.jsxs)("div",{className:"cardHead  justify-content-between",children:[(0,d.jsxs)("div",{className:"d-flex",children:[(0,d.jsx)("img",{src:"/images/myrequest-icon.svg",alt:"",width:"35"}),(0,d.jsx)("h3",{className:"ms-2 mt-2",children:"Salary Component"})]}),(0,d.jsx)("div",{children:(0,d.jsxs)("div",{className:"dropdown payrollSetting",children:[(0,d.jsx)("button",{className:"btn btn-primary",type:"button","data-bs-toggle":"dropdown","aria-expanded":"true",children:"Add Component"}),(0,d.jsxs)("ul",{className:"dropdown-menu dropdownLeft","data-popper-placement":"top-end",children:[(0,d.jsx)("li",{className:"dropdown-item",onClick:()=>a("add_earnings"),children:(0,d.jsx)("span",{children:"Add Earnings"})}),(0,d.jsx)("li",{className:"dropdown-item",onClick:()=>a("deduction"),children:(0,d.jsx)("span",{children:"Deduction"})})]})]})})]}),(0,d.jsx)(i.QE,{tabs:n,type:"employeeHistory"}),(0,d.jsxs)("div",{className:"tab-content mykpiMain",children:[(0,d.jsx)("div",{className:"tab-pane fade active show",id:"earnings",children:(0,d.jsx)(o,{earningData:l,handleToggleModals:a})}),(0,d.jsx)("div",{className:"tab-pane fade",id:"deductions",children:(0,d.jsx)(r,{deductionsData:s,handleToggleModals:a})})]})]})})};var u=l(45531),m=l(92250),v=l(56462),x=l(90607),g=l(52027);const p=e=>{let{earningRuleData:a,deleteEarningRule:l,editEarningRule:n,rules:t}=e;const o=(0,s.useMemo)((()=>({sn:(e,a)=>(0,d.jsx)("span",{children:a+1}),action:(e,a)=>(0,d.jsxs)("div",{children:[t&&t.length>0&&(0,d.jsx)("span",{onClick:()=>n(e,a),className:"border text-white bg-primary p-2 rounded",style:{cursor:"pointer"},children:(0,d.jsx)(u.In,{className:"fa fa-edit"})}),(0,d.jsx)("span",{onClick:()=>l(a),className:"border text-white bg-danger p-2 rounded",style:{cursor:"pointer"},children:(0,d.jsx)(u.In,{className:"fa fa-trash"})})]})})),[a]);return(0,d.jsxs)("div",{children:[(0,d.jsx)(i.Ak,{data:a,fields:[{key:"sn",label:"S.N"},{key:"from",label:"From"},{key:"to",label:"to"},{key:"amount",label:"Amount/Formula"},{key:"action",label:"Action"}],totalPages:null===a||void 0===a?void 0:a.totalPages,isHeader:!1,tableStyle:{padding:"0px",boxShadow:"none",border:"1px solid #F5F5F5"},scopedSlots:o}),(0,d.jsx)("hr",{})]})};var h=l(22166);const y=e=>{(0,h.wA)();const{getAllEarningTypeRes:a}=(0,h.d4)((e=>e.payroll)),{toggleEarningRulesFormula:l,allLeaveConstantData:n,setEarningRulesData:i}=e,{t:t}=(0,x.K)(),[o,r]=(0,s.useState)({brackets:"",earningType:"",operators:""}),[c,g]=(0,s.useState)(""),[p,y]=(0,s.useState)(!1),b=(e,a)=>{const l=a,s=e;r((e=>({...e,[l]:s}))),y(!1)};return(0,d.jsx)("div",{className:"border p-2",style:{backgroundColor:"#DCDCDC"},children:(0,d.jsxs)("div",{className:"p-3",style:{backgroundColor:"white"},children:[(0,d.jsxs)("div",{className:"header ps-2 d-flex justify-content-between",children:[(0,d.jsx)("h5",{className:"offcanvas-title  fs-5 fw-bold text-primary",children:t("headings.amountFormula")}),(0,d.jsx)("button",{type:"button",className:"btn-close",onClick:()=>l()})]}),(0,d.jsx)("hr",{className:"m-1"}),(0,d.jsx)("div",{className:"body mt-2",children:(0,d.jsxs)("div",{className:"formPanel",children:[(0,d.jsxs)("div",{className:"row",children:[(0,d.jsxs)("div",{className:"col-md-3 form-group mb-3",children:[(0,d.jsx)(u.JU,{text:t("labels.brackets")}),(0,d.jsx)(v.A,{data:n&&(null===n||void 0===n?void 0:n.brackets),placeholder:t("placeholders.select"),value:(null===o||void 0===o?void 0:o.brackets)||"",handleChange:e=>b(e,"brackets"),name:"brackets"})]}),(0,d.jsxs)("div",{className:"col-md-3 form-group mb-3",children:[(0,d.jsx)(u.JU,{text:t("labels.earningType")}),(0,d.jsx)(v.A,{data:a&&(null===a||void 0===a?void 0:a.data)||[],placeholder:t("placeholders.earningType"),value:(null===o||void 0===o?void 0:o.earningType)||"",handleChange:e=>b(e,"earningType"),name:"earningType"})]}),(0,d.jsxs)("div",{className:"col-md-3 form-group mb-3",children:[(0,d.jsx)(u.JU,{text:t("labels.operators")}),(0,d.jsx)(v.A,{data:n&&(null===n||void 0===n?void 0:n.operators),placeholder:t("placeholders.select"),value:(null===o||void 0===o?void 0:o.operators)||"",handleChange:e=>b(e,"operators"),name:"operators"})]}),(0,d.jsx)("div",{className:"col-md-3 form-group mb-3",children:(0,d.jsx)(m.Sv,{text:t("btns.add"),classNames:"btn btn-org-gradient  mt-4",handleClick:()=>(()=>{const{brackets:e,earningType:a,operators:l}=o;let s=((null===e||void 0===e?void 0:e.value)||"")+((null===a||void 0===a?void 0:a.value)||"")+((null===l||void 0===l?void 0:l.value)||"");g((e=>e+s)),r({brackets:"",earningType:"",operators:""})})()})})]}),(0,d.jsx)("div",{className:"row",children:(0,d.jsxs)("div",{className:"col-md-9 form-group mb-3",children:[(0,d.jsx)(u.TM,{value:c,placeholder:t("placeholders.leaveExpression"),onChange:e=>g(e.target.value)}),p&&(0,d.jsx)(u.eo,{text:"Place add formula to validate"})]})}),(0,d.jsx)("div",{className:"row",children:(0,d.jsx)("div",{className:"col-md-9  mb-3 d-flex justify-content-end",children:(0,d.jsx)(m.Sv,{text:t("btns.validate"),classNames:"btn btn-success gradientBg "})})})]})}),(0,d.jsx)("div",{className:"footer",children:(0,d.jsx)("div",{className:"d-flex align-items-center justify-content-end gap-3",children:(0,d.jsx)(m.Sv,{text:t("btns.save"),classNames:"btn btn-primary mt-2",handleClick:()=>{i((e=>({...e,amount:c})))}})})})]})})},b=e=>{const{alertLabel:a,text:l,className:s="",style:n={}}=e;return(0,d.jsxs)("div",{className:`alert ${s||"alert-warning"}`,style:n||{},role:"alert",children:[(0,d.jsx)("strong",{children:a}),l]})},j=e=>{const{allLeaveConstantData:a,setRules:l,rules:n}=e,{t:i}=(0,x.K)(),[t,o]=(0,s.useState)(""),[r,c]=(0,s.useState)(""),[v,g]=(0,s.useState)([]),[h,j]=(0,s.useState)(""),[_,f]=(0,s.useState)({from:"",to:"",amount:""}),N=(e,a,l)=>{var s;const d=a||(null===(s=e.target)||void 0===s?void 0:s.name),{value:n,type:i,checked:t}=null!==e&&void 0!==e&&e.target?null===e||void 0===e?void 0:e.target:{value:e};f((e=>({...e,[d]:"checkbox"===i?t:n}))),o((e=>({...e,[d]:void 0})))},C=()=>{c(!r)},S=()=>{f({from:"",to:"",amount:""})};return(0,s.useEffect)((()=>{n&&g(n)}),[n]),(0,d.jsxs)(d.Fragment,{children:[v&&v.length>0&&(0,d.jsx)(p,{earningRuleData:v,deleteEarningRule:e=>{const a=null===v||void 0===v?void 0:v.filter(((a,l)=>l!==e));g(a)},rules:n,editEarningRule:(e,a)=>{f({from:null===e||void 0===e?void 0:e.from,to:null===e||void 0===e?void 0:e.to,amount:null===e||void 0===e?void 0:e.amount}),j(a)}}),(0,d.jsx)("div",{className:"col-md-12 row",children:(0,d.jsxs)("div",{className:"form-group mb-2",children:[(0,d.jsx)(u.L1,{className:"text-primary",text:i("labels.rules"),required:!0}),(0,d.jsx)("div",{className:"col-md-12 mt-2",children:(0,d.jsxs)("div",{className:"form-group mb-2 d-flex justify-content-between gap-3",children:[(0,d.jsx)("span",{className:"rupee-sign",children:"\u20b9"}),(0,d.jsx)(u.pd,{type:"number",placeholder:i("placeholders.startSalary"),value:null===_||void 0===_?void 0:_.from,name:"from",onChange:e=>N(e)}),(0,d.jsx)("span",{className:"mt-2",style:{fontSize:"16px"},children:"To"}),(0,d.jsx)(u.pd,{type:"number",placeholder:i("placeholders.endSalary"),value:null===_||void 0===_?void 0:_.to,name:"to",onChange:e=>N(e)})]})})]})}),(0,d.jsx)("div",{className:"col-md-12 row",children:(0,d.jsx)("div",{className:"form-group mb-2",children:(0,d.jsx)("div",{className:"col-md-12 mt-2",children:(0,d.jsxs)("div",{className:"form-group mb-2 d-flex justify-content-start gap-3",children:[(0,d.jsx)("span",{className:"rupee-sign",children:"\u20b9"}),(0,d.jsx)(u.pd,{type:"text",placeholder:i("placeholders.amountFormula"),value:null===_||void 0===_?void 0:_.amount,name:"amount",onChange:e=>N(e),style:{width:"43%"}}),(0,d.jsx)(m.Sv,{text:i("btns.createFormula"),classNames:"btn btn-primary",handleClick:()=>C()})]})})})}),r&&(0,d.jsx)(y,{allLeaveConstantData:a,toggleEarningRulesFormula:C,setEarningRulesData:f}),(0,d.jsx)(b,{alertLabel:"Note: ",text:i("paragraph.addEarningRules")}),(0,d.jsx)("hr",{}),(0,d.jsx)("div",{className:"d-flex justify-content-end",children:(0,d.jsx)(m.Sv,{text:i(""!==h?"btns.update":"btns.addRules"),classNames:"btn btn-success",styles:{minWidth:"0px"},handleClick:()=>(()=>{if(""!==h){const e=v.map(((e,a)=>a===h?{...e,from:null===_||void 0===_?void 0:_.from,to:null===_||void 0===_?void 0:_.to,amount:null===_||void 0===_?void 0:_.amount}:e));g(e),l(e),j("")}else g([...v,_]),l([...v,_]);S()})()})})]})},_=e=>{let{earningTypeData:a}=e;const{t:l}=(0,x.K)();return(0,d.jsx)("div",{children:(0,d.jsxs)("div",{className:"row reviewsComment",children:[(0,d.jsx)("div",{className:"col-md-12",children:(0,d.jsxs)("div",{className:"form-group mb-2",children:[(0,d.jsx)(u.L1,{text:l("labels.earningTypeName"),required:!0}),(0,d.jsx)(u.pd,{type:"text",placeholder:l("placeholders.earningTypeName"),value:null===a||void 0===a?void 0:a.earning_type_name,name:"earningTypeName",isDisabled:!0})]})}),(0,d.jsx)("div",{className:"col-md-12",children:(0,d.jsxs)("div",{className:"form-group mb-2",children:[(0,d.jsx)(u.L1,{text:l("labels.calculationType"),required:!0}),(0,d.jsx)(u.rD,{data:g.r4,name:"calculationType",selectedValue:null===a||void 0===a?void 0:a.calculation_type,isDisabled:!0})]})}),(0,d.jsx)("div",{className:"col-md-12",children:(0,d.jsxs)("div",{className:"form-group mb-2",children:[(0,d.jsx)(u.L1,{text:"Calculate on pro-rata basis."}),(0,d.jsx)("p",{children:"( Pay will be adjusted based on employee working days.)"}),(0,d.jsx)(u.rD,{data:g.y3,name:"isProRata",selectedValue:null===a||void 0===a?void 0:a.is_pro_rata,isDisabled:!0})]})}),(0,d.jsx)("div",{className:"col-md-12",children:(0,d.jsxs)("div",{className:"form-group mb-2",children:[(0,d.jsx)(u.L1,{text:"Include this as a Flexible Benefit Plan component."}),(0,d.jsx)("p",{children:"( FBP allows your employees to personalise their salary structure by choosing how much they want to receive under each FBP component.)"}),(0,d.jsx)(u.rD,{data:g.y3,name:"canIncludeAsFbp",selectedValue:null===a||void 0===a?void 0:a.can_include_as_fbp,isDisabled:!0})]})}),(0,d.jsx)("div",{className:"col-md-12",children:(0,d.jsxs)("div",{className:"form-group mb-2",children:[(0,d.jsx)(u.L1,{text:"Consider for EPF Contribution."}),(0,d.jsx)(u.rD,{data:g.y3,name:"isIncludedInEpf",selectedValue:null===a||void 0===a?void 0:a.is_included_in_epf,isDisabled:!0})]})}),(0,d.jsx)("div",{className:"col-md-12",children:(0,d.jsxs)("div",{className:"form-group mb-2",children:[(0,d.jsx)(u.L1,{text:"Consider for ESI Contribution."}),(0,d.jsx)(u.rD,{data:g.y3,name:"isIncludedInEsi",selectedValue:null===a||void 0===a?void 0:a.is_included_in_esi,isDisabled:!0})]})}),(0,d.jsx)("div",{className:"col-md-12",children:(0,d.jsxs)("div",{className:"form-group mb-2",children:[(0,d.jsx)(u.L1,{text:"Show this component in payslip"}),(0,d.jsx)(u.rD,{data:g.y3,name:"showInPayslip",selectedValue:null===a||void 0===a?void 0:a.show_in_payslip,isDisabled:!0})]})}),(0,d.jsxs)("div",{className:"col-md-12 d-flex",children:[(0,d.jsx)("div",{className:"form-group mb-3",children:(0,d.jsx)(u.P_,{id:"isActive",checked:null===a||void 0===a?void 0:a.is_active,name:"isActive"},"isActive")}),(0,d.jsx)("div",{className:"form-group mb-3",children:(0,d.jsx)(u.L1,{text:l("labels.isActive"),className:"text-primary"})})]})]})})};var f=l(94174);const N=e=>{var a,l;const{t:n}=(0,x.K)(),t=(0,h.wA)(),{getEarningTypeByIdRes:o,addEarningsPending:r,updateEarningsPending:c}=(0,h.d4)((e=>e.payroll)),{earningDeductionSelectedData:p,openModel:y,handleOpenClose:b,allEarningTypeData:N,addEarnings:C,allLeaveConstantData:S,getEarningTypeById:D,isOpenModalType:E,addDeductions:T,updateEarnings:P,updateDeductions:A,earningTypeByIdData:w,allDeductionTypeData:R}=e,[k,I]=(0,s.useState)({}),[L,O]=(0,s.useState)({earningType:null,nameInPayslip:"",calculationType:"",calculationTypeValue:"",variablePay:!1,includedCTC:!1,taxableComp:!1,isActive:!0}),[V,M]=(0,s.useState)([]),U=(e,a)=>{var l;const s=a||(null===e||void 0===e||null===(l=e.target)||void 0===l?void 0:l.name),{value:d,type:n,checked:i}=null!==e&&void 0!==e&&e.target?null===e||void 0===e?void 0:e.target:{value:e};O((a=>{let l={...a,[s]:"checkbox"===n?i:d};return"earningType"===s&&D(null===e||void 0===e?void 0:e._id),"calculationType"===s&&(l={...l,calculationTypeValue:""}),l})),I((e=>({...e,[s]:void 0})))};(0,s.useEffect)((()=>()=>{q()}),[y]),(0,s.useEffect)((()=>{p&&(O({earningType:{label:null===p||void 0===p?void 0:p.earning_type_name,value:null===p||void 0===p?void 0:p.earning_type},nameInPayslip:null===p||void 0===p?void 0:p.payslip_name,calculationType:null===p||void 0===p?void 0:p.value_in,calculationTypeValue:null===p||void 0===p?void 0:p.value,variablePay:null===p||void 0===p?void 0:p.is_variable_pay,includedCTC:null===p||void 0===p?void 0:p.include_in_ctc,taxableComp:null===p||void 0===p?void 0:p.is_taxable,isActive:null===p||void 0===p?void 0:p.is_active}),M(null===p||void 0===p?void 0:p.rules))}),[p]);const q=()=>{O({earningType:null,nameInPayslip:"",calculationType:"",calculationTypeValue:"",variablePay:"",includedCTC:!1,taxableComp:!1,isActive:!0}),I({}),t(f.Vg.handleClearPayrollStore("HANDLE_CLEAR_EARNING_TYPE_BY_ID_STORE"))},F=[{name:"Earnings",onClickFun:e=>B(e),id:"add_earnings"},{name:"Earning Rules",onClickFun:e=>B(e),id:"earning_rules"},{name:"Other Configurations",onClickFun:e=>B(e),id:"other_configurations"}],H=[{name:"Deduction",onClickFun:e=>B(e),id:"deduction"},{name:"Deduction Rules",onClickFun:e=>B(e),id:"deduction_rules"},{name:"Other Configurations",onClickFun:e=>B(e),id:"other_configurations"}],B=()=>{},J=()=>"percentage"===(null===L||void 0===L?void 0:L.calculationType)?{label:n("labels.percentage"),placeholder:n("placeholders.percentage")}:{label:n("labels.amount"),placeholder:n("placeholders.amount")};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"offcanvas offcanvas-end  "+(y?"show":""),tabIndex:-1,style:{visibility:y?"visible":"hidden",width:"800px"},id:"interviewDetail",children:[(0,d.jsxs)("div",{className:"offcanvas-header",children:[(0,d.jsxs)("h5",{className:"offcanvas-title  fs-5 fw-bold text-primary",children:[p?"Update":"Add"," ","earnings"==E?"Earnings":"Deduction"]}),(0,d.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close",onClick:()=>b("add_earnings")})]}),(0,d.jsxs)("div",{className:"offcanvas-body myRequest ",children:[(0,d.jsx)(i.QE,{tabs:"earnings"==E?F:H,type:"earnings"}),(0,d.jsxs)("div",{className:"tab-content ",children:[(0,d.jsx)("div",{className:"tab-pane fade active show",id:"earnings"==E?"add_earnings":"deduction",children:(0,d.jsxs)("div",{className:"formPanel",children:[(0,d.jsx)("div",{className:"row mb-3 pb-2",style:{borderBottom:"1px #C4C1BF solid"},children:(0,d.jsx)("div",{className:"col-md-6",children:(0,d.jsxs)("div",{className:"form-group mb-2",children:[(0,d.jsx)(u.JU,{text:n("earnings"==E?"labels.earningType":"labels.deductionType"),required:!0}),(0,d.jsx)(v.A,{data:"earnings"==E?N:R,placeholder:n("earnings"==E?"placeholders.earningType":"placeholders.deductionType"),value:(null===L||void 0===L?void 0:L.earningType)||"",handleChange:e=>U(e,"earningType"),name:"earningType"}),(null===k||void 0===k?void 0:k.earningType)&&(0,d.jsx)(m.eo,{text:k.earningType})]})})}),(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("div",{className:"col-md-6",children:(0,d.jsxs)("div",{className:"form-group mb-2",children:[(0,d.jsx)(u.JU,{text:n("labels.nameInPayslip"),required:!0}),(0,d.jsx)(u.pd,{type:"text",placeholder:n("placeholders.nameInPayslip"),value:null===L||void 0===L?void 0:L.nameInPayslip,name:"nameInPayslip",onChange:e=>U(e)})]})}),(0,d.jsx)("div",{className:"col-md-12",children:(0,d.jsxs)("div",{className:"form-group mb-2",children:[(0,d.jsx)(u.JU,{text:n("labels.calculationType"),required:!0}),(0,d.jsx)(u.rD,{data:g.o3,name:"calculationType",handleChange:e=>U(e),selectedValue:null===L||void 0===L?void 0:L.calculationType})]})}),""!==(null===L||void 0===L?void 0:L.calculationType)&&"slab_wise"!==(null===L||void 0===L?void 0:L.calculationType)&&(0,d.jsx)("div",{className:"col-md-6",children:(0,d.jsxs)("div",{className:"form-group mb-2",children:[(0,d.jsx)(u.JU,{text:null===(a=J())||void 0===a?void 0:a.label}),(0,d.jsx)(u.pd,{type:"number",placeholder:null===(l=J())||void 0===l?void 0:l.placeholder,value:null===L||void 0===L?void 0:L.calculationTypeValue,name:"calculationTypeValue",onChange:e=>U(e)})]})}),(0,d.jsx)("div",{className:"col-md-12 row",children:(0,d.jsxs)("div",{className:"form-group mb-2",children:[(0,d.jsx)(u.L1,{className:"text-primary",text:n("labels.maxAllowance"),required:!0}),(0,d.jsx)("div",{className:"col-md-6 mt-2",children:(0,d.jsxs)("div",{className:"form-group mb-2 d-flex justify-content-between gap-3",children:[(0,d.jsx)("span",{className:"rupee-sign",children:"\u20b9"}),(0,d.jsx)(u.pd,{type:"number",placeholder:n("placeholders.maxAllowance"),value:null===L||void 0===L?void 0:L.maxAllowance,name:"maxAllowance",onChange:e=>U(e)})]})})]})}),(0,d.jsxs)("div",{className:"col-md-12 d-flex",children:[(0,d.jsx)("div",{className:"form-group ",children:(0,d.jsx)(u.P_,{id:"includedCTC",checked:null===L||void 0===L?void 0:L.includedCTC,handleChange:e=>U(e),name:"includedCTC"},"includedCTC")}),(0,d.jsx)("div",{className:"form-group ",children:(0,d.jsx)(u.L1,{text:n("labels.includedCTC"),className:"text-primary"})})]}),(0,d.jsxs)("div",{className:"col-md-12 d-flex",children:[(0,d.jsx)("div",{className:"form-group ",children:(0,d.jsx)(u.P_,{id:"variablePay",checked:null===L||void 0===L?void 0:L.variablePay,handleChange:e=>U(e),name:"variablePay"},"variablePay")}),(0,d.jsx)("div",{className:"form-group ",children:(0,d.jsx)(u.L1,{text:n("labels.variablePay"),className:"text-primary"})})]}),(0,d.jsxs)("div",{className:"col-md-12 d-flex",children:[(0,d.jsx)("div",{className:"form-group ",children:(0,d.jsx)(u.P_,{id:"taxableComp",checked:null===L||void 0===L?void 0:L.taxableComp,handleChange:e=>U(e),name:"taxableComp"},"taxableComp")}),(0,d.jsxs)("div",{className:"form-group ",children:[(0,d.jsx)(u.L1,{text:n("labels.taxableComp"),className:"text-primary"}),(0,d.jsx)("p",{className:"text-secondary",children:n("paragraph.taxableCompDesc")})]})]}),(0,d.jsxs)("div",{className:"col-md-12 d-flex",children:[(0,d.jsx)("div",{className:"form-group ",children:(0,d.jsx)(u.P_,{id:"isActive",checked:null===L||void 0===L?void 0:L.isActive,handleChange:e=>U(e),name:"isActive"},"isActive")}),(0,d.jsx)("div",{className:"form-group",children:(0,d.jsx)(u.L1,{text:n("labels.isActive"),className:"text-primary"})})]})]})]})}),(0,d.jsx)("div",{className:"tab-pane fade",id:"earnings"==E?"earning_rules":"deduction_rules",children:(0,d.jsx)(j,{allLeaveConstantData:S,setRules:M,rules:V})}),(0,d.jsx)("div",{className:"tab-pane fade",id:"other_configurations",children:w&&(null===w||void 0===w?void 0:w.length)>0&&(0,d.jsx)(_,{earningTypeData:w[0]})})]})]}),(0,d.jsx)("div",{className:"offcanvas-footer",children:(0,d.jsx)("div",{className:"d-flex align-items-center justify-content-end gap-3",children:(0,d.jsx)(m.Sv,{text:n(p?"btns.update":"btns.submit"),classNames:"btn btn-org-gradient",handleClick:()=>(async()=>{var e;let a={payslip_name:null===L||void 0===L?void 0:L.nameInPayslip,["earnings"===E?"earning_type":"deduction_type"]:null===L||void 0===L||null===(e=L.earningType)||void 0===e?void 0:e._id,value:null===L||void 0===L?void 0:L.calculationTypeValue,value_in:null===L||void 0===L?void 0:L.calculationType,is_optional:!1,max_allowance:null===L||void 0===L?void 0:L.maxAllowance,include_in_ctc:null===L||void 0===L?void 0:L.includedCTC,rules:V,is_variable_pay:null===L||void 0===L?void 0:L.variablePay,is_taxable:null===L||void 0===L?void 0:L.taxableComp,is_active:null===L||void 0===L?void 0:L.isActive};p?(a._id=null===p||void 0===p?void 0:p._id,"earnings"==E?P(a):A(a)):"earnings"==E?C(a):T(a)})()})})})]}),y&&(0,d.jsx)("div",{className:"modal-backdrop fade show"})]})},C=e=>{const{isOpenModal:a,selectedPayScheduleData:l,handleToggleModals:n,appConstantData:i,handleAddPayScheduleData:t,handleUpdatePaySchedule:o}=e,{t:r}=(0,x.K)(),[c,g]=(0,s.useState)({payScheduleType:"monthly",payOn:"last_working_day",payDay:"",payPeriodStartDate:""}),[p,y]=(0,s.useState)(""),{addPaySchedulePending:b,updatePaySchedulePending:j}=(0,h.d4)((e=>e.payroll)),_=(e,a)=>{var l;const s=a||(null===(l=e.target)||void 0===l?void 0:l.name),{value:d,type:n,checked:i}=null!==e&&void 0!==e&&e.target?e.target:{value:e};g((e=>{const a={...e,[s]:d};return"monthly"===d&&(a.noOfWorkingDays=""),"last_working_day"===d&&(a.payDay=""),a})),y((e=>({...e,[s]:void 0})))};return(0,s.useEffect)((()=>{if(l&&(null===l||void 0===l?void 0:l.length)>0){const e=l[0];g({payScheduleType:null===e||void 0===e?void 0:e.pay_schedule_type,noOfWorkingDays:{label:null===e||void 0===e?void 0:e.no_of_working_days,value:null===e||void 0===e?void 0:e.no_of_working_days},payOn:null===e||void 0===e?void 0:e.pay_on,payDay:{label:null===e||void 0===e?void 0:e.pay_day,value:null===e||void 0===e?void 0:e.pay_day},payPeriodStartDate:null===e||void 0===e?void 0:e.pay_period_start_date})}}),[l]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"offcanvas offcanvas-end  "+(a?"show":""),tabIndex:-1,style:{visibility:a?"visible":"hidden",width:"800px"},children:[(0,d.jsxs)("div",{className:"offcanvas-header",children:[(0,d.jsxs)("h5",{className:"offcanvas-title  fs-5 fw-bold text-primary",children:[" ",l?"Update":""," Pay Schedule"]}),(0,d.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close",onClick:()=>n("pay_schedule")})]}),(0,d.jsx)("div",{className:"offcanvas-body",children:(0,d.jsxs)("div",{className:"formPanel",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)(u.L1,{text:" Calculate monthly salary based on",required:!0,tooltipText:r("tooltips.calculateMonthlySalary"),className:"text-primary"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{children:(0,d.jsx)(u.hI,{htmlFor:"monthly",text:"Actual days in a month",name:"payScheduleType",value:"monthly",checked:"monthly"===(null===c||void 0===c?void 0:c.payScheduleType),handleChange:e=>_(e),radioClass:"mt-2"})}),(0,d.jsxs)("div",{className:"d-flex",children:[(0,d.jsx)(u.hI,{htmlFor:"workingDays",text:"Organisation working days",name:"payScheduleType",value:"working_days",checked:"working_days"===(null===c||void 0===c?void 0:c.payScheduleType),handleChange:e=>_(e),radioClass:"mt-2"}),(0,d.jsx)("div",{className:"ms-2 me-2",style:{width:"113px"},children:(0,d.jsx)(v.A,{data:null===i||void 0===i?void 0:i.workingDays,placeholder:r("placeholders.select"),value:null===c||void 0===c?void 0:c.noOfWorkingDays,handleChange:e=>_(e,"noOfWorkingDays"),isDisabled:"monthly"===(null===c||void 0===c?void 0:c.payScheduleType)})}),(0,d.jsx)("label",{className:"mt-2",children:"days per month"})]})]})]}),(0,d.jsxs)("div",{className:"mt-3",children:[(0,d.jsx)(u.L1,{text:" Pay On",required:!0,className:"text-primary"}),(0,d.jsx)("div",{children:(0,d.jsx)(u.hI,{htmlFor:"lastWorkingDay",text:"the last working day of",name:"payOn",value:"last_working_day",checked:"last_working_day"===(null===c||void 0===c?void 0:c.payOn),handleChange:e=>_(e),radioClass:"mt-2"})}),(0,d.jsxs)("div",{className:"d-flex",children:[(0,d.jsx)(u.hI,{htmlFor:"payMonth",text:"day",name:"payOn",value:"day_of_month",checked:"day_of_month"===(null===c||void 0===c?void 0:c.payOn),handleChange:e=>_(e),radioClass:"mt-2"}),(0,d.jsx)("div",{className:"ms-2 me-2",style:{width:"113px"},children:(0,d.jsx)(v.A,{data:null===i||void 0===i?void 0:i.monthDays,placeholder:r("placeholders.select"),value:null===c||void 0===c?void 0:c.payDay,handleChange:e=>_(e,"payDay"),isDisabled:"last_working_day"===(null===c||void 0===c?void 0:c.payOn)})}),(0,d.jsx)("label",{className:"mt-2",children:"of every month"})]})]}),(0,d.jsx)("div",{className:"row mt-3",children:(0,d.jsx)("div",{className:"col-md-6 row",children:(0,d.jsx)("div",{className:"col-md-12",children:(0,d.jsxs)("div",{className:"form-group mb-2",children:[(0,d.jsx)(u.L1,{text:"Start your first payroll from",required:!0,className:"text-primary "}),(0,d.jsx)(u.pd,{type:"month",value:null===c||void 0===c?void 0:c.payPeriodStartDate,name:"payPeriodStartDate",className:"mt-2",onChange:e=>_(e)}),(null===p||void 0===p?void 0:p.name)&&(0,d.jsx)(m.eo,{text:p.name})]})})})})]})}),(0,d.jsx)("div",{className:"offcanvas-footer",children:(0,d.jsx)("div",{className:"d-flex align-items-center justify-content-end gap-3",children:(0,d.jsx)(m.Sv,{text:r(l?"btns.update":"btns.submit"),classNames:"btn btn-org-gradient",handleClick:()=>(()=>{var e,a;const s={pay_schedule_type:null===c||void 0===c?void 0:c.payScheduleType,no_of_working_days:null===c||void 0===c||null===(e=c.noOfWorkingDays)||void 0===e?void 0:e.value,pay_on:null===c||void 0===c?void 0:c.payOn,pay_day:(null===c||void 0===c||null===(a=c.payDay)||void 0===a?void 0:a.value)||"",pay_period_start_date:null===c||void 0===c?void 0:c.payPeriodStartDate};var d;l?(s._id=(null===l||void 0===l||null===(d=l[0])||void 0===d?void 0:d._id)||"",o(s)):t(s)})(),isLoading:l?j:b})})})]}),a&&(0,d.jsx)("div",{className:"modal-backdrop fade show"})]})},S=e=>{const{appConstantData:a,upcomingPayrollData:l,handleToggleModals:n}=e,{t:o}=(0,x.K)(),{upcomingPayrollsPending:r}=((0,h.wA)(),(0,h.d4)((e=>e.payroll))),[c,m]=(0,s.useState)("");(0,s.useEffect)((()=>{l&&(null===l||void 0===l?void 0:l.length)>0&&m(l[0])}),[l]);const v=(0,s.useMemo)((()=>({})),[l]);return(0,d.jsx)("div",{children:(0,d.jsxs)("div",{className:" p-3",children:[(0,d.jsxs)("div",{className:"d-flex mb-2 paySchedule",children:[(0,d.jsx)("h3",{className:"me-1",style:{fontSize:"18px",fontWeight:600},children:"This Organization's payroll runs on this schedule"}),(0,d.jsxs)("div",{onClick:()=>n("pay_schedule",l),className:"editIconBg",children:[" ",l?(0,d.jsx)(u.In,{className:"bi bi-pencil text-white"}):(0,d.jsx)(u.In,{className:"bi bi-plus-lg"})]})]}),(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("div",{className:"col-md-2",children:(0,d.jsx)("div",{className:"form-group mb-3",children:(0,d.jsx)(u.JU,{text:o("labels.payFrequency")})})}),(0,d.jsx)("div",{className:"col-md-4",children:(0,d.jsx)("div",{className:"form-group mb-3",children:(0,d.jsx)(u.L1,{text:(null===c||void 0===c?void 0:c.pay_schedule_type)||"-"})})})]}),(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("div",{className:"col-md-2",children:(0,d.jsx)("div",{className:"form-group mb-3",children:(0,d.jsx)(u.JU,{text:o("labels.payDay")})})}),(0,d.jsx)("div",{className:"col-md-4",children:(0,d.jsx)("div",{className:"form-group mb-3",children:(0,d.jsx)(u.L1,{text:(null===c||void 0===c?void 0:c.pay_day)||"-"})})})]}),(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("div",{className:"col-md-2",children:(0,d.jsx)("div",{className:"form-group mb-3",children:(0,d.jsx)(u.JU,{text:o("labels.firstPayPeriod")})})}),(0,d.jsx)("div",{className:"col-md-4",children:(0,d.jsx)("div",{className:"form-group mb-3",children:(0,d.jsx)(u.L1,{text:c?(0,t.N_)(null===c||void 0===c?void 0:c.pay_period_start_date,"DD/MM/YYYY"):"-"})})})]}),(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("div",{className:"col-md-2",children:(0,d.jsx)("div",{className:"form-group mb-3",children:(0,d.jsx)(u.JU,{text:o("labels.firstPayDate")})})}),(0,d.jsx)("div",{className:"col-md-4",children:(0,d.jsx)("div",{className:"form-group mb-3",children:(0,d.jsx)(u.L1,{text:null!==c&&void 0!==c&&c.pay_date?(0,t.N_)(null===c||void 0===c?void 0:c.pay_date,"DD/MM/YYYY"):"-"})})})]}),(0,d.jsx)("div",{className:"row",children:(0,d.jsxs)("div",{className:"col-12 form-group mb-3",children:[(0,d.jsx)("h3",{className:"underlineHead ",style:{fontSize:"18px"},children:" Upcoming Payroll"}),(0,d.jsx)(i.Ak,{data:null===c||void 0===c?void 0:c.upcoming_pay_periods,fields:[{key:"pay_period_formatted",label:"PAY PERIOD"},{key:"pay_date_formatted",label:"PAY DATE"}],isLoading:r,pagination:!0,isHeader:!1,tableStyle:{padding:"0px",boxShadow:"none"},scopedSlots:v})]})})]})})},D=e=>{const{t:a}=(0,x.K)(),{openModel:l,handleOpenClose:n}=e,[i,t]=(0,s.useState)({}),[o,r]=(0,s.useState)({nameInPayslip:"",deductionFrequency:"",is_active:!0}),c=(e,a)=>{var l;const s=a||(null===(l=e.target)||void 0===l?void 0:l.name),{value:d,type:n,checked:i}=null!==e&&void 0!==e&&e.target?null===e||void 0===e?void 0:e.target:{value:e};r((e=>({...e,[s]:"checkbox"===n?i:d}))),t((e=>({...e,[s]:void 0})))};(0,s.useEffect)((()=>()=>{v()}),[l]);const v=()=>{r({nameInPayslip:"",deductionFrequency:"",is_active:!0}),t({})};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"offcanvas offcanvas-end  "+(l?"show":""),tabIndex:-1,style:{visibility:l?"visible":"hidden",width:"600px"},id:"interviewDetail",children:[(0,d.jsxs)("div",{className:"offcanvas-header",children:[(0,d.jsx)("h5",{className:"offcanvas-title  fs-5 fw-bold text-primary",children:"Post Tax Deduction"}),(0,d.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close",onClick:()=>n("post_tax_deduction")})]}),(0,d.jsx)("div",{className:"offcanvas-body myRequest ",children:(0,d.jsx)("div",{className:"formPanel",children:(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("div",{className:"col-md-12",children:(0,d.jsxs)("div",{className:"form-group mb-2",children:[(0,d.jsx)(u.JU,{text:a("labels.nameInPayslip"),required:!0}),(0,d.jsx)(u.pd,{type:"text",placeholder:a("placeholders.nameInPayslip"),value:null===o||void 0===o?void 0:o.nameInPayslip,name:"nameInPayslip",onChange:e=>c(e)})]})}),(0,d.jsx)("div",{className:"col-md-12",children:(0,d.jsxs)("div",{className:"form-group mb-2",children:[(0,d.jsx)(u.JU,{text:a("labels.deductionFrequency"),required:!0}),(0,d.jsx)(u.rD,{data:g.YY,name:"calculationType",handleChange:c,selectedValue:null===o||void 0===o?void 0:o.deductionFrequency})]})}),(0,d.jsx)("div",{className:"col-md-3",children:(0,d.jsx)("div",{className:"form-group mb-3",children:(0,d.jsx)(u.JU,{text:a("labels.isActive")})})}),(0,d.jsx)("div",{className:"col-md-9",children:(0,d.jsx)("div",{className:"form-group mb-3",children:(0,d.jsx)(u.P_,{id:"is_active",checked:null===o||void 0===o?void 0:o.is_active,handleChange:e=>c(e),name:"is_active"},"is_active")})}),(0,d.jsx)("div",{className:"col-md-12 mt-3",children:(0,d.jsx)("div",{className:"form-group mb-3",children:(0,d.jsxs)("div",{class:"alert alert-warning",role:"alert",children:[(0,d.jsx)("b",{children:"Note:"}),a("paragraph.postTaxDeduction")]})})})]})})}),(0,d.jsx)("div",{className:"offcanvas-footer",children:(0,d.jsx)("div",{className:"d-flex align-items-center justify-content-end gap-3",children:(0,d.jsx)(m.Sv,{text:a("btns.submit"),classNames:"btn btn-org-gradient",handleClick:()=>(async()=>{})()})})})]}),l&&(0,d.jsx)("div",{className:"modal-backdrop fade show"})]})},E=e=>{const{t:a}=(0,x.K)(),{openModel:l,handleOpenClose:n,deductionWithData:i,deductionPlanData:t}=e,[o,r]=(0,s.useState)({}),[c,g]=(0,s.useState)({nameInPayslip:"",deductionFrequency:"",is_active:!0}),p=(e,a)=>{var l;const s=a||(null===(l=e.target)||void 0===l?void 0:l.name),{value:d,type:n,checked:i}=null!==e&&void 0!==e&&e.target?null===e||void 0===e?void 0:e.target:{value:e};g((e=>({...e,[s]:"checkbox"===n?i:d}))),r((e=>({...e,[s]:void 0})))};(0,s.useEffect)((()=>()=>{h()}),[l]);const h=()=>{g({nameInPayslip:"",deductionFrequency:"",is_active:!0}),r({})};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"offcanvas offcanvas-end  "+(l?"show":""),tabIndex:-1,style:{visibility:l?"visible":"hidden",width:"600px"},id:"interviewDetail",children:[(0,d.jsxs)("div",{className:"offcanvas-header",children:[(0,d.jsx)("h5",{className:"offcanvas-title  fs-5 fw-bold text-primary",children:"Pre Tax Deduction"}),(0,d.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close",onClick:()=>n("pre_tax_deduction")})]}),(0,d.jsx)("div",{className:"offcanvas-body myRequest ",children:(0,d.jsx)("div",{className:"formPanel",children:(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("div",{className:"col-md-12",children:(0,d.jsxs)("div",{className:"form-group mb-2",children:[(0,d.jsx)(u.JU,{text:a("labels.deductionPlan"),required:!0}),(0,d.jsx)(v.A,{data:t,placeholder:a("placeholders.deductionPlan"),value:(null===c||void 0===c?void 0:c.deductionPlan)||"",handleChange:e=>p(e,"deductionPlan"),name:"deductionPlan"})]})}),(0,d.jsx)("div",{className:"col-md-12",children:(0,d.jsxs)("div",{className:"form-group mb-2",children:[(0,d.jsx)(u.JU,{text:a("labels.deductionWith"),required:!0}),(0,d.jsx)(v.A,{data:i,placeholder:a("placeholders.deductionWith"),value:(null===c||void 0===c?void 0:c.deductionWith)||"",handleChange:e=>p(e,"deductionWith"),name:"deductionWith"})]})}),(0,d.jsx)("div",{className:"col-md-12",children:(0,d.jsxs)("div",{className:"form-group mb-2",children:[(0,d.jsx)(u.JU,{text:a("labels.nameInPayslip"),required:!0}),(0,d.jsx)(u.pd,{type:"text",placeholder:a("placeholders.nameInPayslip"),value:null===c||void 0===c?void 0:c.nameInPayslip,name:"nameInPayslip",onChange:e=>p(e)}),(null===o||void 0===o?void 0:o.nameInPayslip)&&(0,d.jsx)(m.eo,{text:o.nameInPayslip})]})}),(0,d.jsxs)("div",{className:"col-md-12 mt-3 d-flex",children:[(0,d.jsx)("div",{className:"form-group",children:(0,d.jsx)(u.P_,{id:"employerContributionCTC",checked:null===c||void 0===c?void 0:c.employerContributionCTC,handleChange:e=>p(e),name:"employerContributionCTC"},"employerContributionCTC")}),(0,d.jsx)("div",{className:"form-group ",children:(0,d.jsx)(u.L1,{text:a("labels.employerContributionCTC"),className:"text-primary"})})]}),(0,d.jsxs)("div",{className:"col-md-12 mt-3 d-flex",children:[(0,d.jsx)("div",{className:"form-group",children:(0,d.jsx)(u.P_,{id:"calculateProRataBasis",checked:null===c||void 0===c?void 0:c.calculateProRataBasis,handleChange:e=>p(e),name:"calculateProRataBasis"},"calculateProRataBasis")}),(0,d.jsxs)("div",{className:"form-group ",children:[(0,d.jsx)(u.L1,{text:a("labels.calculateProRataBasis"),className:"text-primary"}),(0,d.jsx)("p",{className:"text-secondary",children:"Pay will be adjusted based on employee working days."})]})]}),(0,d.jsxs)("div",{className:"col-md-12 d-flex",children:[(0,d.jsx)("div",{className:"form-group mb-3",children:(0,d.jsx)(u.P_,{id:"is_active",checked:null===c||void 0===c?void 0:c.is_active,handleChange:e=>p(e),name:"is_active"},"is_active")}),(0,d.jsx)("div",{className:"form-group mb-3",children:(0,d.jsx)(u.L1,{text:a("labels.isActive"),className:"text-primary"})})]})]})})}),(0,d.jsx)("div",{className:"offcanvas-footer",children:(0,d.jsx)("div",{className:"d-flex align-items-center justify-content-end gap-3",children:(0,d.jsx)(m.Sv,{text:a("btns.submit"),classNames:"btn btn-org-gradient",handleClick:()=>(async()=>{})()})})})]}),l&&(0,d.jsx)("div",{className:"modal-backdrop fade show"})]})},T=e=>{const{t:a}=(0,x.K)(),{handleToggleModals:l,taxSlabData:n,currentPage:t,setCurrentPage:o,toggleDeleteTaxSlabModal:r}=e,{getTaxSlabPending:c}=(0,h.d4)((e=>e.payroll)),v=(0,s.useMemo)((()=>({sn:(e,a)=>(0,d.jsx)("span",{children:a+1}),action:e=>(0,d.jsxs)("div",{className:"btn-group actionDrp",children:[(0,d.jsx)("button",{type:"button",className:"btn dropdown-toggle-split","data-bs-toggle":"dropdown","aria-expanded":"false",children:(0,d.jsx)("i",{className:"bi bi-three-dots-vertical"})}),(0,d.jsxs)("ul",{className:"dropdown-menu",children:[(0,d.jsx)("li",{children:(0,d.jsxs)("span",{className:"dropdown-item",onClick:()=>l("tax_slab",e),children:[(0,d.jsx)(u.In,{className:"fa fa-edit"})," Update"]})}),(0,d.jsx)("li",{children:(0,d.jsxs)("span",{className:"dropdown-item",onClick:()=>r(null===e||void 0===e?void 0:e._id),children:[(0,d.jsx)(u.In,{className:"fa fa-trash"})," Delete"]})})]})]})})),[]);return(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"cardHead  justify-content-between",children:[(0,d.jsxs)("div",{className:"d-flex",children:[(0,d.jsx)("img",{src:"/images/myrequest-icon.svg",alt:"",width:"35"}),(0,d.jsx)("h3",{className:"ms-2 mt-2",children:"Tax Slab"})]}),(0,d.jsx)("div",{children:(0,d.jsx)(m.Sv,{text:a("btns.addTaxSlab"),classNames:"btn btn-primary",handleClick:()=>l("tax_slab")})})]}),(0,d.jsx)(i.Ak,{data:null===n||void 0===n?void 0:n.data,fields:[{key:"sn",label:"S.N"},{key:"type",label:"Slab Type"},{key:"start",label:"Start"},{key:"end",label:"End"},{key:"tex_percent",label:"Tax Percent"},{key:"action",label:"Action"}],isLoading:c,pagination:!0,currentPage:t,setCurrentPage:e=>o(e,"tax_slab"),totalPages:null===n||void 0===n?void 0:n.totalPages,isHeader:!1,tableStyle:{padding:"0px",boxShadow:"none"},scopedSlots:v})]})};var P=l(26181),A=l(80728);const w=e=>{const{isOpenModal:a,handleToggleModals:l,selectedTaxSlabData:n,filteredDropdownData:i,handleAddUpdateTaxSlab:t}=e,{updateTaxSlabPending:o,addTaxSlabPending:r}=(0,h.d4)((e=>e.payroll)),{t:c}=(0,x.K)(),[g,p]=(0,s.useState)(""),[y,b]=(0,s.useState)({slabType:null,start:"",end:"",taxPercent:"",includeCess:!1,cessPercent:"",standardDeduction:!1,standardDeductionValue:"",taxRelaxation:"",constantDifference:"",rebateAllowed:!1,rebateRules:!1,isActive:!0}),j=(e,a)=>{var l;const s=a||(null===(l=e.target)||void 0===l?void 0:l.name),{value:d,type:n,checked:i}=null!==e&&void 0!==e&&e.target?null===e||void 0===e?void 0:e.target:{value:e};b((e=>({...e,[s]:"checkbox"===n?i:d}))),p((e=>({...e,[s]:void 0})))};return(0,s.useEffect)((()=>{n&&b({slabType:{label:null===n||void 0===n?void 0:n.type,value:null===n||void 0===n?void 0:n.type},start:null===n||void 0===n?void 0:n.start,end:null===n||void 0===n?void 0:n.end,taxPercent:null===n||void 0===n?void 0:n.tex_percent,includeCess:null===n||void 0===n?void 0:n.is_include_cess,cessPercent:null===n||void 0===n?void 0:n.cess_percent,standardDeduction:null===n||void 0===n?void 0:n.is_standard_deduction,standardDeductionValue:null===n||void 0===n?void 0:n.standard_deduction_value,taxRelaxation:null===n||void 0===n?void 0:n.tex_relaxation,constantDifference:null===n||void 0===n?void 0:n.constant_difference,rebateAllowed:null===n||void 0===n?void 0:n.is_rebate_allowed,rebateRules:null===n||void 0===n?void 0:n.rebate_rules,isActive:null===n||void 0===n?void 0:n.is_active})}),[n]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"offcanvas offcanvas-end  "+(a?"show":""),tabIndex:-1,style:{visibility:a?"visible":"hidden",width:"800px"},children:[(0,d.jsxs)("div",{className:"offcanvas-header",children:[(0,d.jsxs)("h5",{className:"offcanvas-title  fs-5 fw-bold text-primary",children:[" ",n?"Update":"Add"," Tax Slab"]}),(0,d.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close",onClick:()=>l("tax_slab")})]}),(0,d.jsx)("div",{className:"offcanvas-body",children:(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("div",{className:"col-md-6",children:(0,d.jsxs)("div",{className:"form-group mb-2",children:[(0,d.jsx)(u.JU,{text:c("labels.slabType"),required:!0}),(0,d.jsx)(v.A,{data:null===i||void 0===i?void 0:i.tax_slab,placeholder:c("placeholders.slabType"),value:(null===y||void 0===y?void 0:y.slabType)||"",handleChange:e=>j(e,"slabType"),name:"slabType"}),(null===g||void 0===g?void 0:g.slabType)&&(0,d.jsx)(m.eo,{text:g.slabType})]})}),(0,d.jsx)("div",{className:"col-md-6",children:(0,d.jsxs)("div",{className:"form-group mb-2",children:[(0,d.jsx)(u.JU,{text:c("labels.startAmount"),required:!0}),(0,d.jsx)(u.pd,{type:"number",placeholder:c("placeholders.taxSlabStartAmount"),value:0===(null===y||void 0===y?void 0:y.start)?"0":null===y||void 0===y?void 0:y.start,name:"start",onChange:e=>j(e)}),(null===g||void 0===g?void 0:g.start)&&(0,d.jsx)(m.eo,{text:g.start})]})}),(0,d.jsx)("div",{className:"col-md-6",children:(0,d.jsxs)("div",{className:"form-group mb-2",children:[(0,d.jsx)(u.JU,{text:c("labels.endAmount"),required:!0}),(0,d.jsx)(u.pd,{type:"number",placeholder:c("placeholders.taxSlabEndAmount"),value:0===(null===y||void 0===y?void 0:y.end)?"0":null===y||void 0===y?void 0:y.end,name:"end",onChange:e=>j(e)}),(null===g||void 0===g?void 0:g.end)&&(0,d.jsx)(m.eo,{text:g.end})]})}),(0,d.jsx)("div",{className:"col-md-6",children:(0,d.jsxs)("div",{className:"form-group mb-2",children:[(0,d.jsx)(u.JU,{text:c("labels.taxPercent"),required:!0}),(0,d.jsx)(u.pd,{type:"number",placeholder:c("placeholders.taxPercent"),value:0===(null===y||void 0===y?void 0:y.taxPercent)?"0":null===y||void 0===y?void 0:y.taxPercent,name:"taxPercent",onChange:e=>j(e)}),(null===g||void 0===g?void 0:g.taxPercent)&&(0,d.jsx)(m.eo,{text:g.taxPercent})]})}),(0,d.jsx)("div",{className:"col-md-6 ",children:(0,d.jsxs)("div",{className:"form-group mb-2",children:[(0,d.jsx)(u.JU,{text:c("labels.taxRelaxation"),required:!0}),(0,d.jsx)(u.pd,{type:"number",placeholder:c("placeholders.taxRelaxation"),value:0===(null===y||void 0===y?void 0:y.taxRelaxation)?"0":null===y||void 0===y?void 0:y.taxRelaxation,name:"taxRelaxation",onChange:e=>j(e)}),(null===g||void 0===g?void 0:g.taxRelaxation)&&(0,d.jsx)(m.eo,{text:g.taxRelaxation})]})}),(0,d.jsx)("div",{className:"col-md-6 ",children:(0,d.jsxs)("div",{className:"form-group mb-2",children:[(0,d.jsx)(u.JU,{text:c("labels.constantDifference"),required:!0}),(0,d.jsx)(u.pd,{type:"number",placeholder:c("placeholders.constantDifference"),value:0===(null===y||void 0===y?void 0:y.constantDifference)?"0":null===y||void 0===y?void 0:y.constantDifference,name:"constantDifference",onChange:e=>j(e)}),(null===g||void 0===g?void 0:g.constantDifference)&&(0,d.jsx)(m.eo,{text:g.constantDifference})]})}),(0,d.jsxs)("div",{className:"col-md-12 row",children:[(0,d.jsx)("div",{className:"col-md-3",children:(0,d.jsx)("div",{className:"form-group mb-3",children:(0,d.jsx)(u.JU,{text:c("labels.includeCess")})})}),(0,d.jsx)("div",{className:"col-md-9",children:(0,d.jsx)("div",{className:"form-group mb-3",children:(0,d.jsx)(u.P_,{id:"includeCess",checked:null===y||void 0===y?void 0:y.includeCess,handleChange:e=>j(e),name:"includeCess"},"includeCess")})})]}),(null===y||void 0===y?void 0:y.includeCess)&&(0,d.jsx)("div",{className:"col-md-12 row",children:(0,d.jsx)("div",{className:"col-md-6 row",children:(0,d.jsxs)("div",{className:"form-group mb-2",children:[(0,d.jsx)(u.JU,{text:c("labels.cessPercent"),required:!0}),(0,d.jsx)(u.pd,{type:"number",placeholder:c("placeholders.cessPercent"),value:0===(null===y||void 0===y?void 0:y.cessPercent)?"0":null===y||void 0===y?void 0:y.cessPercent,name:"cessPercent",onChange:e=>j(e)}),(null===g||void 0===g?void 0:g.cessPercent)&&(0,d.jsx)(m.eo,{text:g.cessPercent})]})})}),(0,d.jsxs)("div",{className:"col-md-12 row",children:[(0,d.jsx)("div",{className:"col-md-3",children:(0,d.jsx)("div",{className:"form-group mb-3",children:(0,d.jsx)(u.JU,{text:c("labels.standardDeduction")})})}),(0,d.jsx)("div",{className:"col-md-9",children:(0,d.jsx)("div",{className:"form-group mb-3",children:(0,d.jsx)(u.P_,{id:"standardDeduction",checked:null===y||void 0===y?void 0:y.standardDeduction,handleChange:e=>j(e),name:"standardDeduction"},"standardDeduction")})})]}),(null===y||void 0===y?void 0:y.standardDeduction)&&(0,d.jsx)("div",{className:"col-md-12 row",children:(0,d.jsx)("div",{className:"col-md-6 row",children:(0,d.jsxs)("div",{className:"form-group mb-2",children:[(0,d.jsx)(u.JU,{text:c("labels.standardDeductionAmount"),required:!0}),(0,d.jsx)(u.pd,{type:"number",placeholder:c("placeholders.standardDeduction"),value:0===(null===y||void 0===y?void 0:y.standardDeductionValue)?"0":null===y||void 0===y?void 0:y.standardDeductionValue,name:"standardDeductionValue",onChange:e=>j(e)})]})})}),(0,d.jsxs)("div",{className:"col-md-12 row",children:[(0,d.jsx)("div",{className:"col-md-3",children:(0,d.jsx)("div",{className:"form-group mb-3",children:(0,d.jsx)(u.JU,{text:c("labels.rebateAllowed")})})}),(0,d.jsx)("div",{className:"col-md-9",children:(0,d.jsx)("div",{className:"form-group mb-3",children:(0,d.jsx)(u.P_,{id:"rebateAllowed",checked:null===y||void 0===y?void 0:y.rebateAllowed,handleChange:e=>j(e),name:"rebateAllowed"},"rebateAllowed")})})]}),(0,d.jsxs)("div",{className:"col-md-12 row",children:[(0,d.jsx)("div",{className:"col-md-3",children:(0,d.jsx)("div",{className:"form-group mb-3",children:(0,d.jsx)(u.JU,{text:c("labels.isActive")})})}),(0,d.jsx)("div",{className:"col-md-9",children:(0,d.jsx)("div",{className:"form-group mb-3",children:(0,d.jsx)(u.P_,{id:"isActive",checked:null===y||void 0===y?void 0:y.isActive,handleChange:e=>j(e),name:"isActive"},"isActive")})})]})]})}),(0,d.jsx)("div",{className:"offcanvas-footer",children:(0,d.jsx)("div",{className:"d-flex align-items-center justify-content-end gap-3",children:(0,d.jsx)(m.Sv,{text:c(n?"btns.update":"btns.submit"),classNames:"btn btn-org-gradient",handleClick:()=>(async()=>{const e=await(0,P.i6)(A.X1,y);if(e.isValid){const{slabType:e,start:a,end:l,taxPercent:s,includeCess:d,cessPercent:i,standardDeduction:o,standardDeductionValue:r,taxRelaxation:c,constantDifference:u,rebateAllowed:m,rebateRules:v,isActive:x}=y;let g={type:(null===e||void 0===e?void 0:e.label)||"",start:a,end:l,tex_percent:s,is_include_cess:d,cess_percent:i||0,is_standard_deduction:o,standard_deduction_value:r||0,tex_relaxation:c,constant_difference:u,is_rebate_allowed:m,rebate_rules:v||{},is_active:x};n?(g._id=null===n||void 0===n?void 0:n._id,t(g)):t(g)}else p(e.errors)})(),isLoading:n?o:r})})})]}),a&&(0,d.jsx)("div",{className:"modal-backdrop fade show"})]})};var R=l(35685);l(86178);const k=e=>{const{addAllInvestmentCategoryPending:a}=(0,h.d4)((e=>e.payroll)),{isLoading:l,toggleCreateUpdateInvestmentCategoryModal:n,currentPage:o,setCurrentPage:r,investmentCategoryData:c,handleOpenCloseModals:m,toggleDeleteInvestmentModal:v}=e,x=(0,s.useMemo)((()=>({sn:(e,a)=>(0,d.jsx)("span",{children:a+1}),max_limit:e=>(0,d.jsx)("span",{className:`badge ${(0,t.XN)(e.max_limit?"Active":"Inactive")}`,children:e.max_limit?"Active":"Inactive"}),is_eligible_for_old:e=>(0,d.jsx)("span",{className:`badge ${(0,t.XN)(e.is_eligible_for_old?"Active":"Inactive")}`,children:e.is_eligible_for_old?"Active":"Inactive"}),is_eligible_for_new:e=>(0,d.jsx)("span",{className:`badge ${(0,t.XN)(e.is_eligible_for_new?"Active":"Inactive")}`,children:e.is_eligible_for_new?"Active":"Inactive"}),action:e=>(0,d.jsxs)("div",{className:"btn-group actionDrp",children:[(0,d.jsx)("button",{type:"button",className:"btn dropdown-toggle-split","data-bs-toggle":"dropdown","aria-expanded":"false",children:(0,d.jsx)("i",{className:"bi bi-three-dots-vertical"})}),(0,d.jsxs)("ul",{className:"dropdown-menu",children:[(0,d.jsx)("li",{children:(0,d.jsxs)("span",{className:"dropdown-item",onClick:()=>m("category",e),children:[(0,d.jsx)(u.In,{className:"bi bi-pencil-square me-1"}),"Update"]})}),(0,d.jsx)("li",{children:(0,d.jsxs)("span",{className:"dropdown-item",onClick:()=>v("category",e),children:[(0,d.jsx)(u.In,{className:"bi bi-trash me-1"}),"Delete"]})})]})]})})),[n]);return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(i.Ak,{data:null===c||void 0===c?void 0:c.data,fields:[{key:"sn",label:"S.N"},{key:"category",label:"Category Name"},{key:"max_limit",label:"Max Limit"},{key:"max_limit_amount",label:"Max Limit Amount"},{key:"is_eligible_for_old",label:"Eligible For Old"},{key:"is_eligible_for_new",label:"Eligible For New"},{key:"action",label:"Action"}],isLoading:a,pagination:!0,currentPage:o,setCurrentPage:r,isHeader:!1,tableStyle:{padding:"0px",boxShadow:"none"},scopedSlots:x})})},I=e=>{const{t:a}=(0,x.K)(),{isLoading:l,toggleCreateUpdateInvestmentSubCatModal:n,currentPage:t,setCurrentPage:o,investmentSubCategoryData:r,handleOpenCloseModals:c,toggleDeleteInvestmentModal:m}=e,v=(0,s.useMemo)((()=>({sn:(e,a)=>(0,d.jsx)("span",{children:a+1}),action:e=>(0,d.jsxs)("div",{className:"btn-group actionDrp",children:[(0,d.jsx)("button",{type:"button",className:"btn dropdown-toggle-split","data-bs-toggle":"dropdown","aria-expanded":"false",children:(0,d.jsx)("i",{className:"bi bi-three-dots-vertical"})}),(0,d.jsxs)("ul",{className:"dropdown-menu",children:[(0,d.jsx)("li",{children:(0,d.jsxs)("span",{className:"dropdown-item",onClick:()=>c("sub_category",e),children:[(0,d.jsx)(u.In,{className:"bi bi-pencil-square me-1"}),"Update"]})}),(0,d.jsx)("li",{children:(0,d.jsxs)("span",{className:"dropdown-item",onClick:()=>m("sub_category",e),children:[(0,d.jsx)(u.In,{className:"bi bi-trash me-1"}),"Delete"]})})]})]})})),[n]);return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(i.Ak,{data:null===r||void 0===r?void 0:r.data,fields:[{key:"sn",label:"S.N"},{key:"category_name",label:"Category"},{key:"sub_category_name",label:"Sub Category Name"},{key:"input_type",label:"Input type"},{key:"action",label:"Action"}],pagination:!0,currentPage:t,setCurrentPage:o,isHeader:!1,tableStyle:{padding:"0px",boxShadow:"none"},scopedSlots:v})})},L=e=>{const{handleOpenCloseModals:a,investmentCategoryData:l,toggleDeleteInvestmentModal:s,investmentSubCategoryData:n}=e,t=[{name:"Investment Category",onClickFun:e=>o(e),id:"category"},{name:"Investment Sub Category",onClickFun:e=>o(e),id:"sub_category"}],o=e=>{};return(0,d.jsxs)("div",{className:"tab-pane fade show active",id:"receivedFeedback",children:[(0,d.jsxs)("div",{className:"cardHead d-flex justify-content-between",children:[(0,d.jsxs)("div",{className:"d-flex align-items-center",children:[(0,d.jsx)("img",{src:"images/kpi-guidline.svg",alt:"",width:40,className:"me-2 fw-bold"}),(0,d.jsx)("div",{className:"",children:(0,d.jsx)("h3",{children:"Investment "})})]}),(0,d.jsxs)("div",{className:"btn-group actionDrp",children:[(0,d.jsx)("button",{type:"button",className:"btn dropdown-toggle-split","data-bs-toggle":"dropdown","aria-expanded":"false",children:(0,d.jsx)("i",{className:"bi bi-three-dots-vertical"})}),(0,d.jsxs)("ul",{className:"dropdown-menu",children:[(0,d.jsx)("li",{children:(0,d.jsxs)("span",{className:"dropdown-item",onClick:()=>a("category"),children:[(0,d.jsx)(u.In,{className:"fa fa-list  me-1"}),"Add Category"]})}),(0,d.jsx)("li",{children:(0,d.jsxs)("span",{className:"dropdown-item",onClick:()=>a("sub_category"),children:[(0,d.jsx)(u.In,{className:"fa fa-list-alt me-1"}),"Add Sub Category"]})})]})]})]}),(0,d.jsx)(i.QE,{tabs:t,type:"rayRuns"}),(0,d.jsxs)("div",{className:"tab-content mykpiMain",children:[(0,d.jsx)("div",{className:"tab-pane fade active show",id:"category",children:(0,d.jsx)(k,{investmentCategoryData:l,handleOpenCloseModals:a,toggleDeleteInvestmentModal:s})}),(0,d.jsx)("div",{className:"tab-pane fade",id:"sub_category",children:(0,d.jsx)(I,{investmentSubCategoryData:n,toggleDeleteInvestmentModal:s,handleOpenCloseModals:a})})]})]})},O=e=>{const{t:a}=(0,x.K)(),{selectedInvestmentSubCategory:l,openModel:n,handleOpenClose:i,handleCreateUpdateInvestmentSubCategory:t,investmentCategoryList:o,allDropdownConstantData:r}=e,[c,g]=(0,s.useState)({}),[p,h]=(0,s.useState)({category:null,sub_category_name:null,input_type:null,max_limit:!1,max_limit_amount:0}),y=(e,a)=>{var l;const s=a||(null===(l=e.target)||void 0===l?void 0:l.name),{value:d,type:n,checked:i}=null!==e&&void 0!==e&&e.target?e.target:{value:e};h((e=>({...e,[s]:"checkbox"===n?i:d}))),g((e=>({...e,[s]:void 0})))};(0,s.useEffect)((()=>()=>{b()}),[n]),(0,s.useEffect)((()=>{l&&h({category:{value:null===l||void 0===l?void 0:l.category_id,label:null===l||void 0===l?void 0:l.category_name},sub_category_name:null===l||void 0===l?void 0:l.sub_category_name,input_type:{value:null===l||void 0===l?void 0:l.input_type,label:null===l||void 0===l?void 0:l.input_type},max_limit:null===l||void 0===l?void 0:l.max_limit,max_limit_amount:null===l||void 0===l?void 0:l.max_limit_amount})}),[l]);const b=()=>{h({category:null,sub_category_name:null,input_type:null,max_limit:!1,max_limit_amount:0})};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"offcanvas offcanvas-end  "+(n?"show":""),tabIndex:-1,style:{visibility:n?"visible":"hidden",width:"800px"},id:"interviewDetail",children:[(0,d.jsxs)("div",{className:"offcanvas-header",children:[(0,d.jsx)("h5",{className:"offcanvas-title  fs-5 fw-bold text-primary",children:a(l?"headings.updateInvestmentSubCategory":"headings.addInvestmentSubCategory")}),(0,d.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close",onClick:()=>i("sub_category")})]}),(0,d.jsx)("div",{className:"offcanvas-body myRequest ",children:(0,d.jsxs)("div",{className:"formPanel",children:[(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("div",{className:"col-md-3",children:(0,d.jsx)("div",{className:"form-group mb-3",children:(0,d.jsx)(u.JU,{text:a("labels.category"),required:!0})})}),(0,d.jsx)("div",{className:"col-md-9",children:(0,d.jsxs)("div",{className:"form-group mb-3",children:[(0,d.jsx)(v.A,{data:o,placeholder:a("placeholders.selectCategory"),value:(null===p||void 0===p?void 0:p.category)||"",handleChange:e=>y(e,"category"),name:"category"}),(null===c||void 0===c?void 0:c.category)&&(0,d.jsx)(m.eo,{text:c.category})]})})]}),(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("div",{className:"col-md-3",children:(0,d.jsx)("div",{className:"form-group mb-3",children:(0,d.jsx)(u.JU,{text:a("labels.sub_category_name"),required:!0})})}),(0,d.jsx)("div",{className:"col-md-9",children:(0,d.jsxs)("div",{className:"form-group mb-3",children:[(0,d.jsx)(u.pd,{type:"text",placeholder:a("placeholders.sub_category_name"),value:null===p||void 0===p?void 0:p.sub_category_name,name:"sub_category_name",onChange:e=>y(e)}),(null===c||void 0===c?void 0:c.sub_category_name)&&(0,d.jsx)(m.eo,{text:c.sub_category_name})]})})]}),(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("div",{className:"col-md-3",children:(0,d.jsx)("div",{className:"form-group mb-3",children:(0,d.jsx)(u.JU,{text:a("labels.inputType"),required:!0})})}),(0,d.jsx)("div",{className:"col-md-9",children:(0,d.jsxs)("div",{className:"form-group mb-3",children:[(0,d.jsx)(v.A,{data:null===r||void 0===r?void 0:r.dropdownInputType,placeholder:a("placeholders.inputType"),value:(null===p||void 0===p?void 0:p.input_type)||"",handleChange:e=>y(e,"input_type"),name:"input_type"}),(null===c||void 0===c?void 0:c.input_type)&&(0,d.jsx)(m.eo,{text:c.input_type})]})})]}),(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("div",{className:"col-md-3",children:(0,d.jsx)("div",{className:"form-group mb-3",children:(0,d.jsx)(u.JU,{text:a("labels.max_limit")})})}),(0,d.jsx)("div",{className:"col-md-9",children:(0,d.jsx)("div",{className:"form-group mb-3",children:(0,d.jsx)(u.P_,{id:"max_limit",checked:null===p||void 0===p?void 0:p.max_limit,handleChange:e=>y(e),name:"max_limit"},"max_limit")})})]}),(null===p||void 0===p?void 0:p.max_limit)&&(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("div",{className:"col-md-3",children:(0,d.jsx)("div",{className:"form-group mb-3",children:(0,d.jsx)(u.JU,{text:a("labels.max_limit_amount"),required:!0})})}),(0,d.jsx)("div",{className:"col-md-9",children:(0,d.jsxs)("div",{className:"form-group mb-3",children:[(0,d.jsx)(u.pd,{type:"number",placeholder:a("placeholders.max_limit_amount"),value:null===p||void 0===p?void 0:p.max_limit_amount,name:"max_limit_amount",onChange:e=>y(e)}),(null===c||void 0===c?void 0:c.max_limit_amount)&&(0,d.jsx)(m.eo,{text:c.max_limit_amount})]})})]})]})}),(0,d.jsx)("div",{className:"offcanvas-footer",children:(0,d.jsx)("div",{className:"d-flex align-items-center justify-content-end gap-3",children:(0,d.jsx)(m.Sv,{text:a(l?"btns.update":"btns.submit"),classNames:"btn btn-org-gradient",handleClick:()=>(async()=>{const e=await(0,P.i6)(A.dW,p);if(e.isValid){const{category:e,sub_category_name:a,input_type:l,max_limit:s,max_limit_amount:d}=p,n={category_id:null===e||void 0===e?void 0:e.value,sub_category_name:a,input_type:null===l||void 0===l?void 0:l.value,max_limit:s,max_limit_amount:d};t(n)}else g(e.errors)})()})})})]}),n&&(0,d.jsx)("div",{className:"modal-backdrop fade show"})]})},V=e=>{const{t:a}=(0,x.K)(),{selectedInvestmentCategory:l,openModel:n,handleOpenClose:i,handleCreateUpdateInvestmentCategory:t,allDropdownConstantData:o}=e,[r,c]=(0,s.useState)({}),[g,p]=(0,s.useState)({category:null,alert:"",max_limit:!1,max_limit_amount:0,is_eligible_for_old:!1,is_eligible_for_new:!1,input_type:null}),h=(e,a)=>{var l;const s=a||(null===(l=e.target)||void 0===l?void 0:l.name),{value:d,type:n,checked:i}=null!==e&&void 0!==e&&e.target?e.target:{value:e};p((e=>({...e,[s]:"checkbox"===n?i:d}))),c((e=>({...e,[s]:void 0})))};(0,s.useEffect)((()=>()=>{y()}),[n]),(0,s.useEffect)((()=>{null!==l&&p({category:null===l||void 0===l?void 0:l.category,max_limit:null===l||void 0===l?void 0:l.max_limit,alert:null===l||void 0===l?void 0:l.alert,max_limit_amount:null===l||void 0===l?void 0:l.max_limit_amount,is_eligible_for_old:null===l||void 0===l?void 0:l.is_eligible_for_old,is_eligible_for_new:null===l||void 0===l?void 0:l.is_eligible_for_new,input_type:{label:null===l||void 0===l?void 0:l.input_type,value:null===l||void 0===l?void 0:l.input_type}})}),[l]);const y=()=>{p({category:null,alert:"",input_type:null,max_limit:"",max_limit_amount:"",is_eligible_for_old:"",is_eligible_for_new:null})};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"offcanvas offcanvas-end  "+(n?"show":""),tabIndex:-1,style:{visibility:n?"visible":"hidden",width:"800px"},id:"interviewDetail",children:[(0,d.jsxs)("div",{className:"offcanvas-header",children:[(0,d.jsxs)("h5",{className:"offcanvas-title  fs-5 fw-bold text-primary",children:[a(l?"headings.updateInvestmentCategory":"headings.addInvestmentCategory")," "]}),(0,d.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close",onClick:()=>i("category")})]}),(0,d.jsx)("div",{className:"offcanvas-body myRequest ",children:(0,d.jsxs)("div",{className:"formPanel",children:[(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("div",{className:"col-md-3",children:(0,d.jsx)("div",{className:"form-group mb-3",children:(0,d.jsx)(u.JU,{text:a("labels.category"),required:!0})})}),(0,d.jsx)("div",{className:"col-md-9",children:(0,d.jsxs)("div",{className:"form-group mb-3",children:[(0,d.jsx)(u.pd,{type:"text",placeholder:a("placeholders.categoryName"),value:null===g||void 0===g?void 0:g.category,name:"category",onChange:e=>h(e)}),(null===r||void 0===r?void 0:r.category)&&(0,d.jsx)(m.eo,{text:r.category})]})})]}),(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("div",{className:"col-md-3",children:(0,d.jsx)("div",{className:"form-group mb-3",children:(0,d.jsx)(u.JU,{text:a("labels.alert")})})}),(0,d.jsx)("div",{className:"col-md-9",children:(0,d.jsxs)("div",{className:"form-group mb-3",children:[(0,d.jsx)(u.pd,{type:"text",placeholder:a("placeholders.alert"),value:null===g||void 0===g?void 0:g.alert,name:"alert",onChange:e=>h(e)}),(null===r||void 0===r?void 0:r.alert)&&(0,d.jsx)(m.eo,{text:r.alert})]})})]}),(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("div",{className:"col-md-3",children:(0,d.jsx)("div",{className:"form-group mb-3",children:(0,d.jsx)(u.JU,{text:a("labels.inputType")})})}),(0,d.jsx)("div",{className:"col-md-9",children:(0,d.jsxs)("div",{className:"form-group mb-3",children:[(0,d.jsx)(v.A,{data:null===o||void 0===o?void 0:o.dropdownInputType,placeholder:a("placeholders.inputType"),value:(null===g||void 0===g?void 0:g.input_type)||"",handleChange:e=>h(e,"input_type"),name:"input_type"}),(null===r||void 0===r?void 0:r.input_type)&&(0,d.jsx)(m.eo,{text:r.input_type})]})})]}),(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("div",{className:"col-md-3",children:(0,d.jsx)("div",{className:"form-group mb-3",children:(0,d.jsx)(u.JU,{text:a("labels.max_limit")})})}),(0,d.jsx)("div",{className:"col-md-9",children:(0,d.jsx)("div",{className:"form-group mb-3",children:(0,d.jsx)(u.P_,{id:"max_limit",checked:null===g||void 0===g?void 0:g.max_limit,handleChange:e=>h(e),name:"max_limit"},"max_limit")})})]}),(null===g||void 0===g?void 0:g.max_limit)&&(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("div",{className:"col-md-3",children:(0,d.jsx)("div",{className:"form-group mb-3",children:(0,d.jsx)(u.JU,{text:a("labels.max_limit_amount"),required:!0})})}),(0,d.jsx)("div",{className:"col-md-9",children:(0,d.jsxs)("div",{className:"form-group mb-3",children:[(0,d.jsx)(u.pd,{type:"number",placeholder:a("placeholders.max_limit_amount"),value:null===g||void 0===g?void 0:g.max_limit_amount,name:"max_limit_amount",onChange:e=>h(e)}),(null===r||void 0===r?void 0:r.max_limit_amount)&&(0,d.jsx)(m.eo,{text:r.max_limit_amount})]})})]}),(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("div",{className:"col-md-3",children:(0,d.jsx)("div",{className:"form-group mb-3",children:(0,d.jsx)(u.JU,{text:a("labels.is_eligible_for_new")})})}),(0,d.jsx)("div",{className:"col-md-9",children:(0,d.jsx)("div",{className:"form-group mb-3",children:(0,d.jsx)(u.P_,{id:"is_eligible_for_new",checked:null===g||void 0===g?void 0:g.is_eligible_for_new,handleChange:e=>h(e),name:"is_eligible_for_new"},"is_eligible_for_new")})})]}),(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("div",{className:"col-md-3",children:(0,d.jsx)("div",{className:"form-group mb-3",children:(0,d.jsx)(u.JU,{text:a("labels.is_eligible_for_old")})})}),(0,d.jsx)("div",{className:"col-md-9",children:(0,d.jsx)("div",{className:"form-group mb-3",children:(0,d.jsx)(u.P_,{id:"is_eligible_for_old",checked:null===g||void 0===g?void 0:g.is_eligible_for_old,handleChange:e=>h(e),name:"is_eligible_for_old"},"is_eligible_for_old")})})]})]})}),(0,d.jsx)("div",{className:"offcanvas-footer",children:(0,d.jsx)("div",{className:"d-flex align-items-center justify-content-end gap-3",children:(0,d.jsx)(m.Sv,{text:a(null!==l?"btns.update":"btns.submit"),classNames:"btn btn-org-gradient",handleClick:()=>(async()=>{const e=await(0,P.i6)(A.d$,g);if(e.isValid){const{category:e,max_limit:a,alert:l,max_limit_amount:s,is_eligible_for_old:d,is_eligible_for_new:n,input_type:i}=g,o={category:e,alert:l,max_limit:a,max_limit_amount:s,is_eligible_for_old:d,is_eligible_for_new:n,input_type:null===i||void 0===i?void 0:i.value};console.log(o,"params"),t(o)}else c(e.errors)})()})})})]}),n&&(0,d.jsx)("div",{className:"modal-backdrop fade show"})]})},M=()=>{const[e,a]=(0,s.useState)("salary_component"),{t:l}=(0,x.K)(),i=(0,h.wA)(),{addEarningsPending:t,addEarningsRes:o,addEarningsError:r,updateEarningsPending:u,updateEarningsRes:m,updateEarningsError:v,getEarningsPending:p,getEarningsRes:y,getEarningsError:b,addDeductionsPending:j,addDeductionsRes:_,addDeductionsError:P,updateDeductionsPending:A,updateDeductionsRes:k,updateDeductionsError:I,getDeductionsPending:M,getDeductionsRes:U,getDeductionsError:q,getAllEarningTypePending:F,getAllEarningTypeRes:H,getAllEarningTypeError:B,getAllDeductionTypePending:J,getAllDeductionTypeRes:Y,getAllDeductionTypeError:G,getEarningTypeByIdPending:X,getEarningTypeByIdRes:$,getEarningTypeByIdError:W,addPaySchedulePending:K,addPayScheduleRes:z,addPayScheduleError:Q,updatePaySchedulePending:Z,updatePayScheduleRes:ee,updatePayScheduleError:ae,upcomingPayrollsPending:le,upcomingPayrollsRes:se,upcomingPayrollsError:de,addTaxSlabPending:ne,addTaxSlabRes:ie,addTaxSlabError:te,updateTaxSlabPending:oe,updateTaxSlabRes:re,updateTaxSlabError:ce,getTaxSlabPending:ue,getTaxSlabRes:me,getTaxSlabError:ve,deleteTaxSlabPending:xe,deleteTaxSlabRes:ge,deleteTaxSlabError:pe,addInvestmentCategoryPending:he,addInvestmentCategoryRes:ye,addInvestmentCategoryError:be,updateInvestmentCategoryPending:je,updateInvestmentCategoryRes:_e,updateInvestmentCategoryError:fe,getInvestmentCategoryPending:Ne,getInvestmentCategoryRes:Ce,getInvestmentCategoryError:Se,getAllInvestmentCategoryPending:De,getAllInvestmentCategoryRes:Ee,getAllInvestmentCategoryError:Te,deleteInvestmentCategoryPending:Pe,deleteInvestmentCategoryRes:Ae,deleteInvestmentCategoryError:we,addInvestmentSubCategoryPending:Re,addInvestmentSubCategoryRes:ke,addInvestmentSubCategoryError:Ie,updateInvestmentSubCategoryPending:Le,updateInvestmentSubCategoryRes:Oe,updateInvestmentSubCategoryError:Ve,getInvestmentSubCategoryPending:Me,getInvestmentSubCategoryRes:Ue,getInvestmentSubCategoryError:qe,getAllInvestmentSubCategoryPending:Fe,getAllInvestmentSubCategoryRes:He,getAllInvestmentSubCategoryError:Be,deleteInvestmentSubCategoryPending:Je,deleteInvestmentSubCategoryRes:Ye,deleteInvestmentSubCategoryError:Ge}=(0,h.d4)((e=>e.payroll)),{getDropdownMasterConstantDataPending:Xe,getDropdownMasterConstantDataRes:$e,getDropdownMasterConstantDataError:We}=(0,h.d4)((e=>e.dropdownMaster)),{getLeaveConstantDataPending:Ke,getLeaveConstantDataRes:ze,getLeaveConstantDataError:Qe}=(0,h.d4)((e=>e.leave)),{getAppConstantDataPending:Ze,getAppConstantDataRes:ea,getAppConstantDataError:aa}=(0,h.d4)((e=>e.common)),{getFilteredDropdownDataError:la,getFilteredDropdownDataRes:sa,getFilteredDropdownDataPending:da}=(0,h.d4)((e=>e.dropdownMaster)),[na,ia]=(0,s.useState)(!1),[ta,oa]=(0,s.useState)(!1),[ra,ca]=(0,s.useState)(!1),[ua,ma]=(0,s.useState)({taxSlabCurrPage:1,investCategoryCurrPage:1,investmentSubCategoryCurrPage:1}),[va,xa]=(0,s.useState)(""),[ga,pa]=(0,s.useState)(""),[ha,ya]=(0,s.useState)(""),[ba,ja]=(0,s.useState)(""),[_a,fa]=(0,s.useState)(""),[Na,Ca]=(0,s.useState)("earnings"),[Sa,Da]=(0,s.useState)("earnings"),[Ea,Ta]=(0,s.useState)(""),[Pa,Aa]=(0,s.useState)(""),[wa,Ra]=(0,s.useState)(""),[ka,Ia]=(0,s.useState)(!1),[La,Oa]=(0,s.useState)(!1),[Va,Ma]=(0,s.useState)(""),[Ua,qa]=(0,s.useState)(""),[Fa,Ha]=(0,s.useState)(""),[Ba,Ja]=(0,s.useState)({}),[Ya,Ga]=(0,s.useState)(""),[Xa,$a]=(0,s.useState)(!1),[Wa,Ka]=(0,s.useState)(!1),[za,Qa]=(0,s.useState)([]),[Za,el]=(0,s.useState)({isOpenCategoryModal:!1,isOpenSubCategoryModal:!1}),[al,ll]=(0,s.useState)({categoryData:null,subCategoryData:null}),[sl,dl]=(0,s.useState)(""),[nl,il]=(0,s.useState)(""),[tl,ol]=(0,s.useState)(""),[rl,cl]=(0,s.useState)(""),ul=[{name:"Salary Component",imgUrl:"images/applyleavesIcon.svg",onClickFunc:e=>ml(e),id:"salary_component"},{name:"Pay Schedule",imgUrl:"images/bonus-icon.svg",onClickFunc:e=>ml(e),id:"pay_schedule"},{name:"IT Declaration",imgUrl:"images/attendancelogIcon.svg",onClickFunc:e=>ml(e),id:"it_declaration"},{name:"Tax Slab",imgUrl:"images/attendancelogIcon.svg",onClickFunc:e=>ml(e),id:"tax_slab"}],ml=e=>{"pay_schedule"===e?jl():"tax_slab"===e?_l():"it_declaration"===e&&(El(),Pl()),a(e),ma({taxSlabCurrPage:1,investCategoryCurrPage:1})},vl=(e,a)=>{"add_earnings"===e?(Ta(a||""),ia(!na),Ca("earnings")):"deduction"===e?(Ta(a||""),ia(!na),Ca("deduction")):"post_tax_deduction"===e?oa(!ta):"pre_tax_deduction"===e?ca(!ra):"pay_schedule"===e?(qa(a||""),Ia(!ka)):"tax_slab"===e&&(Ha(a||""),Oa(!La))};(0,s.useEffect)((()=>{if(!t){if(r)return void i(f.Vg.handleClearPayrollStore("HANDLE_CLEAR_ADD_EARNING_STORE"));o&&200===(null===o||void 0===o?void 0:o.code)&&(hl(),vl("add_earnings"),i(f.Vg.handleClearPayrollStore("HANDLE_CLEAR_ADD_EARNING_STORE")))}}),[o,r,t]);(0,s.useEffect)((()=>{if(!u){if(v)return void i(f.Vg.handleClearPayrollStore("HANDLE_CLEAR_UPDATE_EARNING_STORE"));m&&200===(null===m||void 0===m?void 0:m.code)&&(hl(),Ta(""),vl("add_earnings"),i(f.Vg.handleClearPayrollStore("HANDLE_CLEAR_UPDATE_EARNING_STORE")))}}),[m,v,u]);(0,s.useEffect)((()=>{if(!A){if(I)return void i(f.Vg.handleClearPayrollStore("HANDLE_CLEAR_UPDATE_DEDUCTIONS_STORE"));k&&200===(null===k||void 0===k?void 0:k.code)&&(vl("deduction"),Ta(""),i(f.Vg.handleClearPayrollStore("HANDLE_CLEAR_UPDATE_DEDUCTIONS_STORE")))}}),[k,I,A]);(0,s.useEffect)((()=>{if(!j){if(P)return void i(f.Vg.handleClearPayrollStore("HANDLE_CLEAR_ADD_DEDUCTIONS_STORE"));_&&200===(null===_||void 0===_?void 0:_.code)&&(vl("deduction"),i(f.Vg.handleClearPayrollStore("HANDLE_CLEAR_ADD_DEDUCTIONS_STORE")))}}),[_,P,j]),(0,s.useEffect)((()=>{xl(),gl(),hl(),yl(),pl(),fl(),Al()}),[]);const xl=e=>{i(f.OH.getLeaveConstantDataRequest(e))};(0,s.useEffect)((()=>{if(!Ke){if(Qe)return;if(ze&&200===(null===ze||void 0===ze?void 0:ze.code)){const e=null===ze||void 0===ze?void 0:ze.data;ja(e)}}}),[ze,Qe,Ke]);const gl=()=>{i(f.Vg.getAllEarningTypeRequest())};(0,s.useEffect)((()=>{if(!F){if(B)return;if(H&&200===(null===H||void 0===H?void 0:H.code)){const e=null===H||void 0===H?void 0:H.data;pa(e)}}}),[H,B,F]);const pl=()=>{i(f.Vg.getAllDeductionTypeRequest())};(0,s.useEffect)((()=>{if(!J){if(G)return;if(Y&&200===(null===Y||void 0===Y?void 0:Y.code)){const e=null===Y||void 0===Y?void 0:Y.data;xa(e)}}}),[Y,G,J]);(0,s.useEffect)((()=>{if(!X){if(W)return;if($&&200===(null===$||void 0===$?void 0:$.code)){const e=null===$||void 0===$?void 0:$.data;ya(e)}}}),[H,W,X]);const hl=e=>{i(f.Vg.getEarningsRequest())};(0,s.useEffect)((()=>{if(!p){if(b)return;if(y&&200===(null===y||void 0===y?void 0:y.code)){const e=null===y||void 0===y?void 0:y.data;fa(e)}}}),[H,b,p]);const yl=e=>{i(f.Vg.getDeductionsRequest())};(0,s.useEffect)((()=>{if(!M){if(q)return;if(U&&200===(null===U||void 0===U?void 0:U.code)){const e=null===U||void 0===U?void 0:U.data;Da(e)}}}),[U,q,M]),(0,s.useEffect)((()=>{bl(),Tl()}),[]);const bl=()=>{i(f.jU.getAppConstantDataRequest())};(0,s.useEffect)((()=>{if(!Ze){if(aa)return;ea&&200===(null===ea||void 0===ea?void 0:ea.code)&&Aa(null===ea||void 0===ea?void 0:ea.data)}}),[ea,aa,Ze]);(0,s.useEffect)((()=>{if(!K){if(Q)return void i(f.Vg.handleClearPayrollStore("HANDLE_CLEAR_ADD_PAY_SCHEDULE_STORE"));z&&200===(null===z||void 0===z?void 0:z.code)&&(vl("pay_schedule"),jl(),i(f.Vg.handleClearPayrollStore("HANDLE_CLEAR_ADD_PAY_SCHEDULE_STORE")))}}),[z,Q,K]);(0,s.useEffect)((()=>{if(!Z){if(ae)return void i(f.Vg.handleClearPayrollStore("HANDLE_CLEAR_UPDATE_PAY_SCHEDULE_STORE"));ee&&200===(null===ee||void 0===ee?void 0:ee.code)&&(vl("pay_schedule"),jl(),i(f.Vg.handleClearPayrollStore("HANDLE_CLEAR_UPDATE_PAY_SCHEDULE_STORE")))}}),[ee,ae,Z]);const jl=()=>{i(f.Vg.upcomingPayrollsRequest())};(0,s.useEffect)((()=>{if(!le){if(de)return void i(f.Vg.handleClearPayrollStore("HANDLE_CLEAR_UPCOMING_PAY_ROLL_STORE"));se&&200===(null===se||void 0===se?void 0:se.code)&&Ra(null===se||void 0===se?void 0:se.data)}}),[se,de,le]);(0,s.useEffect)((()=>{if(!ne){if(te)return void i(f.Vg.handleClearPayrollStore("HANDLE_CLEAR_ADD_TAX_SLAB_STORE"));ie&&200===(null===ie||void 0===ie?void 0:ie.code)&&(vl("tax_slab"),_l(),i(f.Vg.handleClearPayrollStore("HANDLE_CLEAR_ADD_TAX_SLAB_STORE")))}}),[ie,te,ne]),(0,s.useEffect)((()=>{if(!oe){if(ce)return void i(f.Vg.handleClearPayrollStore("HANDLE_CLEAR_UPDATE_TAX_SLAB_STORE"));re&&200===(null===re||void 0===re?void 0:re.code)&&(vl("tax_slab"),_l(),i(f.Vg.handleClearPayrollStore("HANDLE_CLEAR_UPDATE_TAX_SLAB_STORE")))}}),[re,ce,oe]);const _l=e=>{const a={page:e||(null===ua||void 0===ua?void 0:ua.taxSlabCurrPage),limit:null===g.X$||void 0===g.X$?void 0:g.X$.limit};i(f.Vg.getTaxSlabRequest(a))};(0,s.useEffect)((()=>{if(!ue){if(ve)return;me&&200===(null===me||void 0===me?void 0:me.code)&&Ma(null===me||void 0===me?void 0:me.data)}}),[me,ve,ue]);const fl=()=>{let e={category:""};["tax_slab"].forEach((a=>{e.category=a,i(f.dk.getFilteredDropdownDataRequest(e))}))};(0,s.useEffect)((()=>{if(!da){if(la)return;if(sa&&200===(null===sa||void 0===sa?void 0:sa.code)){const e=null===sa||void 0===sa?void 0:sa.data;let a=null===e||void 0===e?void 0:e.category;Ja((l=>({...l,[a]:(null===e||void 0===e?void 0:e.data)||[]})))}}}),[sa,la,da]);const Nl=e=>{e&&Ga(e),$a(!Xa)};(0,s.useEffect)((()=>{if(!xe){if(pe)return void i(f.Vg.handleClearPayrollStore("HANDLE_CLEAR_DELETE_TAX_SLAB_STORE"));ge&&200===(null===ge||void 0===ge?void 0:ge.code)&&(Nl(),_l(),i(f.Vg.handleClearPayrollStore("HANDLE_CLEAR_DELETE_TAX_SLAB_STORE")))}}),[ge,pe,xe]);const Cl=(e,a)=>{"category"===e?(ll(a?e=>({...e,categoryData:a}):e=>({...e,categoryData:null})),el((e=>({...e,isOpenCategoryModal:!(null!==e&&void 0!==e&&e.isOpenCategoryModal)})))):"sub_category"===e&&(ll(a?e=>({...e,subCategoryData:a}):e=>({...e,subCategoryData:null})),el((e=>({...e,isOpenSubCategoryModal:!(null!==e&&void 0!==e&&e.isOpenSubCategoryModal)}))))},Sl=(e,a)=>{"category"===e?ll(a?e=>({...e,categoryData:a}):e=>({...e,categoryData:null})):"sub_category"===e&&ll(a?e=>({...e,subCategoryData:a}):e=>({...e,subCategoryData:null})),Ka(!Wa)},Dl=e=>{"category"===e?(i(f.Vg.handleClearPayrollStore("HANDLE_GET_INVESTMENT_CATEGORY_STORE")),i(f.Vg.handleClearPayrollStore("HANDLE_GET_ALL_INVESTMENT_CATEGORY_STORE"))):"sub_category"===e&&(i(f.Vg.handleClearPayrollStore("HANDLE_GET_INVESTMENT_SUB_CATEGORY_STORE")),i(f.Vg.handleClearPayrollStore("HANDLE_GET_ALL_INVESTMENT_SUB_CATEGORY_STORE")))};(0,s.useEffect)((()=>{if(!he){if(be)return i(f.Vg.handleClearPayrollStore("HANDLE_ADD_INVESTMENT_CATEGORY_STORE")),void Dl("category");ye&&200===(null===ye||void 0===ye?void 0:ye.code)&&(Cl("category"),i(f.Vg.handleClearPayrollStore("HANDLE_ADD_INVESTMENT_CATEGORY_STORE")),Dl("category"),El(),Tl())}}),[he,ye,be]),(0,s.useEffect)((()=>{if(!je){if(fe)return i(f.Vg.handleClearPayrollStore("HANDLE_UPDATE_INVESTMENT_CATEGORY_STORE")),void Dl("category");_e&&200===(null===_e||void 0===_e?void 0:_e.code)&&(Cl("category"),i(f.Vg.handleClearPayrollStore("HANDLE_UPDATE_INVESTMENT_CATEGORY_STORE")),Dl("category"),El(),Tl())}}),[je,_e,fe]),(0,s.useEffect)((()=>{if(!Pe){if(we)return i(f.Vg.handleClearPayrollStore("HANDLE_DELETE_INVESTMENT_CATEGORY_STORE")),void Dl("category");Ae&&200===(null===Ae||void 0===Ae?void 0:Ae.code)&&(Sl("category"),Dl("category"),i(f.Vg.handleClearPayrollStore("HANDLE_DELETE_INVESTMENT_CATEGORY_STORE")),El(),Tl())}}),[Pe,Ae,we]);const El=e=>{const a={page:e||(null===ua||void 0===ua?void 0:ua.investCategoryCurrPage),limit:null===g.X$||void 0===g.X$?void 0:g.X$.limit};i(f.Vg.getAllInvestmentCategoryRequest(a))};(0,s.useEffect)((()=>{if(!De){if(Te)return;Ee&&200===(null===Ee||void 0===Ee?void 0:Ee.code)&&dl(null===Ee||void 0===Ee?void 0:Ee.data)}}),[De,Ee,Te]);const Tl=()=>{i(f.Vg.getInvestmentCategoryRequest())};(0,s.useEffect)((()=>{if(!Ne){if(Se)return;Ce&&200===(null===Ce||void 0===Ce?void 0:Ce.code)&&Qa(null===Ce||void 0===Ce?void 0:Ce.data)}}),[Ne,Ce,Se]);(0,s.useEffect)((()=>{if(!Re){if(Ie)return i(f.Vg.handleClearPayrollStore("HANDLE_ADD_INVESTMENT_SUB_CATEGORY_STORE")),void Dl("sub_category");ke&&200===(null===ke||void 0===ke?void 0:ke.code)&&(Cl("sub_category"),Dl("sub_category"),Pl(),i(f.Vg.handleClearPayrollStore("HANDLE_ADD_INVESTMENT_SUB_CATEGORY_STORE")))}}),[Re,ke,Ie]),(0,s.useEffect)((()=>{if(!Le){if(Ve)return i(f.Vg.handleClearPayrollStore("HANDLE_UPDATE_INVESTMENT_SUB_CATEGORY_STORE")),void Dl("sub_category");Oe&&200===(null===Oe||void 0===Oe?void 0:Oe.code)&&(Cl("sub_category"),Dl("sub_category"),Pl(),i(f.Vg.handleClearPayrollStore("HANDLE_UPDATE_INVESTMENT_SUB_CATEGORY_STORE")))}}),[Le,Oe,Ve]);const Pl=e=>{const a={page:e||(null===ua||void 0===ua?void 0:ua.investmentSubCategoryCurrPage),limit:null===g.X$||void 0===g.X$?void 0:g.X$.limit};i(f.Vg.getAllInvestmentSubCategoryRequest(a))};(0,s.useEffect)((()=>{if(!Fe){if(Be)return;He&&200===(null===He||void 0===He?void 0:He.code)&&il(null===He||void 0===He?void 0:He.data)}}),[Fe,He,Be]),(0,s.useEffect)((()=>{if(!Je){if(Ge)return i(f.Vg.handleClearPayrollStore("HANDLE_DELETE_INVESTMENT_SUB_CATEGORY_STORE")),void Dl("sub_category");Ye&&200===(null===Ye||void 0===Ye?void 0:Ye.code)&&(Sl("sub_category"),Dl("sub_category"),i(f.Vg.handleClearPayrollStore("HANDLE_DELETE_INVESTMENT_SUB_CATEGORY_STORE")),Pl())}}),[Je,Ye,Ge]);const Al=()=>{i(null===f.dk||void 0===f.dk?void 0:f.dk.getDropdownMasterConstantDataRequest())};return(0,s.useEffect)((()=>{if(!Xe){if(We)return;if($e&&200===(null===$e||void 0===$e?void 0:$e.code)){const e=null===$e||void 0===$e?void 0:$e.data;cl(e)}}}),[$e,We,Xe]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n,{cardData:ul}),"salary_component"===e&&(0,d.jsx)("div",{children:(0,d.jsx)(c,{handleToggleModals:vl,earningData:_a,deductionsData:Sa})}),"pay_schedule"===e&&(0,d.jsx)("div",{className:"cardBox myRequest mb-3 employeeHistory",children:(0,d.jsx)(S,{appConstantData:Pa,upcomingPayrollData:wa,handleToggleModals:vl})}),"it_declaration"===e&&(0,d.jsx)("div",{className:"cardBox myRequest mb-3 employeeHistory",children:(0,d.jsx)(L,{handleOpenCloseModals:Cl,investmentCategoryData:sl,toggleDeleteInvestmentModal:Sl,investmentSubCategoryData:nl})}),"tax_slab"===e&&(0,d.jsx)("div",{className:"cardBox myRequest mb-3 employeeHistory",children:(0,d.jsx)(T,{handleToggleModals:vl,taxSlabData:Va,setCurrentPage:(e,a)=>{"tax_slab"===a&&(ma((a=>({...a,taxSlabCurrPage:e}))),_l(e))},toggleDeleteTaxSlabModal:Nl})}),na&&(0,d.jsx)(N,{openModel:na,handleOpenClose:vl,addEarnings:e=>{i(f.Vg.addEarningsRequest(e))},allLeaveConstantData:ba,allEarningTypeData:ga,allDeductionTypeData:va,getEarningTypeById:e=>{i(f.Vg.getEarningTypeByIdRequest({id:e}))},isOpenModalType:Na,addDeductions:e=>{i(f.Vg.addDeductionsRequest(e))},earningDeductionSelectedData:Ea,updateEarnings:e=>{i(f.Vg.updateEarningsRequest(e))},updateDeductions:e=>{i(f.Vg.updateDeductionsRequest(e))},earningTypeByIdData:ha}),ra&&(0,d.jsx)(E,{openModel:ra,handleOpenClose:vl}),ta&&(0,d.jsx)(D,{openModel:ta,handleOpenClose:vl}),ka&&(0,d.jsx)(C,{isOpenModal:ka,handleToggleModals:vl,appConstantData:Pa,selectedPayScheduleData:Ua,handleAddPayScheduleData:e=>{i(f.Vg.addPayScheduleRequest(e))},handleUpdatePaySchedule:e=>{i(f.Vg.updatePayScheduleRequest(e))}}),La&&(0,d.jsx)(w,{isOpenModal:La,handleToggleModals:vl,selectedPayScheduleData:Ua,selectedTaxSlabData:Fa,handleAddUpdateTaxSlab:e=>{i(Fa?f.Vg.updateTaxSlabRequest(e):f.Vg.addTaxSlabRequest(e))},filteredDropdownData:Ba}),(null===Za||void 0===Za?void 0:Za.isOpenSubCategoryModal)&&(0,d.jsx)(O,{openModel:null===Za||void 0===Za?void 0:Za.isOpenSubCategoryModal,handleOpenClose:Cl,selectedInvestmentSubCategory:null===al||void 0===al?void 0:al.subCategoryData,investmentCategoryList:za,handleCreateUpdateInvestmentSubCategory:e=>{var a,l;null!==al&&void 0!==al&&al.subCategoryData?(e._id=(null===al||void 0===al||null===(a=al.subCategoryData)||void 0===a?void 0:a._id)||(null===al||void 0===al||null===(l=al.subCategoryData)||void 0===l?void 0:l.id),i(f.Vg.updateInvestmentSubCategoryRequest(e))):i(f.Vg.addInvestmentSubCategoryRequest(e))},allDropdownConstantData:rl}),(null===Za||void 0===Za?void 0:Za.isOpenCategoryModal)&&(0,d.jsx)(V,{openModel:null===Za||void 0===Za?void 0:Za.isOpenCategoryModal,selectedInvestmentCategory:null===al||void 0===al?void 0:al.categoryData,handleOpenClose:Cl,handleCreateUpdateInvestmentCategory:e=>{var a,l;null!==al&&void 0!==al&&al.categoryData?(e._id=(null===al||void 0===al||null===(a=al.categoryData)||void 0===a?void 0:a._id)||(null===al||void 0===al||null===(l=al.categoryData)||void 0===l?void 0:l.id),i(f.Vg.updateInvestmentCategoryRequest(e))):i(f.Vg.addInvestmentCategoryRequest(e))},allDropdownConstantData:rl}),Xa&&(0,d.jsx)(R.A,{onApproveReject:e=>{if(e){const e={_id:Ya};i(null===f.Vg||void 0===f.Vg?void 0:f.Vg.deleteTaxSlabRequest(e))}else Nl()},isShow:Xa,desc:l("alerts.deletePopup.desc").replace("$1","Tax Slab"),btnRightLoading:xe,btnTextRight:l("btns.delete"),btnTextLeft:l("btns.cancel")}),Wa&&(0,d.jsx)(R.A,{onApproveReject:e=>{if(e){if(null!==al&&void 0!==al&&al.categoryData){var a;const e={_id:null===al||void 0===al||null===(a=al.categoryData)||void 0===a?void 0:a._id};i(null===f.Vg||void 0===f.Vg?void 0:f.Vg.deleteInvestmentCategoryRequest(e))}if(null!==al&&void 0!==al&&al.subCategoryData){var l;const e={_id:null===al||void 0===al||null===(l=al.subCategoryData)||void 0===l?void 0:l._id};i(null===f.Vg||void 0===f.Vg?void 0:f.Vg.deleteInvestmentSubCategoryRequest(e))}}else Sl()},isShow:Wa,desc:l("alerts.deletePopup.desc").replace("$1","Investment"),btnRightLoading:xe,btnTextRight:l("btns.delete"),btnTextLeft:l("btns.cancel")})]})}}}]);
//# sourceMappingURL=4140.163d52b9.chunk.js.map