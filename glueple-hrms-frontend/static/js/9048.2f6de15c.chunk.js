"use strict";(self.webpackChunkglueple_user=self.webpackChunkglueple_user||[]).push([[9048],{35685:(e,a,t)=>{t.d(a,{A:()=>o});t(65043);var s=t(85248);const n=JSON.parse('{"nm":"history","ddd":0,"h":512,"w":512,"meta":{"g":"@lottiefiles/toolkit-js 0.33.2"},"layers":[{"ty":4,"nm":"big","sr":1,"st":0,"op":300,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[105,168,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[256,256,0],"ix":2},"r":{"a":1,"k":[{"o":{"x":0.333,"y":0},"i":{"x":0,"y":1},"s":[0],"t":0},{"s":[360],"t":90}],"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"hd":false,"mn":"ADBE Vector Group","nm":"Group 1","ix":1,"cix":2,"np":2,"it":[{"ty":"sh","bm":0,"hd":false,"mn":"ADBE Vector Shape - Group","nm":"Path 1","ix":1,"d":1,"ks":{"a":0,"k":{"c":false,"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-21,31.5],[-21,-31.5]]},"ix":2}},{"ty":"st","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Stroke","nm":"Stroke 1","lc":2,"lj":2,"ml":1,"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":42,"ix":5},"c":{"a":0,"k":[0.1137,0.3529,0.498],"ix":3}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[126,136.5],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]}],"ind":1},{"ty":4,"nm":"small","sr":1,"st":0,"op":300,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[126,136.5,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[277,224.5,0],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"hd":false,"mn":"ADBE Vector Group","nm":"Group 1","ix":1,"cix":2,"np":2,"it":[{"ty":"sh","bm":0,"hd":false,"mn":"ADBE Vector Shape - Group","nm":"Path 1","ix":1,"d":1,"ks":{"a":0,"k":{"c":false,"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[21,31.5],[-21,31.5]]},"ix":2}},{"ty":"st","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Stroke","nm":"Stroke 1","lc":2,"lj":2,"ml":1,"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":42,"ix":5},"c":{"a":0,"k":[0.1137,0.3529,0.498],"ix":3}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[126,136.5],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]}],"ind":2},{"ty":4,"nm":"Layer 1 Outlines","sr":1,"st":0,"op":300,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[294,294,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[256,256,0],"ix":2},"r":{"a":1,"k":[{"o":{"x":0.333,"y":0},"i":{"x":0,"y":1},"s":[0],"t":0},{"s":[-360],"t":90}],"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"hd":false,"mn":"ADBE Vector Group","nm":"Group 1","ix":1,"cix":2,"np":2,"it":[{"ty":"sh","bm":0,"hd":false,"mn":"ADBE Vector Shape - Group","nm":"Path 1","ix":1,"d":1,"ks":{"a":0,"k":{"c":false,"i":[[0,0],[-69.916,0],[0,-104.383],[104.383,0],[0,104.383]],"o":[[32.693,-56.438],[104.383,0],[0,104.383],[-104.382,0],[0,0]],"v":[[-163.509,-94.5],[0,-189],[189,0],[0,189],[-189,0]]},"ix":2}},{"ty":"st","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Stroke","nm":"Stroke 1","lc":2,"lj":2,"ml":1,"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":42,"ix":5,"x":"var $bm_rt;\\nvar index, normalStroke;\\nindex = transform.scale[0];\\nnormalStroke = 42;\\n$bm_rt = $bm_div(normalStroke, $bm_div(index, 100));"},"c":{"a":0,"k":[0.1137,0.3529,0.498],"ix":3}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[294,294],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]},{"ty":"gr","bm":0,"hd":false,"mn":"ADBE Vector Group","nm":"Group 2","ix":2,"cix":2,"np":2,"it":[{"ty":"sh","bm":0,"hd":false,"mn":"ADBE Vector Shape - Group","nm":"Path 1","ix":1,"d":1,"ks":{"a":1,"k":[{"o":{"x":0.333,"y":0},"i":{"x":0.833,"y":0.833},"s":[{"c":false,"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-47.25,-47.25],[-47.25,47.25],[47.25,47.25]]}],"t":0},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[{"c":false,"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-50.492,-17.426],[-47.25,47.25],[17.426,44.008]]}],"t":6},{"o":{"x":0.167,"y":0.167},"i":{"x":0.667,"y":1},"s":[{"c":false,"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-50.492,-17.426],[-47.25,47.25],[17.426,44.008]]}],"t":50},{"s":[{"c":false,"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-47.25,-47.25],[-47.25,47.25],[47.25,47.25]]}],"t":90}],"ix":2}},{"ty":"st","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Stroke","nm":"Stroke 1","lc":2,"lj":2,"ml":1,"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":42,"ix":5,"x":"var $bm_rt;\\nvar index, normalStroke;\\nindex = transform.scale[0];\\nnormalStroke = 42;\\n$bm_rt = $bm_div(normalStroke, $bm_div(index, 100));"},"c":{"a":0,"k":[0.1137,0.3529,0.498],"ix":3}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[175.875,152.25],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]}],"ind":3}],"v":"5.7.13","fr":60,"op":211,"ip":0,"assets":[]}');var i=t(92250),d=t(90607),l=t(70579);const o=e=>{let{title:a,desc:t="",onApproveReject:o,isShow:c,btnLeftLoading:r=!1,btnRightLoading:m=!1,btnTextLeft:u,btnTextRight:x}=e;const{t:v}=(0,d.K)();return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"modal fade attendanceViewodal",id:"sureMdl",style:{display:c?"unset !important":"none !important",opacity:c?"unset":"0"},children:(0,l.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:(0,l.jsx)("div",{className:"modal-content rounded-1 border-0",children:(0,l.jsx)("div",{className:"modal-body ",children:(0,l.jsxs)("div",{className:"text-center suremodalCon",children:[(0,l.jsx)("div",{className:"d-flex justify-content-center",children:(0,l.jsx)(s.A,{lottieUrl:n,Lottiestyle:{width:"90px",height:"90px"}})}),(0,l.jsx)("h6",{className:"fw-semibold mb-2",children:a||v("alerts.deletePopup.title")}),(0,l.jsx)("p",{className:"mb-5 px-4 text-center",children:t||""}),(0,l.jsxs)("div",{className:"d-flex justify-content-center gap-3",children:[(0,l.jsx)(i.Sv,{classNames:"btn btn-danger",isLoading:r,text:u||v("btns.reject"),handleClick:()=>o(!1)}),(0,l.jsx)(i.Sv,{classNames:"btn btn-success",isLoading:m,text:x||v("btns.confirm"),handleClick:()=>o(!0)})]})]})})})})}),c&&(0,l.jsx)("div",{className:"modal-backdrop fade show"})]})}},19048:(e,a,t)=>{t.r(a),t.d(a,{default:()=>g});var s=t(65043),n=t(22166),i=t(73216),d=t(94174),l=t(68939),o=t(56462),c=t(92250),r=t(90607),m=t(70579);const u=e=>{const{t:a}=(0,r.K)(),{attendanceType:t,setAttendanceType:s,startDate:n,endDate:i,handleDateRangeChange:d,allLeaveConstantData:u}=e;return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)("div",{className:"formPanel cardBox w-100",children:(0,m.jsxs)("div",{className:"row",children:[(0,m.jsx)("div",{className:"col-md-4",children:(0,m.jsxs)("div",{className:"form-group mb-2",children:[(0,m.jsx)(l.JU,{text:a("labels.date")}),(0,m.jsx)("div",{className:"selectDate ",children:(0,m.jsx)(c.FC,{onDateRangeChange:e=>d(e),endDefaultDate:i,startDefaultDate:n,maxDisableDates:i,minDisableDates:n})})]})}),(0,m.jsx)("div",{className:"col-md-4",children:(0,m.jsxs)("div",{className:"form-group mb-2",children:[(0,m.jsx)(l.JU,{text:a("labels.attendanceType")}),(0,m.jsx)(o.A,{data:null===u||void 0===u?void 0:u.attendanceTrackingType,placeholder:a("placeholders.attendanceType"),value:t||"",handleChange:e=>s(e)})]})})]})})})};var x=t(86178),v=t.n(x),h=t(26362),p=t(49985);t(78737);const k=e=>{const{allLeaveConstantData:a,currentPage:t,setCurrentPage:n,attendanceStatusData:i,attendanceType:d,handleChangeStatus:c,handlePunchInOut:r}=e,u=(0,s.useMemo)((()=>({sn:(e,a)=>(0,m.jsx)("span",{children:a+1}),attendance_date:(e,a)=>(0,m.jsx)("span",{children:(0,p.N_)(null===e||void 0===e?void 0:e.attendance_date)}),first_half_status:e=>(0,m.jsx)("span",{className:`font-weight-bold ${(0,p.gK)(null===e||void 0===e?void 0:e.first_half_status)}`,children:null===e||void 0===e?void 0:e.first_half_status}),second_half_status:e=>(0,m.jsx)("span",{className:(0,p.gK)(null===e||void 0===e?void 0:e.second_half_status),children:null===e||void 0===e?void 0:e.second_half_status}),action:e=>(0,m.jsx)(m.Fragment,{children:"punchInTime_punchOutTime"===(null===d||void 0===d?void 0:d.value)?(0,m.jsxs)("span",{className:"d-flex gap-1",children:[(0,m.jsx)(l.pd,{type:"time",value:v()(null===e||void 0===e?void 0:e.first_check_in_time,"YYYY-MM-DD HH:mm:ss").format("HH:mm:ss"),name:"first_check_in_time",onChange:a=>r(a,"",e),step:"2"}),(0,m.jsx)(l.pd,{type:"time",value:v()(null===e||void 0===e?void 0:e.last_check_out_time,"YYYY-MM-DD HH:mm:ss").format("HH:mm:ss"),name:"last_check_out_time",onChange:a=>r(a,"",e),step:"2"}),(0,m.jsx)("div",{className:"actionGroup ",onClick:()=>c("punchInTime_punchOutTime",e),children:(0,m.jsx)("img",{src:"/images/approveIcon.svg",alt:"Approve Icon",className:"mt-1",width:70})})]}):(0,m.jsxs)("span",{className:"d-flex gap-2",children:[(0,m.jsx)("div",{className:"w-50",children:(0,m.jsx)(o.A,{data:null===a||void 0===a?void 0:a.presentStatus,value:{label:null===e||void 0===e?void 0:e.attendance_status,value:null===e||void 0===e?void 0:e.attendance_status}||"",handleChange:a=>r(a,"attendance_status",e)})}),(0,m.jsx)("div",{className:"actionGroup ",onClick:()=>c("present_absent",e),children:(0,m.jsx)("img",{src:"/images/approveIcon.svg",alt:"Approve Icon",className:"mt-1",width:30})})]})})})),[i,t,d]);return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(h.Ak,{data:i,fields:[{key:"sn",label:"S.N"},{key:"attendance_date",label:"Attendance Date"},{key:"first_half_status",label:"First Half Status"},{key:"second_half_status",label:"Second Half Status"},{key:"action",label:"Action"}],pagination:!0,currentPage:t,setCurrentPage:n,totalPages:null===i||void 0===i?void 0:i.totalPages,isHeader:!1,tableStyle:{padding:"0px",boxShadow:"none"},scopedSlots:u})})};var f=t(35685);const g=()=>{const e=(0,i.Zp)(),{t:a}=(0,r.K)(),{id:t,monthYear:l}=(0,i.g)(),o=(0,n.wA)(),[x,h]=(0,s.useState)([]),[p,g]=(0,s.useState)(),[b,_]=(0,s.useState)(),[j,y]=(0,s.useState)({}),[D,S]=(0,s.useState)([]),[N,A]=(0,s.useState)(""),[T,C]=(0,s.useState)(!1),{getAttendanceStatusPending:Y,getAttendanceStatusRes:E,getAttendanceStatusError:w,updateAttendanceTrackingPending:M,updateAttendanceTrackingRes:P,updateAttendanceTrackingError:G,selectedEmployeeData:L}=(0,n.d4)((e=>e.payroll)),{getLeaveConstantDataPending:R,getLeaveConstantDataRes:V,getLeaveConstantDataError:B}=(0,n.d4)((e=>e.leave));(0,s.useEffect)((()=>{H(),O()}),[t]),(0,s.useEffect)((()=>{g(v()(l,"YYYY-MM").startOf("month").format("YYYY-MM-DD")),_(v()(l,"YYYY-MM").endOf("month").format("YYYY-MM-DD"))}),[l]);const H=(e,a)=>{const s={emp_id:t||"",start_date:e&&v()(e).format("YYYY-MM-DD")||p,end_date:a&&v()(a).format("YYYY-MM-DD")||b};o(d.Vg.getAttendanceStatusRequest(s))};(0,s.useEffect)((()=>{if(!Y){if(w)return;E&&200===(null===E||void 0===E?void 0:E.code)&&h(null===E||void 0===E?void 0:E.data)}}),[E,w,Y]);const O=()=>{o(d.OH.getLeaveConstantDataRequest())};(0,s.useEffect)((()=>{if(!R){if(B)return;if(V&&200===(null===V||void 0===V?void 0:V.code)){const e=null===V||void 0===V?void 0:V.data;S(e),Object.keys(e).includes("attendanceTrackingType")&&y(null===e||void 0===e?void 0:e.attendanceTrackingType[0])}}}),[V,B,R]);const $=(e,a)=>{let s={emp_id:t,type:null===j||void 0===j?void 0:j.value};"present_absent"===e?s={...s,attendance_date:null===a||void 0===a?void 0:a.attendance_date,updated_status:null===a||void 0===a?void 0:a.attendance_status}:"punchInTime_punchOutTime"===e?s={...s,attendance_date:null===a||void 0===a?void 0:a.attendance_date,punch_in_time:null===a||void 0===a?void 0:a.first_check_in_time,punch_out_time:null===a||void 0===a?void 0:a.last_check_out_time}:"submit"===e&&(s={...s,attendance_details:x}),A(s),I()},I=()=>{C(!T)};return(0,s.useEffect)((()=>{if(!M){if(G)return;P&&200===(null===P||void 0===P?void 0:P.code)&&(o(d.Vg.handleClearPayrollStore("HANDLE_CLEAR_UPDATE_ATTENDANCE_TRACKING_STORE")),I(),H())}}),[P,G,M]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(c.Sv,{classNames:"btn btn-org-gradient mb-2",handleClick:()=>{e("/pay-runs")},text:"Back"}),(0,m.jsx)("div",{className:"tab-pane fade show active",id:"receivedFeedback",children:(0,m.jsxs)("div",{className:"cardBox myRequest mb-3",children:[(0,m.jsxs)("div",{className:"d-flex align-items-center mb-3",children:[(0,m.jsx)("img",{src:"/images/kpi-guidline.svg",alt:"",width:40,className:"me-2 fw-bold"}),(0,m.jsx)("div",{className:" mb-2 mt-3",children:(0,m.jsxs)("h3",{className:"underlineHead",style:{fontSize:"18px",color:"#00376A !important"},children:[null===L||void 0===L?void 0:L.name," ",`(${null===L||void 0===L?void 0:L.emp_id})`]})})]}),(0,m.jsx)("div",{className:"cardHead d-flex justify-content-between",children:(0,m.jsx)(u,{attendanceType:j,setAttendanceType:y,startDate:p,endDate:b,handleDateRangeChange:e=>{g(e[0]),_(e[1]),H(e[0],e[1])},allLeaveConstantData:D})}),(0,m.jsx)(k,{attendanceStatusData:x,allLeaveConstantData:D,attendanceType:j,handleChangeStatus:$,handlePunchInOut:(e,a,t)=>{var s;const n=a||(null===(s=e.target)||void 0===s?void 0:s.name),{value:i}=null!==e&&void 0!==e&&e.target?e.target:{value:null===e||void 0===e?void 0:e.value},d=x.map((e=>(null===e||void 0===e?void 0:e.id)===(null===t||void 0===t?void 0:t.id)?"punchInTime_punchOutTime"===(null===j||void 0===j?void 0:j.value)?{...e,[n]:`${null===t||void 0===t?void 0:t.attendance_date} ${i}`}:{...e,[n]:i}:e));h(d)}}),(0,m.jsx)("div",{className:"d-flex justify-content-end",children:(0,m.jsx)(c.Sv,{classNames:"btn btn-primary mb-2",handleClick:()=>$("submit"),text:"Submit"})}),T&&(0,m.jsx)(f.A,{onApproveReject:e=>{e?o(null===d.Vg||void 0===d.Vg?void 0:d.Vg.updateAttendanceTrackingRequest(N)):I()},isShow:T,desc:a("alerts.ApproveRejectPopup.desc").replace("$1","Change Attendance Status"),btnTextRight:a("btns.submit"),btnTextLeft:a("btns.cancel")})]})})]})}}}]);
//# sourceMappingURL=9048.2f6de15c.chunk.js.map