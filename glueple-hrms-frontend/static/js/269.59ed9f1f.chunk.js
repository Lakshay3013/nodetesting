"use strict";(self.webpackChunkglueple_user=self.webpackChunkglueple_user||[]).push([[269],{39956:(e,l,a)=>{a.d(l,{A:()=>v});var d=a(65043),t=a(29829),i=a(49985),s=(a(85831),a(86178)),o=a.n(s),n=a(90607),r=a(45531),c=a(70579);const v=e=>{const{t:l}=(0,n.K)(),{setSelectedHolidayData:a,toggleCreateUpdateHolidayModal:s,currentPage:v,setCurrentPage:m,allHolidayListData:u,isLoading:h,toggleHolidayDeleteModal:p,viewType:y}=e,f=(0,i.Yo)("update_holiday"),x=(0,i.Yo)("delete_holiday"),j=(0,d.useMemo)((()=>({sn:(e,l)=>(0,c.jsx)("span",{children:l+1}),is_active:e=>(0,c.jsx)("span",{className:`badge ${(0,i.XN)(e.is_active?"Active":"Inactive")}`,children:e.is_active?"Active":"Inactive"}),days:e=>o()(e.to_date).diff(o()(e.from_date),"days")+1,created_at:e=>o()(e.created_at).format("DD-MM-YYYY"),from_date:e=>o()(e.from_date).format("DD-MM-YYYY"),to_date:e=>o()(e.to_date).format("DD-MM-YYYY"),action:e=>(0,c.jsxs)("div",{className:"btn-group actionDrp",children:[(0,c.jsx)("button",{type:"button",className:"btn dropdown-toggle-split","data-bs-toggle":"dropdown","aria-expanded":"false",children:(0,c.jsx)("i",{className:"bi bi-three-dots-vertical"})}),(0,c.jsxs)("ul",{className:"dropdown-menu",children:[f&&(0,c.jsx)("li",{children:(0,c.jsxs)("span",{className:"dropdown-item",onClick:()=>{s(e)},children:[(0,c.jsx)(r.In,{className:"bi bi-pencil-square me-1"}),"Update"]})}),x&&(0,c.jsx)("li",{children:(0,c.jsxs)("span",{className:"dropdown-item",onClick:()=>p(e._id),children:[(0,c.jsx)(r.In,{className:"bi bi-trash me-1"}),"Delete"]})})]})]})})),[a,s]),_=[{key:"sn",label:"S.N"},{key:"name",label:"Holiday Name"},{key:"from_date",label:"Holiday From"},{key:"to_date",label:"Holiday To"},{key:"days",label:"Days"},(f||x)&&{key:"action",label:"Action"}];return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(t.Ak,{data:u,fields:_,isLoading:h,pagination:!0,currentPage:v,setCurrentPage:m,tableName:"Holiday",scopedSlots:j})})}},30269:(e,l,a)=>{a.r(l),a.d(l,{default:()=>_});var d=a(65043),t=a(85831),i=a(22166),s=(a(52027),a(35685)),o=a(90607),n=a(49985),r=a(56462),c=a(45531),v=a(26181),m=a(80728),u=a(94174),h=a(86178),p=a.n(h),y=a(70579);const f=e=>{(0,i.wA)();const{createHolidayPending:l}=(0,i.d4)((e=>null===e||void 0===e?void 0:e.holiday)),{t:a}=(0,o.K)(),{selectedHolidayData:s,openModel:u,handleOpenClose:h,handleCreateUpdateHoliday:f,allCountriesListData:x,handleStateCity:j,allStateListData:_,allCityList:g,appConstantData:b,dateConstantData:N,allBranches:C,getAllHoliday:D,getAllStateFromCountryList:A,getAllBranches:H,getCityListFromState:S}=e,[E,L]=(0,d.useState)({}),[R,Y]=(0,d.useState)([]),[w,M]=(0,d.useState)(!1),[k,T]=(0,d.useState)({name:"",from_date:"",to_date:"",country:[],state:[],city:[],branch:[],gender:[],description:"",restricted:!1,notify_before_days:0,is_notify_to_employee:!1,is_reprocess_leave:!1}),P=(e,l)=>{var a;const d=l||(null===(a=e.target)||void 0===a?void 0:a.name),{value:t,type:i,checked:s}=null!==e&&void 0!==e&&e.target?null===e||void 0===e?void 0:e.target:{value:e};T((e=>{let l={...e,[d]:"checkbox"===i?s:t};if("name"===d&&(l={...l,short_name:(0,n.aF)(t)}),"country"===d&&(l={...l,state:[],city:[]},j(t,d)),"state"===d&&(l={...l,city:[]},j(t,d)),"city"===d&&(l={...l,branch:[]},j(t,d)),"from_date"===d&&(l={...l,to_date:""},Y([])),"to_date"===d){l={...l};let e=q(null===k||void 0===k?void 0:k.from_date,t);Y(e)}if("restricted"===d){l={...l};let e=q(null===k||void 0===k?void 0:k.from_date,null===k||void 0===k?void 0:k.to_date);Y(e)}return l})),L((e=>({...e,[d]:void 0})))},U=e=>{const l=[];return e&&(null===e||void 0===e||e.map((e=>{l.push((null===e||void 0===e?void 0:e.value)||e)}))),l};(0,d.useEffect)((()=>()=>{O()}),[u]),(0,d.useEffect)((()=>{}),[_]),(0,d.useEffect)((()=>{if(s){A(null===s||void 0===s?void 0:s.state),S(null===s||void 0===s?void 0:s.city),H(null===s||void 0===s?void 0:s.branch);const e=(0,n.RL)(x,null===s||void 0===s?void 0:s.country),l=(0,n.RL)(_,null===s||void 0===s?void 0:s.state),a=(0,n.RL)(g,null===s||void 0===s?void 0:s.city),d=(0,n.RL)(C,null===s||void 0===s?void 0:s.branch),t=(0,n.RL)(null===b||void 0===b?void 0:b.gender,null===s||void 0===s?void 0:s.gender);Y(null===s||void 0===s?void 0:s.holiday_data),T({name:null===s||void 0===s?void 0:s.name,from_date:null===s||void 0===s?void 0:s.from_date,to_date:null===s||void 0===s?void 0:s.to_date,country:e,state:l,city:a,branch:d,gender:t,description:null===s||void 0===s?void 0:s.description,restricted:null===s||void 0===s?void 0:s.restricted,notify_before_days:{value:null===s||void 0===s?void 0:s.notify_before_days,label:null===s||void 0===s?void 0:s.notify_before_days},is_notify_to_employee:null===s||void 0===s?void 0:s.is_notify_to_employee,is_reprocess_leave:null===s||void 0===s?void 0:s.is_reprocess_leave})}}),[s]);const O=()=>{T({name:"",from_date:"",to_date:"",country:[],state:[],city:[],branch:[],gender:"",description:"",restricted:!1,notify_before_days:0,is_notify_to_employee:!1,is_reprocess_leave:!1}),L({}),Y([])},q=(e,l)=>{const a=[];let d=p()(e).format("YYYY-MM-DD");for(;d<=p()(l).format("YYYY-MM-DD");)a.push({date:p()(d).format("ddd DD-MMM-YYYY"),apply_for:null===b||void 0===b?void 0:b.dayType[0]}),d=p()(d).add(1,"day").format("YYYY-MM-DD");return a},K=e=>{const l=[];return null===e||void 0===e||e.map(((e,a)=>{var d;l.push({date:p()(null===e||void 0===e?void 0:e.date).format("YYYY-MM-DD"),apply_for:null===e||void 0===e||null===(d=e.apply_for)||void 0===d?void 0:d.value})})),l};return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("div",{className:"offcanvas offcanvas-end  "+(u?"show":""),tabIndex:-1,style:{visibility:u?"visible":"hidden",width:"800px"},id:"interviewDetail",children:[(0,y.jsxs)("div",{className:"offcanvas-header",children:[(0,y.jsx)("h5",{className:"offcanvas-title  fs-5 fw-bold text-primary",children:a(s?"headings.updateHoliday":"headings.addHoliday")}),(0,y.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close",onClick:()=>h()})]}),(0,y.jsx)("div",{className:"offcanvas-body myRequest ",children:(0,y.jsxs)("div",{className:"formPanel",children:[(0,y.jsxs)("div",{className:"row",children:[(0,y.jsx)("div",{className:"col-md-3",children:(0,y.jsx)("div",{className:"form-group mb-3",children:(0,y.jsx)(c.JU,{text:a("labels.holidayName"),required:!0})})}),(0,y.jsx)("div",{className:"col-md-9",children:(0,y.jsxs)("div",{className:"form-group mb-3",children:[(0,y.jsx)(c.pd,{type:"text",placeholder:a("placeholders.name"),value:null===k||void 0===k?void 0:k.name,name:"name",onChange:e=>P(e)}),(null===E||void 0===E?void 0:E.name)&&(0,y.jsx)(t.eo,{text:E.name})]})})]}),(0,y.jsxs)("div",{className:"row",children:[(0,y.jsx)("div",{className:"col-md-3",children:(0,y.jsx)("div",{className:"form-group mb-3",children:(0,y.jsx)(c.JU,{text:a("labels.fromDate"),required:!0})})}),(0,y.jsx)("div",{className:"col-md-9",children:(0,y.jsxs)("div",{className:"form-group mb-3",children:[(0,y.jsx)(c.pd,{type:"date",placeholder:a("placeholders.fromDate"),value:null===k||void 0===k?void 0:k.from_date,name:"from_date",onChange:e=>P(e)}),(null===E||void 0===E?void 0:E.from_date)&&(0,y.jsx)(t.eo,{text:E.from_date})]})})]}),(0,y.jsxs)("div",{className:"row",children:[(0,y.jsx)("div",{className:"col-md-3",children:(0,y.jsx)("div",{className:"form-group mb-3",children:(0,y.jsx)(c.JU,{text:a("labels.toDate"),required:!0})})}),(0,y.jsx)("div",{className:"col-md-9",children:(0,y.jsxs)("div",{className:"form-group mb-3",children:[(0,y.jsx)(c.pd,{type:"date",value:null===k||void 0===k?void 0:k.to_date,name:"to_date",onChange:e=>P(e),min:null===k||void 0===k?void 0:k.from_date}),(null===E||void 0===E?void 0:E.to_date)&&(0,y.jsx)(t.eo,{text:E.to_date}),(null===R||void 0===R?void 0:R.length)>0&&(0,y.jsx)("div",{style:{display:"inline-flex",marginTop:"5px"},children:(0,y.jsx)(c.P_,{style:{fontSize:"medium"},id:"restricted",label:"Restricted",checked:null===k||void 0===k?void 0:k.restricted,handleChange:e=>P(e),name:"restricted"},"restricted")})]})})]}),(0,y.jsxs)("div",{className:"row",children:[(0,y.jsx)("div",{className:"col-md-3"}),(0,y.jsx)("div",{className:"col-md-9",children:(null===R||void 0===R?void 0:R.length)>0&&(0,y.jsx)("div",{className:"divAddHoliday mb-3",children:(0,y.jsx)("table",{className:"tableAddDateHoliday",children:R&&R.map(((e,l)=>(0,y.jsxs)("tr",{className:"mb-3",children:[(0,y.jsx)("td",{className:"tdHoliday",children:p()(null===e||void 0===e?void 0:e.date).format("ddd DD-MMM-YYYY")}),(0,y.jsx)("td",{children:(0,y.jsx)(r.A,{data:null===b||void 0===b?void 0:b.dayType,isDisabled:!(null===k||void 0===k||!k.restricted),placeholder:a("placeholders.selectDayType"),value:null!==s&&void 0!==s&&s.holiday_data?{label:null===e||void 0===e?void 0:e.apply_for,value:null===e||void 0===e?void 0:e.apply_for}:null===e||void 0===e?void 0:e.apply_for,handleChange:e=>((e,l)=>{Y((a=>{const d=[...a];return d[l]={...d[l],apply_for:e},d}))})(e,l)})})]})))})})})]}),(0,y.jsxs)("div",{className:"row",children:[(0,y.jsx)("div",{className:"col-md-3",children:(0,y.jsx)("div",{className:"form-group mb-3",children:(0,y.jsx)(c.JU,{text:a("labels.country"),required:!0})})}),(0,y.jsx)("div",{className:"col-md-9",children:(0,y.jsxs)("div",{className:"form-group mb-3",children:[(0,y.jsx)(r.A,{isMulti:!0,data:x,placeholder:a("placeholders.selectCountry"),value:(null===k||void 0===k?void 0:k.country)||"",handleChange:e=>P(e,"country"),name:"country"}),(null===E||void 0===E?void 0:E.country)&&(0,y.jsx)(t.eo,{text:E.country})]})})]}),(0,y.jsxs)("div",{className:"row",children:[(0,y.jsx)("div",{className:"col-md-3",children:(0,y.jsx)("div",{className:"form-group mb-3",children:(0,y.jsx)(c.JU,{text:a("labels.state"),required:!0})})}),(0,y.jsx)("div",{className:"col-md-9",children:(0,y.jsxs)("div",{className:"form-group mb-3",children:[(0,y.jsx)(r.A,{isMulti:!0,data:_,placeholder:a("placeholders.selectState"),value:(null===k||void 0===k?void 0:k.state)||"",handleChange:e=>P(e,"state"),name:"state"}),(null===E||void 0===E?void 0:E.state)&&(0,y.jsx)(t.eo,{text:E.state})]})})]}),(0,y.jsxs)("div",{className:"row",children:[(0,y.jsx)("div",{className:"col-md-3",children:(0,y.jsx)("div",{className:"form-group mb-3",children:(0,y.jsx)(c.JU,{text:a("labels.city"),required:!0})})}),(0,y.jsx)("div",{className:"col-md-9",children:(0,y.jsxs)("div",{className:"form-group mb-3",children:[(0,y.jsx)(r.A,{isMulti:!0,data:g,placeholder:a("placeholders.selectCity"),value:(null===k||void 0===k?void 0:k.city)||"",handleChange:e=>P(e,"city"),name:"city"}),(null===E||void 0===E?void 0:E.city)&&(0,y.jsx)(t.eo,{text:E.city})]})})]}),(0,y.jsxs)("div",{className:"row",children:[(0,y.jsx)("div",{className:"col-md-3",children:(0,y.jsx)("div",{className:"form-group mb-3",children:(0,y.jsx)(c.JU,{text:a("labels.branchName"),required:!0})})}),(0,y.jsx)("div",{className:"col-md-9",children:(0,y.jsxs)("div",{className:"form-group mb-3",children:[(0,y.jsx)(r.A,{isMulti:!0,data:C,placeholder:a("placeholders.selectBranchName"),value:(null===k||void 0===k?void 0:k.branch)||"",handleChange:e=>P(e,"branch"),name:"branch"}),(null===E||void 0===E?void 0:E.branch)&&(0,y.jsx)(t.eo,{text:E.branch})]})})]}),(0,y.jsxs)("div",{className:"row",children:[(0,y.jsx)("div",{className:"col-md-3",children:(0,y.jsx)("div",{className:"form-group mb-3",children:(0,y.jsx)(c.JU,{text:a("labels.gender")})})}),(0,y.jsx)("div",{className:"col-md-9",children:(0,y.jsx)("div",{className:"form-group mb-3",children:(0,y.jsx)(r.A,{isMulti:!0,data:null===b||void 0===b?void 0:b.gender,placeholder:a("placeholders.selectGender"),value:(null===k||void 0===k?void 0:k.gender)||"",handleChange:e=>P(e,"gender"),name:"gender"})})})]}),(0,y.jsxs)("div",{className:"row  form-group mb-3",children:[(0,y.jsx)("div",{className:"col-md-3",children:(0,y.jsx)(c.JU,{text:a("labels.applicableFor")})}),w?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{className:"col-md-3",children:(0,y.jsxs)("select",{className:"form-control",children:[(0,y.jsx)("option",{children:"Select"}),(0,y.jsx)("option",{children:"Shift 1"}),(0,y.jsx)("option",{children:"Shift 2"})]})}),(0,y.jsx)("div",{className:"col-md-1",children:(0,y.jsx)("span",{className:"input-group-text",children:"is"})}),(0,y.jsx)("div",{className:"col-md-3",children:(0,y.jsx)("input",{type:"text",className:"form-control",placeholder:"Select"})}),(0,y.jsx)("div",{className:"col-md-2",children:(0,y.jsx)("button",{className:"btn btn-outline-danger",onClick:()=>M(!1),children:(0,y.jsx)("i",{className:"fa fa-trash"})})})]}):(0,y.jsx)("div",{className:"col-md-3",children:(0,y.jsx)(t.Sv,{text:a("btns.addCriteria"),classNames:"btn btn-primary",handleClick:()=>M(!0)})})]}),(0,y.jsxs)("div",{className:"row",children:[(0,y.jsx)("div",{className:"col-md-3",children:(0,y.jsx)("div",{className:"form-group mb-3",children:(0,y.jsx)(c.JU,{text:a("labels.description")})})}),(0,y.jsx)("div",{className:"col-md-9",children:(0,y.jsx)("div",{className:"form-group mb-3",children:(0,y.jsx)(c.pd,{type:"text",placeholder:a("placeholders.description"),value:null===k||void 0===k?void 0:k.description,name:"description",onChange:e=>P(e)})})})]}),(0,y.jsxs)("div",{className:"row",children:[(0,y.jsx)("div",{className:"col-md-3",children:(0,y.jsx)("div",{className:"form-group mb-3",children:(0,y.jsx)(c.JU,{text:a("labels.noOfDaysBefore")})})}),(0,y.jsx)("div",{className:"col-md-9",children:(0,y.jsx)("div",{className:"form-group mb-3",children:(0,y.jsx)(r.A,{data:N,placeholder:a("placeholders.selectNoOfDays"),value:(null===k||void 0===k?void 0:k.notify_before_days)||"",handleChange:e=>P(e,"notify_before_days"),name:"notify_before_days"})})})]}),(0,y.jsx)("div",{className:"row",children:(0,y.jsx)("div",{className:"col-md-12",children:(0,y.jsxs)("div",{className:"form-group mb-3",children:[(0,y.jsx)(c.P_,{id:"is_notify_to_employee",label:"Notify applicable employees via feeds",checked:null===k||void 0===k?void 0:k.is_notify_to_employee,handleChange:e=>P(e),name:"is_notify_to_employee"},"is_notify_to_employee"),(0,y.jsx)("small",{children:"(They will receive a feed notification instantly once this holiday is saved)"})]})})}),(0,y.jsx)("div",{className:"row",children:(0,y.jsx)("div",{className:"col-md-12",children:(0,y.jsxs)("div",{className:"form-group mb-3",children:[(0,y.jsx)(c.P_,{id:"is_reprocess_leave",label:"Reprocess leave applications based on this added holiday",checked:null===k||void 0===k?void 0:k.is_reprocess_leave,handleChange:e=>P(e),name:"is_reprocess_leave"},"is_reprocess_leave"),(0,y.jsx)("small",{children:"(Leaves that are already applied for this holiday will be reprocessed and the balance will be adjusted accordingly)"})]})})}),(0,y.jsx)("div",{className:"row",children:(0,y.jsx)("div",{className:"col-md-12",children:(0,y.jsxs)("div",{class:"alert alert-warning",role:"alert",children:[(0,y.jsx)("b",{children:"Note : "}),"Shift based holiday will override the location based holiday."]})})})]})}),(0,y.jsx)("div",{className:"offcanvas-footer",children:(0,y.jsx)("div",{className:"d-flex align-items-center justify-content-end gap-3",children:(0,y.jsx)(t.Sv,{text:a(s?"btns.update":"btns.submit"),classNames:"btn btn-org-gradient",handleClick:()=>(async()=>{const e=await(0,v.i6)(m.tn,k);if(e.isValid){var l;const e=K(R),a=U(null===k||void 0===k?void 0:k.country),d=U(null===k||void 0===k?void 0:k.state),t=U(null===k||void 0===k?void 0:k.city),i=U(null===k||void 0===k?void 0:k.branch),s=U(null===k||void 0===k?void 0:k.gender),o={name:null===k||void 0===k?void 0:k.name,from_date:p()(null===k||void 0===k?void 0:k.from_date).format("YYYY-MM-DD"),to_date:p()(null===k||void 0===k?void 0:k.to_date).format("YYYY-MM-DD"),country:a,state:d,city:t,branch:i,gender:null!==k&&void 0!==k&&k.gender?s:U(null===b||void 0===b?void 0:b.gender),description:(null===k||void 0===k?void 0:k.description)||"",restricted:null===k||void 0===k?void 0:k.restricted,notify_before_days:null===k||void 0===k||null===(l=k.notify_before_days)||void 0===l?void 0:l.value,is_notify_to_employee:null===k||void 0===k?void 0:k.is_notify_to_employee,is_reprocess_leave:null===k||void 0===k?void 0:k.is_reprocess_leave,holiday_data:e};L({}),f(o),O(),D()}else L(e.errors)})(),isLoading:l})})})]}),u&&(0,y.jsx)("div",{className:"modal-backdrop fade show"})]})};var x=a(39956);a(78737);const j=e=>{const{openModel:l,setOpenModel:a}=e,{sampleDownloadPending:t,sampleDownloadRes:s,sampleDownloadError:n}=(0,i.d4)((e=>e.holiday)),r=(0,i.wA)(),{t:v}=(0,o.K)(),[m,h]=(0,d.useState)({}),[p,f]=(0,d.useState)("");(0,d.useEffect)((()=>{if(!t){if(n)return;s&&200===(null===s||void 0===s?void 0:s.code)&&(window.open(null===s||void 0===s?void 0:s.data,"_blank"),r(u.rK.handleClearHolidayStore("HANDLE_CLEAR_SAMPLE_STORE")))}}),[s,n,t]);return(0,y.jsxs)("div",{children:[(0,y.jsx)("div",{className:"modal fade attendanceViewodal",style:{display:l?"unset !important":"none !important",opacity:l?"unset":"0"},children:(0,y.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:(0,y.jsxs)("div",{className:"modal-content",children:[(0,y.jsxs)("div",{className:"modal-header border-0 pb-0",children:[(0,y.jsx)("h1",{className:"modal-title fs-5 fw-bold text-primary",children:"Upload Holiday"}),(0,y.jsx)("button",{type:"button",className:"btn-close",onClick:()=>{a(!l)}})]}),(0,y.jsxs)("div",{className:"modal-body",children:[(0,y.jsx)("div",{className:"row",children:(0,y.jsx)("div",{className:"form-group col-md-12 text-end py-2",children:(0,y.jsx)("button",{className:"btn btn-secondary float-right ms-5 ",title:"",style:{backgroundColor:"",color:"black"},onClick:()=>{r(u.rK.sampleDownloadRequest())},children:"Download Sample"})})}),(0,y.jsxs)("div",{className:"form-group col-md",children:[(0,y.jsx)(c.JU,{text:v("labels.uploadHoliday"),required:!0}),(0,y.jsx)("input",{type:"file",placeholder:"",className:"is-untouched is-pristine av-invalid form-control mt-2",name:"file",id:"Name",onChange:e=>(e=>{const l=e.target.files[0];f(l)})(e),required:!0})]}),(0,y.jsx)("div",{className:"text-center",children:(0,y.jsx)("button",{type:"button",className:"btn btn-primary gradientBg mt-2 ",onClick:()=>(()=>{const e=new FormData;e.append("file",p),r(u.rK.uploadHolidayRequest(e))})(),children:"Upload Holiday"})})]})]})})}),l&&(0,y.jsx)("div",{className:"modal-backdrop fade show"})]})},_=()=>{const{t:e}=(0,o.K)(),l=(0,i.wA)(),{getAllCountriesListPending:a,getAllCountriesListRes:n,getAllCountriesListError:r,getAllStateFromCountryListPending:c,getAllStateFromCountryListRes:v,getAllStateFromCountryListError:m,getCityListFromStatePending:h,getCityListFromStateRes:p,getCityListFromStateError:_}=(0,i.d4)((e=>e.location)),{getAppConstantDataPending:g,getAppConstantDataRes:b,getAppConstantDataError:N,getDateConstantPending:C,getDateConstantRes:D,getDateConstantError:A}=(0,i.d4)((e=>e.common)),{getAllBranchesRes:H,getAllBranchesPending:S,getAllBranchesError:E}=(0,i.d4)((e=>e.branch)),{getHolidayRes:L,getHolidayPending:R,getHolidayError:Y,createHolidayPending:w,createHolidayRes:M,createHolidayError:k,updateHolidayPending:T,updateHolidayRes:P,updateHolidayError:U,deleteHolidayPending:O,deleteHolidayRes:q,deleteHolidayError:K,uploadHolidayPending:F,uploadHolidayRes:B,uploadHolidayError:I}=(0,i.d4)((e=>e.holiday)),[J,G]=(0,d.useState)(!1),[z,V]=(0,d.useState)(""),[$,Q]=(0,d.useState)(1),[X,W]=(0,d.useState)(!1),[Z,ee]=(0,d.useState)(""),[le,ae]=(0,d.useState)(""),[de,te]=(0,d.useState)(""),[ie,se]=(0,d.useState)(""),[oe,ne]=(0,d.useState)(""),[re,ce]=(0,d.useState)(""),[ve,me]=(0,d.useState)(""),[ue,he]=(0,d.useState)([]),[pe,ye]=(0,d.useState)(!1),fe=e=>{V(e||""),l(u.jU.handleClearGetDateConstantStore("HANDLE_CLEAR_GET_DATE_CONSTANT_STORE")),G(!J)},xe=e=>{e&&ee(e),W(!X)};(0,d.useEffect)((()=>{if(!O){if(K)return void l(u.rK.handleClearHolidayStore("HANDLE_CLEAR_DELETE_HOLIDAY_STORE"));q&&200===(null===q||void 0===q?void 0:q.code)&&(Ne(),l(u.rK.handleClearHolidayStore("HANDLE_CLEAR_DELETE_HOLIDAY_STORE")),xe())}}),[q,O,K]);(0,d.useEffect)((()=>{if(!w){if(k)return void l(u.rK.handleClearHolidayStore("HANDLE_CLEAR_CREATE_HOLIDAY_STORE"));M&&200===(null===M||void 0===M?void 0:M.code)&&(l(u.rK.handleClearHolidayStore("HANDLE_CLEAR_CREATE_HOLIDAY_STORE")),Ne(),G(!J))}}),[M,k,w]),(0,d.useEffect)((()=>{if(!T){if(U)return void l(u.rK.handleClearHolidayStore("HANDLE_CLEAR_UPDATE_HOLIDAY_STORE"));P&&200===(null===P||void 0===P?void 0:P.code)&&(l(u.rK.handleClearHolidayStore("HANDLE_CLEAR_UPDATE_HOLIDAY_STORE")),Ne(),G(!J))}}),[P,U,T]);const je=e=>{const l=[];return e&&(null===e||void 0===e||e.map((e=>{l.push((null===e||void 0===e?void 0:e.id)||e)}))),l};(0,d.useEffect)((()=>{Ce(),ge(),be(),Ne()}),[]);const _e=e=>{const a=[];e&&(null===e||void 0===e||e.map((e=>{a.push((null===e||void 0===e?void 0:e._id)||e)})));const d={city_id:a||""};l(u.QB.getAllBranchesRequest(d))};(0,d.useEffect)((()=>{if(!S){if(E)return;H&&200===(null===H||void 0===H?void 0:H.code)&&he(null===H||void 0===H?void 0:H.data)}}),[H,E,S]);const ge=()=>{l(u.jU.getAppConstantDataRequest())};(0,d.useEffect)((()=>{if(!g){if(N)return;b&&200===(null===b||void 0===b?void 0:b.code)&&ne(null===b||void 0===b?void 0:b.data)}}),[b,N,g]);const be=()=>{l(u.jU.getDateConstantRequest())};(0,d.useEffect)((()=>{if(!C){if(A)return;D&&200===(null===D||void 0===D?void 0:D.code)&&ce(null===D||void 0===D?void 0:D.data)}}),[C,D,A]);const Ne=()=>{l(u.rK.getHolidayRequest())};(0,d.useEffect)((()=>{if(!R){if(Y)return;if(L&&200===(null===L||void 0===L?void 0:L.code)){const e=null===L||void 0===L?void 0:L.data;me(e)}}}),[L,Y,R]);const Ce=()=>{l(u.pK.getAllCountriesListRequest())};(0,d.useEffect)((()=>{if(!a){if(r)return;if(n&&200===(null===n||void 0===n?void 0:n.code)){const e=null===n||void 0===n?void 0:n.data;ae(e)}}}),[n,r,a]);const De=e=>{const a={country_id:je(e)||""};l(u.pK.getAllStateFromCountryListRequest(a))};(0,d.useEffect)((()=>{if(!c){if(m)return;v&&200===(null===v||void 0===v?void 0:v.code)&&te(null===v||void 0===v?void 0:v.data)}}),[v,m,c]);const Ae=e=>{const a={state_id:je(e)||""};l(u.pK.getCityListFromStateRequest(a))};return(0,d.useEffect)((()=>{if(!h){if(_)return;p&&200===(null===p||void 0===p?void 0:p.code)&&se(null===p||void 0===p?void 0:p.data)}}),[p,_,h]),(0,d.useEffect)((()=>{if(!F){if(I)return;B&&200===(null===B||void 0===B?void 0:B.code)&&(l(u.rK.handleClearHolidayStore("HANDLE_CLEAR_UPLOAD_HOLIDAY_STORE")),ye(!pe),Ne())}}),[B,I,F]),(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("div",{className:"d-flex  justify-content-end ",children:[(0,y.jsx)(t.Sv,{classNames:"btn btn-primary gradientBg me-2",handleClick:()=>ye(!pe),text:e("btns.uploadHoliday"),slug:"\tbuild_upload_holiday"}),(0,y.jsx)(t.Sv,{classNames:"btn btn-primary gradientBg",handleClick:()=>fe(),text:e("btns.addHoliday"),slug:"\tadd_holiday"})]}),(0,y.jsx)(f,{openModel:J,handleOpenClose:fe,handleCreateUpdateHoliday:e=>{z?(e._id=(null===z||void 0===z?void 0:z._id)||(null===z||void 0===z?void 0:z.id),l(u.rK.updateHolidayRequest(e))):l(u.rK.createHolidayRequest(e))},selectedHolidayData:z,allCountriesListData:le,handleStateCity:(e,l)=>{"country"===l&&(De(e),te([]),se([])),"state"===l?(Ae(e),se([])):"city"===l&&(_e(e),he([]))},allStateListData:de,allCityList:ie,appConstantData:oe,dateConstantData:re,allBranches:ue,getAllStateFromCountryList:De,getCityListFromState:Ae,getAllBranches:_e,getAllHoliday:Ne}),(0,y.jsx)(x.A,{setSelectedHolidayData:V,toggleCreateUpdateHolidayModal:fe,currentPage:$,setCurrentPage:Q,allHolidayListData:ve,isLoading:R,toggleHolidayDeleteModal:xe,viewType:"admin"}),X&&(0,y.jsx)(s.A,{onApproveReject:e=>{if(e){const e={_id:Z};l(null===u.rK||void 0===u.rK?void 0:u.rK.deleteHolidayRequest(e))}else xe()},isShow:X,desc:e("alerts.deletePopup.desc").replace("$1","Holiday"),btnRightLoading:O,btnTextRight:e("btns.delete"),btnTextLeft:e("btns.cancel")}),pe&&(0,y.jsx)(j,{openModel:pe,setOpenModel:ye}),F&&(0,y.jsx)(t.L,{isShow:F,size:"lg"})]})})}}}]);
//# sourceMappingURL=269.59ed9f1f.chunk.js.map