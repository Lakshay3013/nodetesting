"use strict";(self.webpackChunkglueple_user=self.webpackChunkglueple_user||[]).push([[4399],{74399:(e,s,t)=>{t.r(s),t.d(s,{default:()=>v});var a=t(65043),n=t(73216),r=(t(92342),t(80899)),l=t(22166),i=t(94174),o=(t(62405),t(78737)),c=t(1880),d=t(49985),u=t(92250),m=t(90607),p=(t(45531),t(26181),function(e){return"object"===typeof e&&null!==e}),h=function(e){var s=e.value,t=void 0===s?"":s,n=e.numInputs,r=void 0===n?4:n,l=e.onChange,i=e.onPaste,o=e.renderInput,c=e.shouldAutoFocus,d=void 0!==c&&c,u=e.inputType,m=void 0===u?"text":u,h=e.renderSeparator,g=e.placeholder,f=e.containerStyle,v=e.inputStyle,x=e.skipDefaultStyles,j=void 0!==x&&x,b=a.useState(0),N=b[0],y=b[1],w=a.useRef([]),S=function(){return t?t.toString().split(""):[]},E="number"===m||"tel"===m;a.useEffect((function(){w.current=w.current.slice(0,r)}),[r]),a.useEffect((function(){var e;d&&(null===(e=w.current[0])||void 0===e||e.focus())}),[d]);var C=function(){if("string"===typeof g){if(g.length===r)return g;g.length>0&&console.error("Length of the placeholder should be equal to the number of inputs.")}},R=function(e){return(E?!isNaN(Number(e)):"string"===typeof e)&&1===e.trim().length},_=function(e){var s=e.target.value;R(s)&&(P(s),L(N+1))},A=function(e){var s=e.nativeEvent,t=e.target.value;if(!R(t)){if(t.length===r)t.split("").some((function(e){return!R(e)}))||(I(t.split("")),L(r-1));null===s.data&&"deleteContentBackward"===s.inputType&&(e.preventDefault(),P(""),L(N-1)),e.target.value=""}},O=function(){y(N-1)},k=function(e){var s=S();[e.code,e.key].includes("Backspace")?(e.preventDefault(),P(""),L(N-1)):"Delete"===e.code?(e.preventDefault(),P("")):"ArrowLeft"===e.code?(e.preventDefault(),L(N-1)):"ArrowRight"===e.code||e.key===s[N]?(e.preventDefault(),L(N+1)):"Spacebar"!==e.code&&"Space"!==e.code&&"ArrowUp"!==e.code&&"ArrowDown"!==e.code||e.preventDefault()},L=function(e){var s,t,a=Math.max(Math.min(r-1,e),0);w.current[a]&&(null===(s=w.current[a])||void 0===s||s.focus(),null===(t=w.current[a])||void 0===t||t.select(),y(a))},P=function(e){var s=S();s[N]=e[0],I(s)},I=function(e){var s=e.join("");l(s)},D=function(e){var s;e.preventDefault();var t=S(),a=N,n=e.clipboardData.getData("text/plain").slice(0,r-N).split("");if(!E||!n.some((function(e){return isNaN(Number(e))}))){for(var l=0;l<r;++l)l>=N&&n.length>0&&(t[l]=null!==(s=n.shift())&&void 0!==s?s:"",a++);L(a),I(t)}};return a.createElement("div",{style:Object.assign({display:"flex",alignItems:"center"},p(f)&&f),className:"string"===typeof f?f:void 0,onPaste:i},Array.from({length:r},(function(e,s){return s})).map((function(e){var s,t,n;return a.createElement(a.Fragment,{key:e},o({value:null!==(s=S()[e])&&void 0!==s?s:"",placeholder:null!==(n=null===(t=C())||void 0===t?void 0:t[e])&&void 0!==n?n:void 0,ref:function(s){return w.current[e]=s},onChange:_,onFocus:function(s){return function(e){return function(s){y(s),e.target.select()}}(s)(e)},onBlur:O,onKeyDown:k,onPaste:D,autoComplete:"off","aria-label":"Please enter OTP character ".concat(e+1),style:Object.assign(j?{}:{width:"1em",textAlign:"center"},p(v)?v:{}),className:"string"===typeof v?v:void 0,type:m,inputMode:E?"numeric":"text",onInput:A},e),e<r-1&&("function"===typeof h?h(e):h))})))},g=(t(80728),t(70579));const f=e=>{let{isShow:s,btnLeftLoading:t=!1,btnRightLoading:n=!1,btnTextLeft:r,btnTextRight:o,toggleForgotPasswordModal:c}=e;const d=(0,l.wA)(),{forgotPasswordPending:u,forgotPasswordRes:p,forgotPasswordError:f,sendOtpPending:v,sendOtpRes:x,sendOtpError:j,verifyOtpPending:b,verifyOtpRes:N,verifyOtpError:y}=(0,l.d4)((e=>e.auth)),{t:w}=(0,m.K)(),[S,E]=(0,a.useState)(!1),[C,R]=(0,a.useState)(!1),[_,A]=(0,a.useState)(!1),[O,k]=(0,a.useState)(""),[L,P]=(0,a.useState)(""),[I,D]=(0,a.useState)(""),[T,F]=(0,a.useState)(""),[H,q]=(0,a.useState)(!1),[M,B]=(0,a.useState)(!1),[Y,G]=(0,a.useState)(0),[V,W]=(0,a.useState)(0),J=async()=>{let e={email_mobile:O};d(i.I2.sendOtpRequest(e))};(0,a.useEffect)((()=>{if(!v){if(j)return void d(i.I2.handleClearAuthStore("HANDLE_CLEAR_SEND_OTP_STORE"));x&&200===(null===x||void 0===x?void 0:x.code)&&(d(i.I2.handleClearAuthStore("HANDLE_CLEAR_SEND_OTP_STORE")),E(!0),G(0),W(59))}}),[x,j,v]);(0,a.useEffect)((()=>{if(!b){if(y)return d(i.I2.handleClearAuthStore("HANDLE_CLEAR_VERIFY_OTP_STORE")),R(!1),void A(!1);N&&200===(null===N||void 0===N?void 0:N.code)&&(d(i.I2.handleClearAuthStore("HANDLE_CLEAR_VERIFY_OTP_STORE")),R(!0),A(!0),D(""),F(""))}}),[N,y,b]);return(0,a.useEffect)((()=>{if(!u){if(f)return void d(i.I2.handleClearAuthStore("HANDLE_CLEAR_FORGOT_PASSWORD_STORE"));p&&200===(null===p||void 0===p?void 0:p.code)&&(d(i.I2.handleClearAuthStore("HANDLE_CLEAR_FORGOT_PASSWORD_STORE")),E(!1),A(!1),k(""),c())}}),[p,f,u]),(0,a.useEffect)((()=>{const e=setInterval((()=>{V>0&&W(V-1),0===V&&(0===Y?clearInterval(e):(W(59),G(Y-1)))}),1e3);return()=>{clearInterval(e)}})),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{className:"modal fade ",id:"",style:{display:s?"unset !important":"none !important",opacity:s?"unset":"0"},children:(0,g.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:(0,g.jsxs)("div",{class:"modal-content rounded-1 ",children:[(0,g.jsxs)("div",{class:"modal-header ",children:[(0,g.jsx)("h1",{class:"modal-title fs-5 fw-bold text-primary",children:w("headings.forgotPassword")}),(0,g.jsx)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:()=>c()})]}),(0,g.jsx)("div",{class:"modal-body pt-0",children:(0,g.jsxs)("form",{className:"mt-2 mb-2",children:[(0,g.jsxs)("div",{className:"form-group",children:[(0,g.jsx)("label",{for:"exampleInputEmail1",children:"Email Address"}),(0,g.jsx)("input",{type:"email",className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",onChange:e=>(e=>{k(e.target.value),E(!1),A(!1)})(e),value:O,placeholder:"Enter registered email"})]}),S&&(0,g.jsxs)("div",{className:"form-group",children:[(0,g.jsxs)("label",{for:"otp",children:["Enter OTP ",C?(0,g.jsx)("a",{className:"badge badge-success text-lg",style:{marginLeft:"5px",color:"white"},children:"Verified"}):""]}),(0,g.jsx)("td",{style:{paddingTop:"1.5%",paddingBottom:"1.5%"},children:(0,g.jsx)(h,{className:"otp-spacing",inputStyle:{width:"50%",height:"150%",color:"#212529",backgroundClip:"padding-box",border:"1px solid #ced4da",borderRadius:"0.375rem",backgroundColor:C?"lightgray":"#fff"},isDisabled:C,value:L,onChange:e=>(async e=>{if(P(e),6===e.length){let s={email_mobile:O,otp:e,otp_id:""};d(i.I2.verifyOtpRequest(s))}})(e),numInputs:6,separator:(0,g.jsx)("span",{}),isInputNum:!0,renderInput:e=>(0,g.jsx)("input",{...e})})})]}),_&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:"form-group",children:[(0,g.jsx)("label",{for:"newpassword",children:"New Password"}),(0,g.jsxs)("div",{className:"position-relative eyeContt2",children:[(0,g.jsx)("input",{className:"form-control",type:H?"text":"password",onChange:e=>D(e.target.value),value:I,placeholder:"New Password"}),(0,g.jsx)("i",{class:"fa fa-eye","aria-hidden":"true",style:{left:"435px"},onClick:()=>q(!H)})]})]}),(0,g.jsxs)("div",{className:"form-group",children:[(0,g.jsx)("label",{for:"confirmpassword",children:"Confirm Password"}),(0,g.jsxs)("div",{className:"position-relative eyeContt2",children:[(0,g.jsx)("input",{type:M?"text":"password",className:"form-control",onChange:e=>F(e.target.value),value:T,placeholder:"Confirm Password"}),(0,g.jsx)("i",{class:"fa fa-eye","aria-hidden":"true",style:{left:"435px"},onClick:()=>B(!M)})]})]})]}),!1===S&&(0,g.jsx)("button",{type:"button",className:"btn btn-primary mt-3",onClick:()=>J(),children:"Send OTP"})]})}),(0,g.jsxs)("div",{class:"modal-footer pt-0",children:[!0===S&&!1===_&&(0,g.jsx)("button",{type:"button",className:"btn btn-primary",onClick:Y>0||V>0?null:J,children:Y>0||V>0?(0,g.jsxs)(g.Fragment,{children:[" ",Y<10?`0${Y}`:Y,":",V<10?`0${V}`:V]}):"Resend OTP"}),!0===_&&(0,g.jsx)("button",{type:"button",className:"btn btn-primary",onClick:async()=>{let e={email_mobile:O,new_password:I,confirm_password:T};d(i.I2.forgotPasswordRequest(e))},children:"Change Password"})]})]})})}),s&&(0,g.jsx)("div",{className:"modal-backdrop fade show"})]})},v=e=>{const s=(0,n.Zp)(),t=(0,l.wA)(),{isUserLoginPending:m,userLoginRes:p,userLoginResError:h}=(0,l.d4)((e=>e.auth)),[v,x]=(0,a.useState)(!1),[j,b]=(0,a.useState)(!1),[N,y]=(0,a.useState)({email:"",password:""}),[w,S]=(0,a.useState)(!1),[E,C]=(0,a.useState)(!1);(0,r.Ik)({email:(0,r.Yj)().required(),password:(0,r.Yj)().required()});(0,a.useEffect)((()=>{R()}),[m,p,h]);const R=async()=>{if(!m){if(h)return void t(i.I2.handleClearAuthStore("HANDLE_CLEAR_LOGIN_STORE"));if(p&&200==(null===p||void 0===p?void 0:p.code)){let{token:e,user:a}=p&&(null===p||void 0===p?void 0:p.data),n=(0,d.Rb)(JSON.stringify(a));await(0,o.il)(n,"user"),await(0,o.il)(e,"authtoken"),console.log(a,"user-----------"),t(i.mM.employeeDetails(a)),c.A.set("authtoken",e),c.A.set("authData",JSON.stringify(a)),t(i.I2.handleClearAuthStore("HANDLE_CLEAR_LOGIN_STORE")),s("/attendance-dashboard")}}},_=e=>{const{name:s,value:t}=e.target;y({...N,[s]:t})};return(0,g.jsxs)("div",{className:"mittContent",children:[(0,g.jsx)("div",{className:"glueplelogo",children:(0,g.jsx)("a",{href:"",children:(0,g.jsx)("img",{src:"images/glueple-logo.png",alt:"",width:120})})}),(0,g.jsxs)("div",{className:"inner-content",children:[(0,g.jsx)("div",{className:"leftContent",children:(0,g.jsxs)("figure",{className:"position-relative",children:[(0,g.jsx)("img",{src:"images/img.png",alt:""}),(0,g.jsxs)("span",{className:"icon1",children:[" ",(0,g.jsx)("img",{src:"images/attendance.png",alt:"",width:70})]}),(0,g.jsxs)("span",{className:"icon2",children:[" ",(0,g.jsx)("img",{src:"images/human-resources.png",alt:"",width:70})]}),(0,g.jsxs)("span",{className:"icon3",children:[" ",(0,g.jsx)("img",{src:"images/payroll.png",alt:"",width:70})]}),(0,g.jsxs)("span",{className:"icon4",children:[" ",(0,g.jsx)("img",{src:"images/hiring.png",alt:"",width:60})]}),(0,g.jsxs)("span",{className:"icon5",children:[" ",(0,g.jsx)("img",{src:"images/human-resources-srch.png",alt:"",width:60})]}),(0,g.jsxs)("span",{className:"icon6",children:[" ",(0,g.jsx)("img",{src:"images/market-analysis.png",alt:"",width:65})]}),(0,g.jsxs)("span",{className:"icon7",children:[(0,g.jsx)("img",{src:"images/employee.png",alt:"",width:50}),"Streamline Your Workforce"]})]})}),(0,g.jsx)("div",{className:"rightTxt position-relative",children:(0,g.jsxs)("div",{className:"loginFormBox",children:[(0,g.jsxs)("div",{className:"text-start",children:[(0,g.jsx)("h3",{className:"mb-2",children:"Login"}),(0,g.jsx)("p",{className:"",children:"Human Resource Management System"})]}),(0,g.jsxs)("form",{children:[(0,g.jsxs)("div",{className:"mb-4",children:[(0,g.jsx)("label",{className:"form-label",children:"Enter Email or Employee ID"}),(0,g.jsx)("input",{className:"form-control w-100",type:"email",placeholder:"Email / Employee ID",name:"email",onChange:e=>_(e),value:N.email})]}),(0,g.jsxs)("div",{className:"mb-1",children:[(0,g.jsx)("label",{className:"form-label",children:"Password"}),(0,g.jsxs)("div",{className:"position-relative",children:[(0,g.jsx)("input",{className:"form-control w-100 pe-5",type:v?"text":"password",placeholder:"Enter Password",name:"password",value:N.password,onChange:e=>_(e)}),(0,g.jsx)("span",{className:"eyeInput",onClick:()=>x(!v),children:v?(0,g.jsx)("img",{src:"images/eye-open.svg",alt:"",width:20}):(0,g.jsx)("img",{src:"images/eye-hide.svg",alt:"",width:20})})]})]}),(0,g.jsx)("div",{className:"forgotTxt",children:(0,g.jsxs)("div",{className:"customCheckbox",children:[(0,g.jsx)("input",{type:"checkbox",id:"termCheck"}),(0,g.jsx)("label",{htmlFor:"termCheck",children:"Remember me"})]})}),(0,g.jsx)("div",{className:"text-center my-2 mt-4",children:(0,g.jsx)(u.Sv,{text:"Login",isLoading:m,classNames:"btn btn-login",handleClick:async function(){const e={email:null===N||void 0===N?void 0:N.email,password:null===N||void 0===N?void 0:N.password};t(i.I2.userLoginRequest(e))}})}),(0,g.jsx)("strong",{className:"fs-8 mt-4 text-center d-block",children:"\xa9 Copyright Powered by @QDegrees.com"}),(0,g.jsx)("a",{href:"https://www.qdegrees.com",target:"_blank",className:"text-center d-block",children:(0,g.jsx)("img",{src:"images/qdegreesLogo.png",alt:"",width:80})})]})]})})]}),j&&(0,g.jsx)(f,{isShow:j,toggleForgotPasswordModal:()=>{b(!j)}})]})}},62405:(e,s,t)=>{t(65043),t(42145),t(92342),t(70579)},92342:()=>{}}]);
//# sourceMappingURL=4399.6cb2d9fc.chunk.js.map