"use strict";(self.webpackChunkglueple_user=self.webpackChunkglueple_user||[]).push([[8217],{88217:(e,t,a)=>{a.r(t),a.d(t,{default:()=>y});var i=a(65043),l=a(85831),o=a(22166),s=a(94174),n=a(52027),d=a(26181),c=a(80728),r=a(49985),v=a(50586),u=a(56462),m=a(90607),f=a(70579);const _=e=>{const{t:t}=(0,m.K)(),{createLocationPending:a,updateLocationPending:s}=(0,o.d4)((e=>null===e||void 0===e?void 0:e.location)),{selectedLocationData:n,openModel:_,handleOpenClose:p,handleCreateUpdateLocation:h,allCountriesListData:x,handleStateCity:g,allStateListData:L,allCityList:y}=e,[j,b]=(0,i.useState)({}),[C,N]=(0,i.useState)({name:"",address:"",country:null,city:null,state:null,postal_code:"",office_start_time:"",office_end_time:"",employee_leave_year_start:"",office_working_hours:"",is_active:!0}),E=(e,t)=>{var a;const i=t||(null===(a=e.target)||void 0===a?void 0:a.name),{value:l,type:o,checked:s}=null!==e&&void 0!==e&&e.target?null===e||void 0===e?void 0:e.target:{value:e};N((e=>{let t={...e,[i]:"checkbox"===o?s:l};return"name"===i&&(t={...t,short_name:(0,r.aF)(l)}),"country"===i&&(t={...t,state:null,city:null},g(l,i)),"state"===i&&(t={...t,city:null},g(l,i)),t})),b((e=>({...e,[i]:void 0})))};(0,i.useEffect)((()=>()=>{A()}),[_]),(0,i.useEffect)((()=>{n&&N({name:null===n||void 0===n?void 0:n.name,address:null===n||void 0===n?void 0:n.address,country:{value:null===n||void 0===n?void 0:n.country,label:null===n||void 0===n?void 0:n.country_name},city:{value:null===n||void 0===n?void 0:n.city,label:null===n||void 0===n?void 0:n.city_name},state:{value:null===n||void 0===n?void 0:n.state,label:null===n||void 0===n?void 0:n.state_name},postal_code:null===n||void 0===n?void 0:n.postal_code,office_start_time:null===n||void 0===n?void 0:n.office_start_time,office_end_time:null===n||void 0===n?void 0:n.office_end_time,employee_leave_year_start:null===n||void 0===n?void 0:n.employee_leave_year_start,office_working_hours:null===n||void 0===n?void 0:n.office_working_hours,is_active:null===n||void 0===n?void 0:n.is_active})}),[n]);const A=()=>{N({name:"",address:"",country:null,city:"",state:"",postal_code:"",office_start_time:"",office_end_time:"",employee_leave_year_start:"",office_working_hours:"",is_active:!0}),b({})};return(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)("div",{className:"offcanvas offcanvas-end  "+(_?"show":""),tabIndex:-1,style:{visibility:_?"visible":"hidden",width:"800px"},id:"interviewDetail",children:[(0,f.jsxs)("div",{className:"offcanvas-header",children:[(0,f.jsxs)("h5",{className:"offcanvas-title  fs-5 fw-bold text-primary",children:[n?"Update":"Add"," Location"]}),(0,f.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close",onClick:()=>p()})]}),(0,f.jsx)("div",{className:"offcanvas-body myRequest ",children:(0,f.jsxs)("div",{className:"formPanel",children:[(0,f.jsxs)("div",{className:"row",children:[(0,f.jsx)("div",{className:"col-md-6",children:(0,f.jsxs)("div",{className:"form-group mb-2",children:[(0,f.jsx)(v.JU,{text:t("labels.locationName"),required:!0}),(0,f.jsx)(v.pd,{type:"text",placeholder:t("placeholders.locationName"),value:null===C||void 0===C?void 0:C.name,name:"name",onChange:e=>E(e)}),(null===j||void 0===j?void 0:j.name)&&(0,f.jsx)(l.eo,{text:j.name})]})}),(0,f.jsx)("div",{className:"col-md-6",children:(0,f.jsxs)("div",{className:"form-group mb-2",children:[(0,f.jsx)(v.JU,{text:t("labels.officeWorkingHours")}),(0,f.jsx)(v.pd,{type:"text",placeholder:t("placeholders.enterOfficeWorkingHours"),value:null===C||void 0===C?void 0:C.office_working_hours,name:"office_working_hours",onChange:e=>E(e)})]})}),(0,f.jsx)("div",{className:"col-md-6",children:(0,f.jsxs)("div",{className:"form-group mb-2",children:[(0,f.jsx)(v.JU,{text:t("labels.officeStartTime")}),(0,f.jsx)(v.pd,{type:"time",value:null===C||void 0===C?void 0:C.office_start_time,name:"office_start_time",onChange:e=>E(e)})]})}),(0,f.jsx)("div",{className:"col-md-6",children:(0,f.jsxs)("div",{className:"form-group mb-2",children:[(0,f.jsx)(v.JU,{text:t("labels.officeEndTime")}),(0,f.jsx)(v.pd,{type:"time",value:null===C||void 0===C?void 0:C.office_end_time,name:"office_end_time",onChange:e=>E(e)})]})}),(0,f.jsx)("div",{className:"col-md-6",children:(0,f.jsxs)("div",{className:"form-group mb-2",children:[(0,f.jsx)(v.JU,{text:t("labels.employeeLeaveYearStart")}),(0,f.jsx)(v.pd,{type:"text",placeholder:t("placeholders.employeeLeaveYearStart"),value:null===C||void 0===C?void 0:C.employee_leave_year_start,name:"employee_leave_year_start",onChange:e=>E(e)})]})}),(0,f.jsx)("div",{className:"col-md-6",children:(0,f.jsxs)("div",{className:"form-group mb-2",children:[(0,f.jsx)(v.JU,{text:t("labels.country")}),(0,f.jsx)(u.A,{data:x,placeholder:t("placeholders.selectCountry"),value:(null===C||void 0===C?void 0:C.country)||"",handleChange:e=>E(e,"country"),name:"country"})]})}),(0,f.jsx)("div",{className:"col-md-6",children:(0,f.jsxs)("div",{className:"form-group mb-2",children:[(0,f.jsx)(v.JU,{text:t("labels.state")}),(0,f.jsx)(u.A,{data:L,placeholder:t("placeholders.selectState"),value:(null===C||void 0===C?void 0:C.state)||"",handleChange:e=>E(e,"state"),name:"state"})]})}),(0,f.jsx)("div",{className:"col-md-6",children:(0,f.jsxs)("div",{className:"form-group mb-2",children:[(0,f.jsx)(v.JU,{text:t("labels.city")}),(0,f.jsx)(u.A,{data:y,placeholder:t("placeholders.selectCity"),value:(null===C||void 0===C?void 0:C.city)||"",handleChange:e=>E(e,"city"),name:"city"})]})}),(0,f.jsx)("div",{className:"col-md-12",children:(0,f.jsxs)("div",{className:"form-group mb-2",children:[(0,f.jsx)(v.JU,{text:t("labels.postalCode")}),(0,f.jsx)(v.pd,{type:"number",placeholder:t("placeholders.selectPostalCode"),value:null===C||void 0===C?void 0:C.postal_code,name:"postal_code",onChange:e=>E(e)})]})}),(0,f.jsx)("div",{className:"col-md-12",children:(0,f.jsxs)("div",{className:"form-group mb-2",children:[(0,f.jsx)(v.JU,{text:t("labels.address")}),(0,f.jsx)("textarea",{className:"w-100 form-control",placeholder:t("placeholders.address"),name:"address",value:null===C||void 0===C?void 0:C.address,onChange:e=>E(e)})]})})]}),(0,f.jsxs)("div",{className:"row",children:[(0,f.jsx)("div",{className:"col-md-3",children:(0,f.jsx)("div",{className:"form-group mb-3",children:(0,f.jsx)(v.JU,{text:t("labels.isActive")})})}),(0,f.jsx)("div",{className:"col-md-9",children:(0,f.jsx)("div",{className:"form-group mb-3",children:(0,f.jsx)(v.P_,{id:"is_active",checked:null===C||void 0===C?void 0:C.is_active,handleChange:e=>E(e),name:"is_active"},"is_active")})})]})]})}),(0,f.jsx)("div",{className:"offcanvas-footer",children:(0,f.jsx)("div",{className:"d-flex align-items-center justify-content-end gap-3",children:(0,f.jsx)(l.Sv,{text:t(n?"btns.update":"btns.submit"),classNames:"btn btn-org-gradient",handleClick:()=>(async()=>{const e=await(0,d.i6)(c.s7,C);if(e.isValid){const{name:e,address:t,country:a,city:i,state:l,postal_code:o,office_start_time:s,office_end_time:n,employee_leave_year_start:d,office_working_hours:c,is_active:r}=C,v={name:e,address:t,country:null===a||void 0===a?void 0:a.value,city:null===i||void 0===i?void 0:i.value,state:null===l||void 0===l?void 0:l.value,postal_code:o,office_start_time:s,office_end_time:n,employee_leave_year_start:d,office_working_hours:c,is_active:r};h(v)}else b(e.errors)})(),isLoading:n?s:a})})})]})})};var p=a(29829),h=a(86178),x=a.n(h);const g=e=>{const{t:t}=(0,m.K)(),{isLoading:a,setSelectedLocationData:l,handleCreateUpdateLocationModal:o,toggleLocationDeleteModal:s,currentPage:n,setCurrentPage:d,allLocations:c}=e,[u,_]=(0,i.useState)(""),h=(0,r.Yo)("update_location"),g=(0,r.Yo)("delete_location");(0,i.useEffect)((()=>{_(c)}),[c]);const L=(0,i.useMemo)((()=>({sn:(e,t)=>(0,f.jsx)("span",{children:t+1}),is_active:e=>(0,f.jsx)("span",{className:`badge ${(0,r.XN)(e.is_active?"Active":"Inactive")}`,children:e.is_active?"Active":"Inactive"}),is_active:e=>(0,f.jsx)("span",{className:`badge ${(0,r.XN)(e.is_active?"Active":"Inactive")}`,children:e.is_active?"Active":"Inactive"}),created_at:e=>x()(e.created_at).format("DD-MM-YYYY"),action:e=>(0,f.jsxs)("div",{className:"btn-group actionDrp",children:[(0,f.jsx)("button",{type:"button",className:"btn dropdown-toggle-split","data-bs-toggle":"dropdown","aria-expanded":"false",children:(0,f.jsx)("i",{className:"bi bi-three-dots-vertical"})}),(0,f.jsxs)("ul",{className:"dropdown-menu",children:[h&&(0,f.jsx)("li",{children:(0,f.jsxs)("span",{className:"dropdown-item",onClick:()=>{o(e)},children:[(0,f.jsx)(v.In,{className:"bi bi-pencil-square me-1"}),"Update"]})}),g&&(0,f.jsx)("li",{children:(0,f.jsxs)("span",{className:"dropdown-item",onClick:()=>s(e.id||e._id),children:[(0,f.jsx)(v.In,{className:"bi bi-trash me-1"}),"Delete"]})})]})]})})),[l,o]),y=[{key:"sn",label:"S.N"},{key:"name",label:"Location Name"},{key:"office_start_time",label:"Office Start Time "},{key:"office_end_time",label:"Office End Time "},{key:"office_working_hours",label:"Office Working Hours "},{key:"is_active",label:"Status"},{key:"created_at",label:"Created At"},(h||g)&&{key:"action",label:"Action"}];return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(p.Ak,{data:null===u||void 0===u?void 0:u.data,fields:y,isLoading:a,pagination:!0,currentPage:n,setCurrentPage:d,totalPages:null===u||void 0===u?void 0:u.totalPages,tableName:t("headings.location"),scopedSlots:L})})};var L=a(35685);const y=()=>{const e=(0,o.wA)(),{t:t}=(0,m.K)(),{createLocationPending:a,createLocationRes:d,createLocationError:c,updateLocationPending:r,updateLocationRes:v,updateLocationError:u,deleteLocationPending:p,deleteLocationRes:h,deleteLocationError:x,getAllLocationsDataPending:y,getAllLocationsDataRes:j,getAllLocationsDataError:b,getAllCountriesListPending:C,getAllCountriesListRes:N,getAllCountriesListError:E,getAllStateFromCountryListPending:A,getAllStateFromCountryListRes:S,getAllStateFromCountryListError:k,getCityListFromStatePending:R,getCityListFromStateRes:D,getCityListFromStateError:w}=(0,o.d4)((e=>e.location)),[O,T]=(0,i.useState)(!1),[P,U]=(0,i.useState)(""),[K,I]=(0,i.useState)(1),[F,J]=(0,i.useState)(!1),[q,H]=(0,i.useState)(""),[M,Y]=(0,i.useState)(""),[$,W]=(0,i.useState)(""),[X,B]=(0,i.useState)(""),[V,z]=(0,i.useState)(""),G=e=>{U(e||""),T(!O)};(0,i.useEffect)((()=>{if(!a){if(c)return void e(s.pK.handleClearLocationStore("HANDLE_CLEAR_CREATE_LOCATION_STORE"));d&&200===(null===d||void 0===d?void 0:d.code)&&(e(s.pK.handleClearLocationStore("HANDLE_CLEAR_CREATE_LOCATION_STORE")),Q(),T(!O))}}),[d,c,a]),(0,i.useEffect)((()=>{if(!r){if(u)return void e(s.pK.handleClearLocationStore("HANDLE_CLEAR_UPDATE_LOCATION_STORE"));v&&200===(null===v||void 0===v?void 0:v.code)&&(e(s.pK.handleClearLocationStore("HANDLE_CLEAR_UPDATE_LOCATION_STORE")),Q(),T(!O))}}),[v,u,r]),(0,i.useEffect)((()=>{Q()}),[K]);const Q=()=>{const t={page:K,limit:n.X$.limit};e(s.pK.getAllLocationsDataRequest(t))};(0,i.useEffect)((()=>{if(!y){if(b)return;j&&200===(null===j||void 0===j?void 0:j.code)&&Y(null===j||void 0===j?void 0:j.data)}}),[j,b,y]);const Z=e=>{e&&H(e),J(!F)};(0,i.useEffect)((()=>{if(!p){if(x)return void e(s.pK.handleClearLocationStore("HANDLE_CLEAR_DELETE_LOCATION_STORE"));var t;if(h)if(200===(null===h||void 0===h?void 0:h.code))K>1&&1===(null===M||void 0===M||null===(t=M.data)||void 0===t?void 0:t.length)?I((e=>e-1)):Q(),e(s.pK.handleClearLocationStore("HANDLE_CLEAR_DELETE_LOCATION_STORE")),Z()}}),[h,x,p]),(0,i.useEffect)((()=>{ee()}),[]);const ee=()=>{e(s.pK.getAllCountriesListRequest())};(0,i.useEffect)((()=>{if(!C){if(E)return;if(N&&200===(null===N||void 0===N?void 0:N.code)){const e=null===N||void 0===N?void 0:N.data;W(e)}}}),[N,E,C]);const te=e=>{const t=[];return e&&(null===e||void 0===e||e.map((e=>{t.push(null===e||void 0===e?void 0:e.id)}))),t};(0,i.useEffect)((()=>{if(!A){if(k)return;S&&200===(null===S||void 0===S?void 0:S.code)&&B(null===S||void 0===S?void 0:S.data)}}),[S,k,A]);const ae=t=>{const a={state_id:te(t)||""};e(s.pK.getCityListFromStateRequest(a))};return(0,i.useEffect)((()=>{if(!R){if(w)return;D&&200===(null===D||void 0===D?void 0:D.code)&&z(null===D||void 0===D?void 0:D.data)}}),[D,w,R]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:"d-flex  justify-content-end ",children:(0,f.jsx)(l.Sv,{classNames:"btn btn-primary gradientBg",handleClick:()=>G(),text:t("btns.createLocation"),slug:"create_location"})}),(0,f.jsx)(_,{openModel:O,handleOpenClose:G,handleCreateUpdateLocation:t=>{P?(t._id=(null===P||void 0===P?void 0:P.id)||(null===P||void 0===P?void 0:P._id),e(s.pK.updateLocationRequest(t))):e(s.pK.createLocationRequest(t))},selectedLocationData:P,allCountriesListData:$,handleStateCity:(t,a)=>{"country"===a?(t=>{const a={country_id:te(t)||""};e(s.pK.getAllStateFromCountryListRequest(a))})([t]):"state"===a&&ae([t])},allStateListData:X,allCityList:V}),(0,f.jsx)(g,{setSelectedLocationData:U,handleCreateUpdateLocationModal:G,currentPage:K,setCurrentPage:I,toggleLocationDeleteModal:Z,allLocations:M,isLoading:y}),F&&(0,f.jsx)(L.A,{onApproveReject:t=>{if(t){const t={_id:q};e(null===s.pK||void 0===s.pK?void 0:s.pK.deleteLocationRequest(t))}else Z()},isShow:F,desc:t("alerts.deletePopup.desc").replace("$1","Location"),btnRightLoading:p,btnTextRight:t("btns.delete"),btnTextLeft:t("btns.cancel")})]})}}}]);
//# sourceMappingURL=8217.c9791985.chunk.js.map