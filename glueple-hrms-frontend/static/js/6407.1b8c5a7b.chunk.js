"use strict";(self.webpackChunkglueple_user=self.webpackChunkglueple_user||[]).push([[6407],{68807:(e,s,a)=>{a.d(s,{A:()=>d});var t=a(65043),n=a(52027),l=a(22166),i=(a(94174),a(70579));const d=()=>{const[e,s]=(0,t.useState)(),{getAttendanceSummaryPending:a,getAttendanceSummaryRes:d,getAttendanceSummaryError:c}=(0,l.d4)((e=>e.attendanceDashboard));(0,t.useEffect)((()=>{if(!a){if(c)return;d&&200===(null===d||void 0===d?void 0:d.code)&&s(d.data)}}),[d,c,a]);let r=new Date;return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("div",{className:"cardBox mb-3",children:(0,i.jsxs)("div",{className:"d-flex flex-wrap align-items-center",children:[(0,i.jsxs)("div",{className:"d-flex align-items-center gap-2 currentDate",children:[(0,i.jsx)("figure",{className:"mb-0",children:(0,i.jsx)("img",{src:"images/date-icon.svg",alt:"",width:55})}),(0,i.jsxs)("p",{className:"m-0",children:[(0,i.jsxs)("strong",{children:["Today,"," ",`${r.getDate()} ${n.US[r.getMonth()]} ${r.getFullYear()}`]}),`${n.Mq[r.getDay()]}`]})]}),(0,i.jsxs)("ul",{className:"leavesList",children:[(0,i.jsx)("li",{children:(0,i.jsxs)("div",{className:"leavesTxt greenColor",children:[(0,i.jsx)("span",{children:"Present"}),(0,i.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,i.jsxs)("strong",{children:[null===e||void 0===e?void 0:e.present_count," PR"]}),(0,i.jsx)("i",{className:"bi bi-arrow-up-right-square-fill"})]})]})}),(0,i.jsx)("li",{children:(0,i.jsxs)("div",{className:"leavesTxt redColor",children:[(0,i.jsx)("span",{children:"Half Day"}),(0,i.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,i.jsx)("strong",{children:"0 HD"}),(0,i.jsx)("i",{className:"bi bi-arrow-up-right-square-fill"})]})]})}),(0,i.jsx)("li",{children:(0,i.jsxs)("div",{className:"leavesTxt redColor",children:[(0,i.jsx)("span",{children:"Absent"}),(0,i.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,i.jsxs)("strong",{children:[null===e||void 0===e?void 0:e.absent_count," AB"]}),(0,i.jsx)("i",{className:"bi bi-arrow-up-right-square-fill"})]})]})}),(0,i.jsx)("li",{children:(0,i.jsxs)("div",{className:"leavesTxt phColor",children:[(0,i.jsx)("span",{children:"Public Holiday"}),(0,i.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,i.jsx)("strong",{children:"0 PH"}),(0,i.jsx)("i",{className:"bi bi-arrow-up-right-square-fill"})]})]})}),(0,i.jsx)("li",{children:(0,i.jsxs)("div",{className:"leavesTxt",children:[(0,i.jsx)("span",{children:"Weekly Off"}),(0,i.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,i.jsxs)("strong",{children:[null===e||void 0===e?void 0:e.week_count," WO"]}),(0,i.jsx)("i",{className:"bi bi-arrow-up-right-square-fill"})]})]})}),(0,i.jsx)("li",{children:(0,i.jsxs)("div",{className:"leavesTxt plColor",children:[(0,i.jsx)("span",{children:"Paid Leave"}),(0,i.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,i.jsxs)("strong",{children:[null===e||void 0===e?void 0:e.paid_count," PL"]}),(0,i.jsx)("i",{className:"bi bi-arrow-up-right-square-fill"})]})]})}),(0,i.jsx)("li",{children:(0,i.jsxs)("div",{className:"leavesTxt yelloColor",children:[(0,i.jsx)("span",{children:"Leave Without Pay"}),(0,i.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,i.jsx)("strong",{children:"0 LW"}),(0,i.jsx)("i",{className:"bi bi-arrow-up-right-square-fill"})]})]})})]})]})})})}},93138:(e,s,a)=>{a.d(s,{A:()=>r});var t=a(65043),n=a(29829),l=a(94174),i=a(22166),d=a(49985),c=a(70579);const r=e=>{const s=(0,i.wA)(),{isOpen:a,handleOpenClose:r,selectedData:o}=e,[m,h]=(0,t.useState)([]);console.log("attendanceLogsData",m);const[x,u]=(0,t.useState)(),{getAttendanceLogsPending:g,getAttendanceLogsRes:v,getAttendanceLogsError:j}=(0,i.d4)((e=>e.attendanceCorrection)),p={sn:(e,s)=>(0,c.jsx)("span",{className:"srNum",children:s+1}),punch_time:(e,s)=>(0,c.jsxs)("span",{children:[" ",(0,d.N_)(null===e||void 0===e?void 0:e.punch_time,"LTS")]})};(0,t.useEffect)((()=>{b()}),[o]);const b=()=>{const e={date:null===o||void 0===o?void 0:o.attendance_date,emp_id:null===o||void 0===o?void 0:o.emp_id};s(l.ZE.getAttendanceLogsRequest(e))};return(0,t.useEffect)((()=>{if(!g){if(j)return;v&&200===(null===v||void 0===v?void 0:v.code)&&h(null===v||void 0===v?void 0:v.data)}}),[v,j,g]),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{class:"modal fade attendanceViewodal",id:"viewModal",style:{display:a?"unset !important":"none !important",opacity:a?"unset":"0"},children:(0,c.jsx)("div",{class:"modal-dialog modal-dialog-centered",children:(0,c.jsxs)("div",{class:"modal-content rounded-0 border-0",children:[(0,c.jsxs)("div",{class:"modal-header border-0",children:[(0,c.jsx)("h1",{class:"modal-title fs-5 fw-bold text-primary",children:"Attendance Logs"}),(0,c.jsx)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:()=>r()})]}),(0,c.jsxs)("div",{class:"modal-body",children:[(0,c.jsxs)("div",{class:"d-flex align-items-center justify-content-between mb-3",children:[(0,c.jsxs)("strong",{class:"fs-7 text-primary",children:[(0,c.jsx)("span",{class:"text-light fw-normal",children:"Date :"}),(0,d.N_)(null===o||void 0===o?void 0:o.attendance_date)]}),(0,c.jsx)("strong",{class:"fs-7 text-primary",children:null===o||void 0===o?void 0:o.day_of_week})]}),(0,c.jsxs)("div",{class:"timeCountmdl",children:[(0,c.jsxs)("strong",{children:[(0,c.jsx)("span",{children:(null===o||void 0===o?void 0:o.total_working_hours)||"00:00:00"}),"Working Hours"]}),(0,c.jsxs)("strong",{children:[(0,c.jsx)("span",{children:(null===o||void 0===o?void 0:o.total_break_time)||"00:00:00"}),"Break Time"]})]}),(0,c.jsx)("div",{class:"table-responsive attendanceTbl",children:(0,c.jsx)(n.Ak,{data:m,fields:[{key:"sn",label:"S.N"},{key:"punch_time",label:"Time"},{key:"activity_name",label:"Activity Name"},{key:"log_type",label:"IN/OUT"}],isLoading:g,pagination:!0,currentPage:x,setCurrentPage:u,totalPages:"",isHeader:!1,tableStyle:{padding:"0px",boxShadow:"none"},scopedSlots:p})})]})]})})}),a&&(0,c.jsx)("div",{className:"modal-backdrop fade show"})]})}},34905:(e,s,a)=>{a.r(s),a.d(s,{default:()=>D});var t=a(65043),n=a(22166),l=a(94174),i=a(17029),d=a.n(i),c=a(65615),r=a(71943),o=a(70579);const m=e=>{const s=(0,t.useRef)(null),a=(0,t.useRef)(null),{checkInModel:n,setCheckInModel:l,checkInOutSave:i,attendanceType:m,checkInStatus:h}=e,[x,u]=(0,t.useState)(!0),[g,v]=(0,t.useState)(!1),[j,p]=(0,t.useState)(""),[b,f]=(0,t.useState)(!0),[N,y]=(0,t.useState)(!0),[k,w]=(0,t.useState)(!1);(0,t.useEffect)((()=>{C()}),[]),(0,t.useEffect)((()=>{p(g?"":"no_cam")}),[g]);const C=async()=>{try{if(!navigator.mediaDevices||!navigator.mediaDevices.enumerateDevices)return console.error("MediaDevices API is not supported in this browser."),v(!1),void p("no_cam");const e=await navigator.mediaDevices.enumerateDevices();if(e.some((e=>"videoinput"===e.kind))?(v(!0),p("")):(v(!1),p("no_cam")),navigator.mediaDevices.getUserMedia)await navigator.mediaDevices.getUserMedia({video:!0}).then((()=>u(!0))).catch((e=>{console.error("Error accessing webcam:",e),u(!1)}));else{const e=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;e?e({video:!0},(()=>u(!0)),(e=>{console.error("Fallback error accessing webcam:",e),u(!1)})):(console.error("getUserMedia is not supported in this browser."),u(!1))}}catch(e){console.error("An error occurred during media access:",e),v(!1),p("no_cam"),u(!1)}},_=(0,t.useCallback)((()=>{const e=s.current.getScreenshot();p(e)}),[s]),A=async()=>{if(!j&&g)return;let e;navigator.geolocation.getCurrentPosition((function(s){e={latitude:s.coords.latitude,longitude:s.coords.longitude},i(e,j,m),p(g?"":"no_cam")}))};(0,t.useEffect)((()=>{if(n&&s.current){const e=s.current.video,t=new c.FaceDetection({locateFile:e=>`https://cdn.jsdelivr.net/npm/@mediapipe/face_detection/${e}`});t.setOptions({model:"short",minDetectionConfidence:.5}),t.onResults((e=>{e.detections.length>0?w(!0):w(!1)}));const n=new r.Camera(e,{onFrame:async()=>{await t.send({image:e})},width:1280,height:720});n.start(),a.current=n}else S();return()=>{S()}}),[n]);const S=()=>{if(s.current){const e=s.current.video.srcObject;if(e){e.getTracks().forEach((e=>e.stop()))}}a.current&&(a.current.stop(),a.current=null)},D=(()=>{const e={label:"Check In",color:"success"};return h&&"attendance"===m&&(e.label="Check Out",e.color="danger"),!h&&j&&"attendance"===m&&(e.label="Check In",e.color="success"),h&&"short_break"===m&&(e.label="Take short break",e.color="danger"),!h&&j&&"short_break"===m&&(e.label="End short break",e.color="success"),h&&"long_break"===m&&(e.label="Take long break",e.color="danger"),!h&&j&&"long_break"===m&&(e.label="End long break",e.color="success"),h&&"other_break"===m&&(e.label="Take other break",e.color="danger"),!h&&j&&"other_break"===m&&(e.label="End other break",e.color="danger"),e})();return(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:"modal fade attendanceViewodal",style:{display:n?"unset !important":"none !important",opacity:n?"unset":"0"},children:(0,o.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:(0,o.jsxs)("div",{className:"modal-content",children:[(0,o.jsxs)("div",{className:"modal-header border-0 pb-0",children:[(0,o.jsx)("h1",{className:"modal-title fs-5 fw-bold text-primary",children:D.label}),(0,o.jsx)("button",{type:"button",className:"btn-close",onClick:()=>{l(!n)}})]}),(0,o.jsx)("div",{className:"modal-body",children:(0,o.jsxs)("div",{className:"checkInModaltxt",children:[!g&&(0,o.jsx)("div",{className:"row",children:(0,o.jsxs)("div",{className:"row text-center mt-3",children:[(0,o.jsxs)("div",{className:"col-md-12 mb-5",children:[(0,o.jsx)("h3",{children:"Unable to detect your webcam"}),(0,o.jsx)("span",{children:"Your request will be sent to your reporting manager for approval."})]}),(0,o.jsx)("div",{className:"col-md-12",children:(0,o.jsxs)("button",{color:D.color,onClick:A,children:["Click to ",D.label," ",N&&(0,o.jsx)("i",{className:"fa fa-spinner fa-spin",style:{textAlignLast:"center"}})]})})]})}),!j&&(0,o.jsx)(o.Fragment,{children:b&&(0,o.jsx)(o.Fragment,{children:1==x?(0,o.jsx)(d(),{audio:!1,height:250,ref:s,screenshotFormat:"image/jpeg",width:400,videoConstraints:{width:1280,height:720,facingMode:"user"}}):(0,o.jsxs)("div",{className:"mt-5",children:[(0,o.jsx)("img",{src:"images/cameranotavailable.png",alt:"User Image",height:"172",width:"280"}),(0,o.jsx)("h3",{className:"mt-2",children:"camera not available"}),(0,o.jsx)("h5",{className:"mt-2",children:"Login with your mobile"})]})})}),j&&1==x&&(0,o.jsx)("div",{className:"col-md",children:(0,o.jsxs)("div",{className:"text-center",style:{margin:"auto"},children:[(0,o.jsx)("h5",{align:"center",style:{color:"#6f4e37"},children:"CAPTURE IMAGE"}),(0,o.jsx)("div",{className:"mt-5",children:(0,o.jsx)("img",{src:j&&"no_cam"!==j?j:"images/capture.jpeg",alt:"User Image",height:"220",width:"400"})})]})}),(0,o.jsx)("strong",{className:"fs-6 d-block text-primary mb-1 text-center",children:"NOTE"}),(0,o.jsx)("p",{className:"text-center",children:"Please align with camera then press capture button below"}),(0,o.jsxs)("div",{className:"text-center",children:[(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("button",{type:"button",className:"btn btn-primary gradientBg w-75 d-flex align-items-center justify-content-center mx-auto",onClick:j?()=>p(""):_,disabled:!k,children:j?(0,o.jsx)("i",{className:"fa fa-repeat","aria-hidden":"true"}):(0,o.jsx)("img",{src:"images/capture.svg",alt:"",width:"20",className:"me-2"})})}),j&&(0,o.jsxs)("button",{type:"button",className:"btn btn-primary bg-success w-75 mt-2  d-flex align-items-center justify-content-center  mx-auto ",color:D.color,style:{display:"none !important"},onClick:A,children:[(0,o.jsx)("img",{src:"images/checkIn-icon.svg",alt:"",width:"15",className:"me-2"}),D.label]})]})]})})]})})}),n&&(0,o.jsx)("div",{className:"modal-backdrop fade show"})]})};var h=a(22019),x=a(78737),u=a(85831);const g=e=>{const{getCheckInCheckOutdata:s}=e,a=(0,n.wA)(),{getCheckInCheckOutPending:i,getCheckInCheckOutRes:d,getCheckInCheckOutError:c,checkInCheckOutPending:r,checkInCheckOutRes:g,checkInCheckOutError:v,getAttendanceDashBoardPending:j,getAttendanceDashBoardRes:p,getAttendanceDashBoardError:b}=(0,n.d4)((e=>e.attendanceDashboard)),[f,N]=(0,t.useState)(),[y,k]=(0,t.useState)(!1),[w,C]=(0,t.useState)(!1),[_,A]=(0,t.useState)("attendance"),[S,D]=(0,t.useState)("00:00:00"),[O,M]=(0,t.useState)("00:00:00"),[I,B]=(0,t.useState)("00:00:00"),[L,T]=(0,t.useState)("00"),[E,H]=(0,t.useState)({}),[P,R]=(0,t.useState)({}),q={chart:{type:"radialBar",height:300},plotOptions:{radialBar:{hollow:{size:"70%"},track:{background:"#e7eefc"},dataLabels:{show:!1,name:{show:!1},value:{fontSize:"22px",offsetY:-10,formatter:e=>`${e}%`},total:{show:!1,label:"in office",formatter:function(){return`${L}%<br>in office<br>${L<50?"POOR":"GOOD"}`},style:{fontSize:"16px",color:"#000",fontWeight:"bold",textAlign:"center"}}}}},fill:{colors:["#1D5A7F"]},stroke:{lineCap:"round"}},F=[L],U=()=>{k(!y)};(0,t.useEffect)((()=>{B((0,x.Hz)(O,"HH:mm",S,"seconds","HH:mm:ss")),T((0,x.gn)(O,S))}),[S,O]),(0,t.useEffect)((()=>{if(!j){if(b)return;var e,s;if(p)if(200===(null===p||void 0===p?void 0:p.code))H(null===p||void 0===p||null===(e=p.data)||void 0===e?void 0:e.attendanceCount),R(null===p||void 0===p||null===(s=p.data)||void 0===s?void 0:s.monthlyAttendanceDetails)}}),[p,b,j]),(0,t.useEffect)((()=>{if(!i){if(c)return;var e;if(d)if(200===(null===d||void 0===d||null===(e=d.data)||void 0===e?void 0:e.code)){var s,a,t,n;const e=null===d||void 0===d||null===(s=d.data)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.attendanceLog;N(e),C("IN"===(null===e||void 0===e?void 0:e.log_type));const{firstEntryTime:l,workHours:i,workMinutes:c,workSeconds:r,shift_full_day_working_hours:o}=null===d||void 0===d||null===(t=d.data)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.attendanceTime;if(l){let e=`${i}:${c}:${r}`;M(o);const s=setInterval((()=>{e=(0,x.vC)(e,"hh:mm:ss",1,"seconds","HH:mm:ss"),D(e)}),1e3);return()=>clearInterval(s)}}}}),[d,c,i]),(0,t.useEffect)((()=>{if(!r){if(v)return;var e;if(g)200===(null===g||void 0===g||null===(e=g.data)||void 0===e?void 0:e.code)&&(a(l.Bq.handleClearAttendanceDashboardStore("HANDLE_CLEAR_CHECK_IN_CHECK_OUT_STORE")),s())}}),[g,v,r]);return(0,o.jsxs)("div",{className:"row px-md-1",children:[(0,o.jsx)("div",{className:"col-md-4 px-md-2 mb-3",children:(0,o.jsxs)("div",{className:"cardBox h-100 pt-2",children:[(0,o.jsxs)("div",{className:"cardHead d-flex justify-content-between align-items-center border-bottom pb-2 mb-3",children:[(0,o.jsx)("h3",{className:"mb-0 fs-7",children:"Today"}),(0,o.jsx)("span",{className:"badge text-bg-success py-2 px-3 rounded-5 presentStatus"})]}),(0,o.jsxs)("div",{className:"row",children:[(0,o.jsx)("div",{className:"col-6",children:(0,o.jsxs)("div",{className:"presentContent",children:[(0,o.jsx)("img",{src:"images/finger-print-icon.svg",alt:"",width:25,className:"mb-2"}),(0,o.jsx)("p",{children:"You have not marked yourself as present today !"}),(0,o.jsxs)("strong",{className:"timerStrong",children:[(0,o.jsx)("span",{children:"Time Left:"}),I]})]})}),(0,o.jsx)("div",{className:"col-6 ps-0",children:(0,o.jsxs)("div",{className:"presentGrphDiv",children:[(0,o.jsx)(h.A,{options:q,series:F,type:"radialBar",height:300}),(0,o.jsxs)("div",{className:"presnedGraphTxt",children:[(0,o.jsxs)("strong",{children:[L,"%"]}),(0,o.jsx)("span",{children:"in office"}),(0,o.jsx)("p",{children:L<50?"POOR":"GOOD"})]})]})})]}),(0,o.jsx)(u.Sv,{classNames:"btn btn-primary gradientBg mt-2 w-100",handleClick:()=>U(),text:w?"Check Out":"Check IN",slug:"check_in_out"})]})}),(0,o.jsxs)("div",{className:"col-md-4 px-md-2 mb-3",children:[(0,o.jsxs)("div",{className:"row px-md-1",children:[(0,o.jsx)("div",{className:"col-6 px-md-2 mb-3",children:(0,o.jsxs)("div",{className:"cardBox h-100 daysBox",style:{minHeight:"110px"},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{className:"d-block",children:"Total Working Days"}),(0,o.jsx)("strong",{className:"d-block",children:null===E||void 0===E?void 0:E.total_working_days})]}),(0,o.jsx)("figure",{children:(0,o.jsx)("img",{width:20,src:"images/days-icon.svg",alt:""})})]})}),(0,o.jsx)("div",{className:"col-6 px-md-2 mb-3",children:(0,o.jsxs)("div",{className:"cardBox h-100 daysBox",style:{minHeight:"110px"},children:[(0,o.jsxs)("div",{children:[(0,o.jsxs)("span",{className:"d-block",children:["Days ",(0,o.jsx)("br",{}),"Present"]}),(0,o.jsx)("strong",{className:"d-block",children:null===E||void 0===E?void 0:E.present_count})]}),(0,o.jsx)("figure",{children:(0,o.jsx)("img",{width:20,src:"images/leaves-icon.svg",alt:""})})]})}),(0,o.jsx)("div",{className:"col-6 px-md-2",children:(0,o.jsxs)("div",{className:"cardBox h-100 daysBox",style:{minHeight:"110px"},children:[(0,o.jsxs)("div",{children:[(0,o.jsxs)("span",{className:"d-block",children:["Days ",(0,o.jsx)("br",{}),"Absent"]}),(0,o.jsx)("strong",{className:"d-block",children:null===E||void 0===E?void 0:E.absent_count})]}),(0,o.jsx)("figure",{children:(0,o.jsx)("img",{width:20,src:"images/days-icon.svg",alt:""})})]})}),(0,o.jsx)("div",{className:"col-6 px-md-2",children:(0,o.jsxs)("div",{className:"cardBox h-100 daysBox",style:{minHeight:"110px"},children:[(0,o.jsxs)("div",{children:[(0,o.jsxs)("span",{className:"d-block",children:["Leave ",(0,o.jsx)("br",{}),"Taken"]}),(0,o.jsx)("strong",{className:"d-block",children:null===E||void 0===E?void 0:E.paid_count})]}),(0,o.jsx)("figure",{children:(0,o.jsx)("img",{width:20,src:"images/leaves-icon.svg",alt:""})})]})})]}),(0,o.jsx)("div",{className:"logInmain",children:(0,o.jsxs)("div",{className:"row align-items-center",children:[(0,o.jsx)("div",{className:"col-md-4 px-md-2 border-end",children:(0,o.jsxs)("div",{className:"d-flex justify-content-between align-items-center logIn",children:[(0,o.jsx)("figure",{className:"m-0",children:(0,o.jsx)("img",{src:"images/weblogin.svg",alt:"",width:22,height:22})}),(0,o.jsxs)("div",{className:"text-end",children:[(0,o.jsx)("span",{className:"d-block",children:"Web"}),(0,o.jsx)("strong",{className:"d-block",children:null===E||void 0===E?void 0:E.web_count})]})]})}),(0,o.jsx)("div",{className:"col-md-4 px-md-2 border-end",children:(0,o.jsxs)("div",{className:"d-flex justify-content-between align-items-center logIn",children:[(0,o.jsx)("figure",{className:"m-0",children:(0,o.jsx)("img",{src:"images/mobilelogin.svg",alt:"",width:22,height:22})}),(0,o.jsxs)("div",{className:"text-end",children:[(0,o.jsx)("span",{className:"d-block",children:"Mobile"}),(0,o.jsx)("strong",{className:"d-block",children:null===E||void 0===E?void 0:E.mobile_count})]})]})}),(0,o.jsx)("div",{className:"col-md-4 px-md-2",children:(0,o.jsxs)("div",{className:"d-flex justify-content-between align-items-center logIn",children:[(0,o.jsx)("figure",{className:"m-0",children:(0,o.jsx)("img",{src:"images/biometriclogin.svg",alt:"",width:20,height:20})}),(0,o.jsxs)("div",{className:"text-end",children:[(0,o.jsx)("span",{className:"d-block",children:"Biometric"}),(0,o.jsx)("strong",{className:"d-block",children:null===E||void 0===E?void 0:E.biometric_count})]})]})})]})})]}),(0,o.jsx)("div",{className:"col-md-4 px-md-2 mb-3 monthlyCard",children:(0,o.jsxs)("div",{className:"cardBox h-100 pt-2 ",children:[(0,o.jsx)("div",{className:"cardHead border-bottom pb-2 mb-3",children:(0,o.jsx)("h3",{className:"mb-0 fs-7 py-1",children:"Monthly hourly Attendance"})}),(0,o.jsxs)("div",{className:"row mb-5 align-items-center",children:[(0,o.jsx)("div",{className:"col-6",children:(0,o.jsxs)("ul",{className:"hrsChartInfo",children:[(0,o.jsxs)("li",{className:"mb-3",children:[null===P||void 0===P?void 0:P.totalWorkingHours," ",(0,o.jsx)("span",{children:"Working hrs"})]}),(0,o.jsxs)("li",{className:"mb-3",children:["00:00:00  ",(0,o.jsx)("span",{children:"C-OFF hrs"})]}),(0,o.jsxs)("li",{className:"mb-3",children:[null===P||void 0===P?void 0:P.totalBreakHours,"  ",(0,o.jsx)("span",{children:"Break hrs"})]}),(0,o.jsxs)("li",{className:"mb-3",children:["00:00:00 ",(0,o.jsx)("span",{children:"Other"})]})]})}),(0,o.jsx)("div",{className:"col-6",children:(0,o.jsx)("div",{className:"presentGrphDiv",children:(0,o.jsxs)("div",{className:"presnedGraphTxt",children:[(0,o.jsx)("strong",{children:null===P||void 0===P?void 0:P.totalWorkingHours}),(0,o.jsxs)("span",{children:["/",null===P||void 0===P?void 0:P.totalWorkingDuration]})]})})})]}),(0,o.jsxs)("div",{className:"pt-3  border-top d-flex align-items-center justify-content-between",children:[(0,o.jsxs)("strong",{className:"timerStrong",children:[(0,o.jsx)("span",{children:"Average Login"}),null===P||void 0===P?void 0:P.averageWorkingHours]}),(0,o.jsxs)("strong",{className:"timerStrong",children:[(0,o.jsx)("span",{children:"Average Break hrs"}),null===P||void 0===P?void 0:P.averageBreakHours]})]})]})}),y&&(0,o.jsx)(m,{checkInModel:y,setCheckInModel:k,checkInOutSave:(e,s,t)=>{let n={log_type:w?"OUT":"IN",ip_address:"",punch_time:(0,x.OV)("YYYY-MM-DD HH:mm:ss"),latitude:null===e||void 0===e?void 0:e.latitude,longitude:null===e||void 0===e?void 0:e.longitude,emp_img:s,device_from:"web",user_agent:navigator.userAgent,attendance_type:t};a(l.Bq.checkInCheckOutRequest(n)),U()},checkInStatus:w,attendanceType:_}),r&&(0,o.jsx)(u.L,{isShow:r,size:"lg"})]})};var v=a(68807),j=a(61705),p=a(58179),b=a(69158),f=a(49985);const N=e=>{const{openModel:s,handleOpenClose:a}=e;return(0,o.jsx)("div",{className:"modal fade attendanceLog "+(s?"show":""),id:"attenLogs",tabIndex:"-1",style:{display:s?"block":"none"},"aria-hidden":!s,children:(0,o.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:(0,o.jsxs)("div",{className:"modal-content rounded-0 border-0",children:[(0,o.jsxs)("div",{className:"modal-header border-0",children:[(0,o.jsx)("h1",{className:"modal-title fs-5 fw-bold text-primary",children:"Attendance Correction"}),(0,o.jsx)("button",{type:"button",className:"btn-close",onClick:()=>a()})]}),(0,o.jsx)("div",{className:"modal-body pt-0",children:(0,o.jsx)("div",{className:"table-responsive tableDiv",children:(0,o.jsx)("p",{children:"No Punches were found through the machine or glueple. So, you are not eligible to apply for correction. Please contact your respective HR for updation"})})})]})})})};var y=a(93138),k=a(93806),w=a(93874),C=a(50586);const _=e=>{const{selectedCalenderData:s,isOpen:a,handleOpenClose:n}=e,[l,i]=(0,t.useState)(),[d,c]=(0,t.useState)(!1),[r,m]=(0,t.useState)(""),[h,x]=(0,t.useState)([]),[u,g]=(0,t.useState)(!1),[v,j]=(0,t.useState)(!1),[_,A]=(0,t.useState)(!1),S=()=>{i(!l)},D=e=>{"showLogs"===e?(c(!d),m(e)):(c(!d),i(!l),m(""))},O=()=>{g(!u)},M=()=>{j(!v)},I=()=>{A(!_)};return(0,o.jsxs)(t.Fragment,{children:[(0,o.jsxs)("div",{className:"modal fade selectModal",id:"selectModal",style:{display:a?"unset !important":"none !important",opacity:a?"unset":"0"},children:[(0,o.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:(0,o.jsxs)("div",{className:"modal-content rounded-0 border-0",children:[(0,o.jsxs)("div",{className:"modal-header border-0 pb-0",children:[(0,o.jsx)("h1",{className:"modal-title fs-5 fw-bold text-primary",children:"Select"}),(0,o.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:()=>n()})]}),(0,o.jsx)("div",{className:"modal-body",children:(()=>{const e=[],a=null===(null===s||void 0===s?void 0:s.attendance_status),t="WO"===(null===s||void 0===s?void 0:s.attendance_status),n="PR"===(null===s||void 0===s?void 0:s.attendance_status),l=(0,f.eJ)(null===s||void 0===s?void 0:s.attendance_date),i=(0,f.Lf)(null===s||void 0===s?void 0:s.attendance_date);return t||n||e.push((0,o.jsx)("div",{className:"col-md-6 px-md-2 mb-3",onClick:M,children:(0,o.jsxs)("span",{className:"totalBx h-100",children:[(0,o.jsx)("figure",{children:(0,o.jsx)("img",{src:"images/totalleaves-icon.svg",alt:"",width:50})}),(0,o.jsx)("h3",{className:"fw-bolder my-0",children:"Apply Leave"}),(0,o.jsx)("img",{src:"images/totalattendance.svg",className:"cornerLine",alt:"",width:95})]})},"apply-leave")),(t&&!n||a)&&e.push((0,o.jsx)("div",{className:"col-md-6 px-md-2 mb-3",onClick:I,children:(0,o.jsxs)("span",{className:"totalBx h-100",children:[(0,o.jsx)("figure",{children:(0,o.jsx)("img",{src:"images/apply-tour.svg",alt:"",width:50})}),(0,o.jsx)("h3",{className:"fw-bolder my-0",children:"Apply Tour"}),(0,o.jsx)("img",{src:"images/totalattendance.svg",className:"cornerLine",alt:"",width:80})]})},"apply-tour")),!l||n||t||e.push((0,o.jsx)("div",{className:"col-md-6 px-md-2 mb-3",onClick:S,children:(0,o.jsxs)("span",{className:"totalBx h-100",children:[(0,o.jsx)("figure",{children:(0,o.jsx)("img",{src:"images/attendance-correction.svg",alt:"",width:50})}),(0,o.jsx)("h3",{className:"fw-bolder my-0",children:"Attendance Correction"}),(0,o.jsx)("img",{src:"images/totalattendance.svg",className:"cornerLine",alt:"",width:80})]})},"attendance-correction")),t||i||e.push((0,o.jsx)("div",{className:"col-md-6 px-md-2 mb-3",onClick:O,children:(0,o.jsxs)("span",{className:"totalBx h-100",children:[(0,o.jsx)("figure",{children:(0,o.jsx)("img",{src:"images/attendance-logs.svg",alt:"",width:50})}),(0,o.jsx)("h3",{className:"fw-bolder my-0",children:"Attendance Logs"}),(0,o.jsx)("img",{src:"images/totalattendance.svg",className:"cornerLine",alt:"",width:80})]})},"attendance-logs")),e.length>0?(0,o.jsx)("div",{className:"row px-md-1",children:e}):(0,o.jsx)(C.eo,{text:"No Leave Type Available"})})()})]})}),null!==s&&void 0!==s&&s.last_check_out_time||null!==s&&void 0!==s&&s.first_check_in_time?l&&(0,o.jsx)(p.A,{handleOpenClose:S,openModel:l,toggleShowAllBreakModal:D,selectedCalenderData:s,updatedLogsData:h}):(0,o.jsx)(N,{handleOpenClose:S,openModel:l}),d&&(0,o.jsx)(b.A,{handleOpenClose:D,openModel:d,viewModalType:r,selectedCalenderData:s,setUpdatedLogsData:x}),u&&(0,o.jsx)(y.A,{isOpen:u,handleOpenClose:O,selectedData:s}),v&&(0,o.jsx)(k.A,{openModel:v,openLeaveApplicationModel:M}),_&&(0,o.jsx)(w.A,{openTourApplicationModel:I,isOpenModal:_})]}),a&&(0,o.jsx)("div",{className:"modal-backdrop fade show"})]})};var A=a(86178),S=a.n(A);const D=()=>{const{getMonthlyAttendancePending:e,getMonthlyAttendanceRes:s,getMonthlyAttendanceError:a}=(0,n.d4)((e=>e.attendanceDashboard)),[i,d]=(0,t.useState)(S()()),[c,r]=(0,t.useState)([]),[m,h]=(0,t.useState)(""),[x,u]=(0,t.useState)(""),p=(0,n.wA)();(0,t.useEffect)((()=>{b(),y()}),[]),(0,t.useEffect)((()=>{f(),N()}),[i]),(0,t.useEffect)((()=>{if(!e){if(a)return;s&&200===(null===s||void 0===s?void 0:s.code)&&r(s.data)}}),[s,a,e]);const b=()=>{p(l.Bq.getCheckInCheckOutRequest())},f=()=>{const e={month:i.format("YYYY-MM")};p(l.Bq.getMonthlyAttendanceRequest(e))},N=()=>{const e={month:i.format("YYYY-MM")};p(l.Bq.getAttendanceSummaryRequest(e))},y=()=>{p(l.Bq.getAttendanceDashBoardRequest())},k=e=>{e&&h(e),u(!x)};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(g,{getCheckInCheckOutdata:b}),(0,o.jsx)(v.A,{}),(0,o.jsx)(j.A,{setCurrentDate:d,currentDate:i,attendanceDetails:c,handleOpenClose:k}),x&&(0,o.jsx)(_,{selectedCalenderData:m,isOpen:x,handleOpenClose:k})]})}}}]);
//# sourceMappingURL=6407.1b8c5a7b.chunk.js.map