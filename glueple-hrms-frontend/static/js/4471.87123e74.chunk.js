"use strict";(self.webpackChunkglueple_user=self.webpackChunkglueple_user||[]).push([[4471],{4471:(e,l,a)=>{a.r(l),a.d(l,{default:()=>N});var i=a(65043),s=a(22166),t=a(94174),o=a(52027),d=a(85831),c=a(26181),n=a(80728),r=a(45531),v=a(90607),m=a(70579);const u=e=>{const{t:l}=(0,v.K)(),{createPolicyCategoryPending:a,updatePolicyCategoryPending:t}=(0,s.d4)((e=>null===e||void 0===e?void 0:e.qualification)),{selectedPolicyCategoryData:o,openModel:u,handleOpenClose:h,handleCreateUpdatePolicyCategory:g}=e,[p,x]=(0,i.useState)({}),[y,j]=(0,i.useState)({name:"",sort_order:"",is_active:!0}),f=(e,l)=>{var a;const i=l||(null===(a=e.target)||void 0===a?void 0:a.name),{value:s,type:t,checked:o}=null!==e&&void 0!==e&&e.target?e.target:{value:e};j((e=>({...e,[i]:"checkbox"===t?o:s}))),x((e=>({...e,[i]:void 0})))};(0,i.useEffect)((()=>()=>{b()}),[u]),(0,i.useEffect)((()=>{o&&j({is_active:null===o||void 0===o?void 0:o.is_active,name:null===o||void 0===o?void 0:o.name,sort_order:null===o||void 0===o?void 0:o.sort_order})}),[o]);const b=()=>{j({is_active:!0,name:"",sort_order:""}),x({})};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:"offcanvas offcanvas-end  "+(u?"show":""),tabIndex:-1,style:{visibility:u?"visible":"hidden",width:"800px"},id:"interviewDetail",children:[(0,m.jsxs)("div",{className:"offcanvas-header",children:[(0,m.jsx)("h5",{className:"offcanvas-title  fs-5 fw-bold text-primary",children:l(o?"headings.addPolicyCategory":"headings.updatePolicyCategory")}),(0,m.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close",onClick:()=>h()})]}),(0,m.jsx)("div",{className:"offcanvas-body myRequest ",children:(0,m.jsxs)("div",{className:"formPanel",children:[(0,m.jsxs)("div",{className:"row",children:[(0,m.jsx)("div",{className:"col-md-3",children:(0,m.jsx)("div",{className:"form-group mb-3",children:(0,m.jsx)(r.JU,{text:l("labels.policyCategoryName"),required:!0})})}),(0,m.jsx)("div",{className:"col-md-9",children:(0,m.jsxs)("div",{className:"form-group mb-3",children:[(0,m.jsx)(r.pd,{type:"text",placeholder:l("placeholders.policyCategoryName"),value:null===y||void 0===y?void 0:y.name,name:"name",onChange:e=>f(e)}),(null===p||void 0===p?void 0:p.name)&&(0,m.jsx)(d.eo,{text:p.name})]})})]}),(0,m.jsxs)("div",{className:"row",children:[(0,m.jsx)("div",{className:"col-md-3",children:(0,m.jsx)("div",{className:"form-group mb-3",children:(0,m.jsx)(r.JU,{text:l("labels.sortOrder"),required:!0})})}),(0,m.jsx)("div",{className:"col-md-9",children:(0,m.jsxs)("div",{className:"form-group mb-3",children:[(0,m.jsx)(r.pd,{type:"number",placeholder:l("placeholders.sortOrder"),value:null===y||void 0===y?void 0:y.sort_order,name:"sort_order",onChange:e=>f(e)}),(null===p||void 0===p?void 0:p.sort_order)&&(0,m.jsx)(d.eo,{text:p.sort_order})]})})]}),(0,m.jsxs)("div",{className:"row",children:[(0,m.jsx)("div",{className:"col-md-3",children:(0,m.jsx)("div",{className:"form-group mb-3",children:(0,m.jsx)(r.JU,{text:l("labels.isActive"),required:!0})})}),(0,m.jsx)("div",{className:"col-md-9",children:(0,m.jsx)("div",{className:"form-group mb-3",children:(0,m.jsx)(r.P_,{id:"is_active",checked:null===y||void 0===y?void 0:y.is_active,handleChange:e=>f(e),name:"is_active"},"is_active")})})]})]})}),(0,m.jsx)("div",{className:"offcanvas-footer",children:(0,m.jsx)("div",{className:"d-flex align-items-center justify-content-end gap-3",children:(0,m.jsx)(d.Sv,{text:l(o?"btns.update":"btns.submit"),classNames:"btn btn-org-gradient",handleClick:()=>(async()=>{const e=await(0,c.i6)(n.on,y);if(e.isValid){const{is_active:e,name:l,sort_order:a}=y,i={name:l,sort_order:a,is_active:e};x({}),g(i)}else x(e.errors)})(),isLoading:o?t:a})})})]}),u&&(0,m.jsx)("div",{className:"modal-backdrop fade show"})]})};var h=a(35685),g=a(56462);const p=e=>{const{t:l}=(0,v.K)(),{createPolicyPending:a,updatePolicyPending:t}=(0,s.d4)((e=>null===e||void 0===e?void 0:e.qualification)),{selectedPolicy:o,openModel:u,handleOpenClose:h,handleCreateUpdatePolicy:p,allPolicyCategoryListData:x}=e,[y,j]=(0,i.useState)({}),[f,b]=(0,i.useState)(""),[P,C]=(0,i.useState)({category_id:null,title:"",description:"",content:"",is_active:!0,sort_order:""}),_=(0,i.useRef)(null),N=(e,l)=>{var a;const i=l||(null===(a=e.target)||void 0===a?void 0:a.name),{value:s,type:t,checked:o}=null!==e&&void 0!==e&&e.target?e.target:{value:e};C((e=>({...e,[i]:"checkbox"===t?o:s}))),j((e=>({...e,[i]:void 0})))};(0,i.useEffect)((()=>()=>{E()}),[u]),(0,i.useEffect)((()=>{o&&C({category_id:{value:null===o||void 0===o?void 0:o.category_id,label:null===o||void 0===o?void 0:o.policy_category_name},title:null===o||void 0===o?void 0:o.title,description:null===o||void 0===o?void 0:o.description,content:null===o||void 0===o?void 0:o.content,is_active:null===o||void 0===o?void 0:o.is_active,sort_order:null===o||void 0===o?void 0:o.sort_order})}),[o]);const E=()=>{C({category_id:null,title:"",description:"",content:"",is_active:!0,sort_order:""}),b(""),_.current&&(_.current.value=""),j({})};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:"offcanvas offcanvas-end  "+(u?"show":""),tabIndex:-1,style:{visibility:u?"visible":"hidden",width:"800px"},id:"interviewDetail",children:[(0,m.jsxs)("div",{className:"offcanvas-header",children:[(0,m.jsx)("h5",{className:"offcanvas-title  fs-5 fw-bold text-primary",children:l(o?"headings.addPolicy":"headings.updatePolicy")}),(0,m.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close",onClick:()=>h()})]}),(0,m.jsx)("div",{className:"offcanvas-body myRequest ",children:(0,m.jsxs)("div",{className:"formPanel",children:[(0,m.jsxs)("div",{className:"row",children:[(0,m.jsx)("div",{className:"col-md-3",children:(0,m.jsx)("div",{className:"form-group mb-3",children:(0,m.jsx)(r.JU,{text:l("labels.selectCategory"),required:!0})})}),(0,m.jsx)("div",{className:"col-md-9",children:(0,m.jsxs)("div",{className:"form-group mb-3",children:[(0,m.jsx)(g.A,{data:x,placeholder:l("placeholders.selectCategory"),value:(null===P||void 0===P?void 0:P.category_id)||"",handleChange:e=>N(e,"category_id"),name:"category_id"}),(null===y||void 0===y?void 0:y.category_id)&&(0,m.jsx)(d.eo,{text:y.category_id})]})})]}),(0,m.jsxs)("div",{className:"row",children:[(0,m.jsx)("div",{className:"col-md-3",children:(0,m.jsx)("div",{className:"form-group mb-3",children:(0,m.jsx)(r.JU,{text:l("labels.title"),required:!0})})}),(0,m.jsx)("div",{className:"col-md-9",children:(0,m.jsxs)("div",{className:"form-group mb-3",children:[(0,m.jsx)(r.pd,{type:"text",placeholder:l("placeholders.title"),value:null===P||void 0===P?void 0:P.title,name:"title",onChange:e=>N(e)}),(null===y||void 0===y?void 0:y.title)&&(0,m.jsx)(d.eo,{text:y.title})]})})]}),(0,m.jsxs)("div",{className:"row",children:[(0,m.jsx)("div",{className:"col-md-3",children:(0,m.jsx)("div",{className:"form-group mb-3",children:(0,m.jsx)(r.JU,{text:l("labels.sortOrder")})})}),(0,m.jsx)("div",{className:"col-md-9",children:(0,m.jsx)("div",{className:"form-group mb-3",children:(0,m.jsx)(r.pd,{type:"number",placeholder:l("placeholders.sortOrder"),value:null===P||void 0===P?void 0:P.sort_order,name:"sort_order",onChange:e=>N(e)})})})]}),(0,m.jsxs)("div",{className:"row",children:[(0,m.jsx)("div",{className:"col-md-3",children:(0,m.jsx)("div",{className:"form-group mb-3",children:(0,m.jsx)(r.JU,{text:l("labels.description"),required:!0})})}),(0,m.jsx)("div",{className:"col-md-9",children:(0,m.jsxs)("div",{className:"form-group mb-3",children:[(0,m.jsx)(r.pd,{type:"text",placeholder:l("placeholders.description"),value:null===P||void 0===P?void 0:P.description,name:"description",onChange:e=>N(e)}),(null===y||void 0===y?void 0:y.description)&&(0,m.jsx)(d.eo,{text:y.description})]})})]}),(0,m.jsxs)("div",{className:"row",children:[(0,m.jsx)("div",{className:"col-md-3",children:(0,m.jsx)("div",{className:"form-group mb-3",children:(0,m.jsx)(r.JU,{text:l("labels.content")})})}),(0,m.jsx)("div",{className:"col-md-9",children:(0,m.jsx)("div",{className:"form-group mb-3",children:(0,m.jsx)(r.TM,{value:null===P||void 0===P?void 0:P.content,onChange:e=>N(e),name:"content",placeholder:l("placeholders.content")})})})]}),(0,m.jsxs)("div",{className:"row",children:[(0,m.jsx)("div",{className:"col-md-3",children:(0,m.jsx)("div",{className:"form-group mb-3",children:(0,m.jsx)(r.JU,{text:l("labels.selectFile"),required:!0})})}),(0,m.jsx)("div",{className:"col-md-9",children:(0,m.jsx)("div",{className:"form-group mb-3",children:(0,m.jsx)("input",{type:"file",id:"policyFile",name:"poster",className:"form-control ",onChange:e=>{const l=e.target.files[0];b(l)},accept:".png, .jpeg, .doc, .docx, .pdf",ref:_})})})]}),(0,m.jsxs)("div",{className:"row",children:[(0,m.jsx)("div",{className:"col-md-3",children:(0,m.jsx)("div",{className:"form-group mb-3",children:(0,m.jsx)(r.JU,{text:l("labels.isActive")})})}),(0,m.jsx)("div",{className:"col-md-9",children:(0,m.jsx)("div",{className:"form-group mb-3",children:(0,m.jsx)(r.P_,{id:"is_active",checked:null===P||void 0===P?void 0:P.is_active,handleChange:e=>N(e),name:"is_active"},"is_active")})})]})]})}),(0,m.jsx)("div",{className:"offcanvas-footer",children:(0,m.jsx)("div",{className:"d-flex align-items-center justify-content-end gap-3",children:(0,m.jsx)(d.Sv,{text:l(o?"btns.update":"btns.submit"),classNames:"btn btn-org-gradient",handleClick:()=>(async()=>{const e=await(0,c.i6)(n.qO,P);if(e.isValid){const{category_id:e,title:l,description:a,content:i,is_active:s,sort_order:t}=P,d=new FormData;o&&d.append("_id",(null===o||void 0===o?void 0:o._id)||(null===o||void 0===o?void 0:o.id)),d.append("category_id",null===e||void 0===e?void 0:e.value),d.append("title",l),d.append("description",a),d.append("content",i),d.append("is_active",s),d.append("sort_order",Number(t)),d.append("file",f),p(d)}else j(e.errors)})(),isLoading:o?t:a})})})]}),u&&(0,m.jsx)("div",{className:"modal-backdrop fade show"})]})},x=e=>{const{openModel:l,handleOpenClose:a}=e;return(0,m.jsxs)("div",{className:"offcanvas offcanvas-end  "+(l?"show":""),tabIndex:-1,style:{visibility:l?"visible":"hidden",width:"800px"},id:"interviewDetail",children:[(0,m.jsxs)("div",{className:"offcanvas-header",children:[(0,m.jsx)("h5",{className:"offcanvas-title  fs-5 fw-bold text-primary",children:"View Policy "}),(0,m.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close",onClick:()=>a()})]}),(0,m.jsx)("embed",{src:"https://www.antennahouse.com/hubfs/xsl-fo-sample/pdf/basic-link-1.pdf",type:"application/pdf",width:"100%",height:"600"})]})},y=e=>{const{handleActiveTab:l}=e;return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)("div",{className:"cardBox leaveAppli h-100",children:(0,m.jsx)("div",{className:"row",children:(0,m.jsx)("div",{className:"col-4 selectModal position-relative z-1",children:(0,m.jsxs)("div",{className:"row px-md-1 ",children:[(0,m.jsx)("div",{className:"col-md-6 px-md-2 mb-3",onClick:()=>l("policy_category"),children:(0,m.jsxs)("span",{className:"totalBx h-100",children:[(0,m.jsx)("figure",{children:(0,m.jsx)("img",{src:"images/applyleavesIcon.svg",alt:"",width:50})}),(0,m.jsx)("h3",{className:"fw-bolder my-0",children:"Policy category"}),(0,m.jsx)("img",{src:"images/firstlineBlue.svg",className:"cornerLine",alt:"",width:95})]})}),(0,m.jsx)("div",{className:"col-md-6 px-md-2 mb-3",onClick:()=>l("policy"),children:(0,m.jsxs)("span",{className:"totalBx h-100",children:[(0,m.jsx)("figure",{children:(0,m.jsx)("img",{src:"images/attendancelogIcon.svg",alt:"",width:50})}),(0,m.jsx)("h3",{className:"fw-bolder my-0",children:"Policy"}),(0,m.jsx)("img",{src:"images/secondlineBlue.svg",className:"cornerLine",alt:"",width:80})]})})]})})})})})};var j=a(29829),f=a(49985),b=a(86178),P=a.n(b);const C=e=>{const{allPolicyData:l,isLoading:a,handleCreateUpdatePolicyModal:s,toggleDeletePolicyModal:t,currentPage:o,setCurrentPage:d,handleViewPolicyModal:c}=e,[n,v]=(0,i.useState)(l);(0,i.useEffect)((()=>{v(l)}),[l]);const u=(0,i.useMemo)((()=>({sn:(e,l)=>(0,m.jsx)("span",{children:l+1}),is_active:e=>(0,m.jsx)("span",{className:`badge ${(0,f.XN)(e.is_active?"Active":"Inactive")}`,children:e.is_active?"Active":"Inactive"}),created_at:e=>P()(e.created_at).format("DD-MM-YYYY"),action:e=>(0,m.jsxs)("div",{className:"btn-group actionDrp",children:[(0,m.jsx)("button",{type:"button",className:"btn dropdown-toggle-split","data-bs-toggle":"dropdown","aria-expanded":"false",children:(0,m.jsx)("i",{className:"bi bi-three-dots-vertical"})}),(0,m.jsxs)("ul",{className:"dropdown-menu",children:[(0,m.jsx)("li",{children:(0,m.jsxs)("span",{className:"dropdown-item",onClick:()=>{s(e)},children:[(0,m.jsx)(r.In,{className:"bi bi-pencil-square me-1"}),"Update"]})}),(0,m.jsx)("li",{children:(0,m.jsxs)("span",{className:"dropdown-item",onClick:()=>t(e._id),children:[(0,m.jsx)(r.In,{className:"bi bi-trash me-1"}),"Delete"]})}),(0,m.jsx)("li",{children:(0,m.jsxs)("span",{className:"dropdown-item",onClick:()=>c(e._id),children:[(0,m.jsx)(r.In,{className:"bi bi-eye me-1"}),"View"]})})]})]})})),[s]);return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(j.Ak,{data:null===n||void 0===n?void 0:n.data,fields:[{key:"sn",label:"S.N"},{key:"title",label:"Policy Name"},{key:"policy_category_name",label:"Policy Category"},{key:"sort_order",label:"Sort Order"},{key:"is_active",label:"Status"},{key:"created_at",label:"Created At"},{key:"action",label:"Action"}],isLoading:a,pagination:!0,currentPage:o,setCurrentPage:d,totalPages:null===n||void 0===n?void 0:n.totalPages,tableName:"Policy",scopedSlots:u})})},_=e=>{const{t:l}=(0,v.K)(),{allPolicyCategoryData:a,isLoading:s,toggleCreateUpdatePolicyCategoryModal:t,handelDeletePolicyCategory:o,currentPage:d,setCurrentPage:c}=e,[n,u]=(0,i.useState)(a);(0,i.useEffect)((()=>{u(a)}),[a]);const h=(0,i.useMemo)((()=>({sn:(e,l)=>(0,m.jsx)("span",{children:l+1}),is_active:e=>(0,m.jsx)("span",{className:`badge ${(0,f.XN)(e.is_active?"Active":"Inactive")}`,children:e.is_active?"Active":"Inactive"}),created_at:e=>P()(e.created_at).format("DD-MM-YYYY"),action:e=>(0,m.jsxs)("div",{className:"btn-group actionDrp",children:[(0,m.jsx)("button",{type:"button",className:"btn dropdown-toggle-split","data-bs-toggle":"dropdown","aria-expanded":"false",children:(0,m.jsx)("i",{className:"bi bi-three-dots-vertical"})}),(0,m.jsxs)("ul",{className:"dropdown-menu",children:[(0,m.jsx)("li",{children:(0,m.jsxs)("span",{className:"dropdown-item",onClick:()=>{t(e)},children:[(0,m.jsx)(r.In,{className:"bi bi-pencil-square me-1"}),"Update"]})}),(0,m.jsx)("li",{children:(0,m.jsxs)("span",{className:"dropdown-item",onClick:()=>o(e.id),children:[(0,m.jsx)(r.In,{className:"bi bi-trash me-1"}),"Delete"]})})]})]})})),[t]);return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(j.Ak,{data:null===n||void 0===n?void 0:n.data,fields:[{key:"sn",label:"S.N"},{key:"name",label:"Policy Category Name"},{key:"sort_order",label:"Sort Order"},{key:"is_active",label:"Status"},{key:"created_at",label:"Created At"},{key:"action",label:"Action"}],isLoading:s,pagination:!0,currentPage:d,setCurrentPage:c,totalPages:null===n||void 0===n?void 0:n.totalPages,tableName:l("headings.policyCategory"),scopedSlots:h})})},N=()=>{const e=(0,s.wA)(),{t:l}=(0,v.K)(),{createPolicyCategoryPending:a,createPolicyCategoryRes:c,createPolicyCategoryError:n,getAllPolicyCategorysPending:r,getAllPolicyCategorysRes:g,getAllPolicyCategorysError:j,updatePolicyCategoryPending:f,updatePolicyCategoryRes:b,updatePolicyCategoryError:P,deletePolicyCategoryPending:N,deletePolicyCategoryRes:E,deletePolicyCategoryError:k,createPolicyPending:A,createPolicyRes:R,createPolicyError:S,getAllPolicyPending:L,getAllPolicyRes:w,getAllPolicyError:D,updatePolicyPending:O,updatePolicyRes:T,updatePolicyError:I,deletePolicyPending:Y,deletePolicyRes:U,deletePolicyError:q,getPolicyCategoryListPending:M,getPolicyCategoryListRes:F,getPolicyCategoryListError:H}=(0,s.d4)((e=>e.policies)),[J,$]=(0,i.useState)(!1),[B,G]=(0,i.useState)(""),[V,X]=(0,i.useState)(1),[K,z]=(0,i.useState)(""),[Q,W]=(0,i.useState)(!1),[Z,ee]=(0,i.useState)(""),[le,ae]=(0,i.useState)("policy_category"),[ie,se]=(0,i.useState)(!1),[te,oe]=(0,i.useState)(""),[de,ce]=(0,i.useState)(!1),[ne,re]=(0,i.useState)(),[ve,me]=(0,i.useState)(""),[ue,he]=(0,i.useState)(""),[ge,pe]=(0,i.useState)(""),[xe,ye]=(0,i.useState)(!1),[je,fe]=(0,i.useState)("");(0,i.useEffect)((()=>{Pe(),Ne()}),[V]);const be=e=>{z(e||""),$(!J)};(0,i.useEffect)((()=>{if(!a){if(n)return void e(t.kE.handleClearPolicyStore("HANDLE_CLEAR_CREATE_POLICY_CATEGORY_STOREE"));c&&200===(null===c||void 0===c?void 0:c.code)&&(e(t.kE.handleClearPolicyStore("HANDLE_CLEAR_CREATE_POLICY_CATEGORY_STORE")),Pe(),$(!J))}}),[c,n,a]),(0,i.useEffect)((()=>{if(!f){if(P)return void e(t.kE.handleClearPolicyStore("HANDLE_CLEAR_UPDATE_POLICY_CATEGORY_STORE"));b&&200===(null===b||void 0===b?void 0:b.code)&&(e(t.kE.handleClearPolicyStore("HANDLE_CLEAR_UPDATE_POLICY_CATEGORY_STORE")),Pe(),$(!J))}}),[b,P,f]);const Pe=()=>{const l={page:V,limit:o.X$.limit};e(t.kE.getAllPolicyCategorysRequest(l))};(0,i.useEffect)((()=>{if(!r){if(j)return;if(g&&200===(null===g||void 0===g?void 0:g.code)){const e=null===g||void 0===g?void 0:g.data;G(e)}}}),[g,j,r]);const Ce=e=>{e&&ee(e),W(!Q)};(0,i.useEffect)((()=>{if(!N){if(k)return void e(t.kE.handleClearPolicyStore("HANDLE_CLEAR_DELETE_POLICY_CATEGORY_STORE"));var l;if(E)if(200===(null===E||void 0===E?void 0:E.code))e(t.kE.handleClearPolicyStore("HANDLE_CLEAR_DELETE_POLICY_CATEGORY_STORE")),V>1&&1===(null===B||void 0===B||null===(l=B.data)||void 0===l?void 0:l.length)?X((e=>e-1)):Pe(),Ce()}}),[E,k,N]);const _e=e=>{me(e||""),se(!ie)};(0,i.useEffect)((()=>{if(!A){if(S)return void e(t.kE.handleClearPolicyStore("HANDLE_CLEAR_CREATE_POLICY_STORE"));R&&200===(null===R||void 0===R?void 0:R.code)&&(se(!ie),Ne(),e(t.kE.handleClearPolicyStore("HANDLE_CLEAR_CREATE_POLICY_STORE")))}}),[R,S,A]),(0,i.useEffect)((()=>{if(!O){if(I)return void e(t.kE.handleClearPolicyStore("HANDLE_CLEAR_UPDATE_POLICY_STORE"));T&&200===(null===T||void 0===T?void 0:T.code)&&(se(!ie),Ne(),e(t.kE.handleClearPolicyStore("HANDLE_CLEAR_UPDATE_POLICY_STORE")))}}),[T,I,O]);const Ne=()=>{const l={page:V,limit:null===o.X$||void 0===o.X$?void 0:o.X$.limit};e(t.kE.getAllPolicyRequest(l))};(0,i.useEffect)((()=>{if(!L){if(D)return;if(w&&200===(null===w||void 0===w?void 0:w.code)){const e=null===w||void 0===w?void 0:w.data;oe(e)}}}),[w,D,L]);const Ee=e=>{e&&re(e),ce(!de)};(0,i.useEffect)((()=>{if(!Y){if(q)return void e(t.kE.handleClearPolicyStore("HANDLE_CLEAR_DELETE_POLICY_STORE"));var l;if(U)if(200===(null===U||void 0===U?void 0:U.code))Ee(),V>1&&1===(null===te||void 0===te||null===(l=te.data)||void 0===l?void 0:l.length)?X((e=>e-1)):Ne(),e(t.kE.handleClearPolicyStore("HANDLE_CLEAR_DELETE_POLICY_STORE"))}}),[U,q,Y]);const ke=()=>{e(t.kE.getPolicyCategoryListRequest())};(0,i.useEffect)((()=>{if(!M){if(H)return;if(F&&200===(null===F||void 0===F?void 0:F.code)){const e=null===F||void 0===F?void 0:F.data;pe(e)}}}),[F,H,M]);const Ae=e=>{ye(!xe),fe(e)};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(y,{handleActiveTab:e=>{ae(e),X(1),"policy"===e&&ke()}}),"policy_category"===le&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:"d-flex justify-content-end ",children:(0,m.jsx)(d.Sv,{classNames:"btn btn-primary gradientBg mt-3",text:l("btns.createPolicyCategory"),handleClick:()=>be()})}),(0,m.jsx)(_,{allPolicyCategoryData:B,toggleCreateUpdatePolicyCategoryModal:be,handelDeletePolicyCategory:Ce,setCurrentPage:X,currentPage:V,isLoading:r}),(0,m.jsx)(u,{openModel:J,handleOpenClose:be,handleCreateUpdatePolicyCategory:l=>{K?(l._id=(null===K||void 0===K?void 0:K.id)||(null===K||void 0===K?void 0:K._id),e(t.kE.updatePolicyCategoryRequest(l))):e(t.kE.createPolicyCategoryRequest(l))},selectedPolicyCategoryData:K}),Q&&(0,m.jsx)(h.A,{onApproveReject:l=>{if(l){const l={_id:Z};e(null===t.kE||void 0===t.kE?void 0:t.kE.deletePolicyCategoryRequest(l))}else Ce()},isShow:Q,desc:l("alerts.deletePopup.desc").replace("$1","Policies"),btnRightLoading:N,btnTextRight:l("btns.delete"),btnTextLeft:l("btns.cancel")})]}),"policy"===le&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:"d-flex  justify-content-end ",children:(0,m.jsx)(d.Sv,{classNames:"btn btn-primary gradientBg mt-3",text:l("btns.createPolicy"),handleClick:()=>_e()})}),(0,m.jsx)(p,{openModel:ie,handleOpenClose:_e,handleCreateUpdatePolicy:l=>{e(ve?t.kE.updatePolicyRequest(l):t.kE.createPolicyRequest(l))},selectedPolicy:ve,allPolicyCategoryListData:ge}),(0,m.jsx)(C,{allPolicyData:te,handleCreateUpdatePolicyModal:_e,toggleDeletePolicyModal:Ee,currentPage:V,setCurrentPage:X,isLoading:L,handleViewPolicyModal:Ae}),(0,m.jsx)(x,{openModel:xe,handleOpenClose:Ae,policyFileName:je}),de&&(0,m.jsx)(h.A,{onApproveReject:l=>{if(l){const l={_id:ne};e(null===t.kE||void 0===t.kE?void 0:t.kE.deletePolicyRequest(l))}else Ee()},isShow:de,desc:l("alerts.deletePopup.desc").replace("$1","Policy"),btnRightLoading:Y,btnTextRight:l("btns.delete"),btnTextLeft:l("btns.cancel")})]})]})}}}]);
//# sourceMappingURL=4471.87123e74.chunk.js.map