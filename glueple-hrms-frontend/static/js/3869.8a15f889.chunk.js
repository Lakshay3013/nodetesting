"use strict";(self.webpackChunkglueple_user=self.webpackChunkglueple_user||[]).push([[3869],{39041:(e,a,t)=>{t(65043),t(70579)},43123:(e,a,t)=>{t.d(a,{A:()=>m});var i=t(65043),l=(t(85831),t(34348)),s=t.n(l),n=t(49985),o=t(29829),d=t(90607),c=t(50586),r=t(70579);const m=e=>{const{t:a}=(0,d.K)(),{designationList:t,isLoading:l,setSelectedDesignation:m,toggleDesignation:u,onHandleDeleteModal:v,setCurrentPage:p,currentPage:g}=e,[h,x]=(0,i.useState)(),f=(0,n.Yo)("update_designation"),b=(0,n.Yo)("delete_designation");(0,i.useEffect)((()=>{x(t)}),[t]);const N=(0,i.useMemo)((()=>({sn:(e,a)=>(0,r.jsx)("span",{children:a+1}),is_active:e=>(0,r.jsx)("span",{className:`badge ${(0,n.XN)(e.is_active?"Active":"Inactive")}`,children:e.is_active?"Active":"Inactive"}),created_at:e=>s()(e.created_at).format("DD-MM-YYYY"),action:e=>(0===(null===e||void 0===e?void 0:e.emp_count)||f)&&(0,r.jsxs)("div",{className:"btn-group actionDrp",children:[(0,r.jsx)("button",{type:"button",className:"btn dropdown-toggle-split","data-bs-toggle":"dropdown","aria-expanded":"false",children:(0,r.jsx)("i",{className:"bi bi-three-dots-vertical"})}),(0,r.jsxs)("ul",{className:"dropdown-menu",children:[f&&(0,r.jsx)("li",{children:(0,r.jsxs)("span",{className:"dropdown-item",onClick:()=>(m(e),void u()),children:[(0,r.jsx)(c.In,{className:"bi bi-pencil-square me-1"}),"Update"]})}),0===(null===e||void 0===e?void 0:e.emp_count)&&b&&(0,r.jsx)("li",{children:(0,r.jsxs)("span",{className:"dropdown-item",onClick:()=>v(e._id),children:[(0,r.jsx)(c.In,{className:"bi bi-trash me-1"}),"Delete"]})})]})]})})),[m,u,v]),j=[{key:"sn",label:"S.N"},{key:"department_name",label:"Department Name"},{key:"name",label:"Name"},{key:"short_name",label:"Short Name"},{key:"emp_count",label:"Total Employees"},{key:"is_active",label:"Status"},{key:"created_at",label:"Created At"},(f||b)&&{key:"action",label:"Action"}];return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(o.Ak,{data:null===h||void 0===h?void 0:h.data,fields:j,isLoading:l,pagination:!0,currentPage:g,setCurrentPage:p,totalPages:null===h||void 0===h?void 0:h.totalPages,isHeader:!1,tableStyle:{padding:"0px",boxShadow:"none"},scopedSlots:N})})}},44060:(e,a,t)=>{t(43123)},62405:(e,a,t)=>{t(65043),t(42145),t(92342),t(70579)},67565:(e,a,t)=>{t.d(a,{A:()=>v});var i=t(65043),l=t(22166),s=t(85831),n=t(94174),o=t(42145),d=t(80728),c=(t(80899),t(26181)),r=t(33474),m=(t(62405),t(4418),t(52027)),u=t(70579);const v=e=>{(0,i.useRef)(null);const{TemplateList:a,openAction:t,getAllAction:v,toggleOpenAction:p,getAllEmailTemplalte:g,setSelectedActionData:h,selectedActionData:x,onHandleViewModals:f}=e,[b,N]=(0,i.useState)({}),j=(0,l.wA)(),{addActionTemplatePending:_,addActionTemplateRes:A,addActionTemplateError:y,GetActionTypeTemplatePending:T,GetActionTypeTemplateRes:k,GetActionTypeTemplateError:w}=(0,l.d4)((e=>e.emailtemplate)),[S,C]=(0,i.useState)(!1),[E,I]=(0,i.useState)(""),[D,F]=(0,i.useState)(""),[R,z]=(0,i.useState)([]),[P,q]=(0,i.useState)(1),[L,H]=(0,i.useState)({template_name:"",email_title:"",email_type:"",body:"",is_active:"",remark:""}),[U,G]=(0,i.useState)({action_name:"",action_type:"",template_id:""}),[M,O]=(0,i.useState)(null===a||void 0===a?void 0:a.data);(0,i.useEffect)((()=>{O(null===a||void 0===a?void 0:a.data)}),[a]),(0,i.useEffect)((()=>{V()}),[P]);const V=()=>{const e={page:P,limit:m.X$.limit};j(n.JN.GetActionTypeTemplateRequest(e))};(0,i.useEffect)((()=>{if(!T){if(w)return void z([]);var e;if(k)if(200==(null===k||void 0===k?void 0:k.code))z(null===k||void 0===k||null===(e=k.data)||void 0===e?void 0:e.data)}}),[T,k,w]),(0,i.useEffect)((()=>{G({action_name:(null===x||void 0===x?void 0:x.action_name)||"",action_type:(null===x||void 0===x?void 0:x.action_type)||"",template_id:x.template_id||""}),C(null===x||void 0===x?void 0:x.is_active),F(null===x||void 0===x?void 0:x.id)}),[x]),(0,i.useEffect)((()=>{if(!_){if(y)return void o.oR.error(null===y||void 0===y?void 0:y.errorMessage);A&&200===(null===A||void 0===A?void 0:A.code)&&(p(),v(),j(n.JN.handleClearEmailTemplateStore("HANDLE_CLEAR_ADD_ACTION_TEMPLATE_STORE")))}}),[A,y,_]);const X=e=>{b&&N({});const{name:a,value:t}=e.target;G({...U,[a]:t})};(0,i.useEffect)((()=>{0==t&&B()}),[t]);const B=()=>{G({action_name:"",action_type:"",template_id:""}),h(""),N({}),I("")};return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("div",{className:"offcanvas offcanvas-end creatNewTicketOff "+(t?"show":""),tabIndex:-1,style:{visibility:t?"visible":"hidden"},children:[(0,u.jsxs)("div",{className:"offcanvas-header",children:[(0,u.jsxs)("h5",{className:"offcanvas-title  fs-5 fw-bold text-primary",children:[f?"View":x?"Update":"Create New"," Action"]}),(0,u.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close",onClick:()=>p("view")})]}),(0,u.jsx)("div",{className:"offcanvas-body",children:(0,u.jsxs)("div",{className:"formPanel",children:[(0,u.jsxs)("div",{className:"row",children:[(0,u.jsx)("div",{className:"col-md-3",children:(0,u.jsx)("div",{className:"form-group mb-3",children:(0,u.jsxs)("label",{htmlFor:!0,children:["Action Name",(0,u.jsx)("span",{className:"text-danger",children:"*"})]})})}),(0,u.jsx)("div",{className:"col-md-9",children:(0,u.jsxs)("div",{className:"form-group mb-3",children:[(0,u.jsx)("input",{type:"text",className:"form-control fs-7",placeholder:"Enter Action Name",name:"action_name",value:(null===U||void 0===U?void 0:U.action_name)||"",onChange:e=>X(e)}),(null===b||void 0===b?void 0:b.template_name)&&(0,u.jsx)(r.A,{text:b.template_name})]})})]}),(0,u.jsxs)("div",{className:"row",children:[(0,u.jsx)("div",{className:"col-md-3",children:(0,u.jsx)("div",{className:"form-group mb-3",children:(0,u.jsxs)("label",{htmlFor:!0,children:["Action Type",(0,u.jsx)("span",{className:"text-danger",children:"*"})]})})}),(0,u.jsx)("div",{className:"col-md-9",children:(0,u.jsxs)("div",{className:"form-group mb-3",children:[(0,u.jsxs)("select",{className:"form-select",required:!0,name:"action_type",value:null===U||void 0===U?void 0:U.action_type,onChange:e=>X(e),disabled:""!=f,children:[(0,u.jsx)("option",{value:"",hidden:!0,selected:!0,children:"Select Required Action Type"}),R&&(null===R||void 0===R?void 0:R.map((e=>(0,u.jsx)("option",{value:null===e||void 0===e?void 0:e.action_name,children:null===e||void 0===e?void 0:e.action_name}))))]}),(null===b||void 0===b?void 0:b.email_title)&&(0,u.jsx)(r.A,{text:b.action_type})]})})]}),(0,u.jsxs)("div",{className:"row",children:[(0,u.jsx)("div",{className:"col-md-3",children:(0,u.jsx)("div",{className:"form-group mb-3",children:(0,u.jsxs)("label",{htmlFor:!0,children:["Select Email Template",(0,u.jsx)("span",{className:"text-danger",children:"*"})]})})}),(0,u.jsx)("div",{className:"col-md-9",children:(0,u.jsxs)("div",{className:"form-group mb-3",children:[(0,u.jsxs)("select",{className:"form-select",required:!0,name:"template_id",value:null===U||void 0===U?void 0:U.template_id,onChange:e=>X(e),disabled:""!=f,children:[(0,u.jsx)("option",{value:"",hidden:!0,selected:!0,children:"Select Required Email Type"}),M&&(null===M||void 0===M?void 0:M.map((e=>(0,u.jsx)("option",{value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.template_name}))))]}),(null===b||void 0===b?void 0:b.email_type)&&(0,u.jsx)(r.A,{text:b.template_id})]})})]}),(0,u.jsxs)("div",{className:"row",children:[(0,u.jsx)("div",{className:"col-md-3",children:(0,u.jsx)("div",{className:"form-group mb-3",children:(0,u.jsx)("label",{htmlFor:!0,children:"Is Active"})})}),(0,u.jsxs)("div",{className:"col-md-9",children:[(0,u.jsx)("div",{className:"form-group mb-3",children:(0,u.jsx)("input",{type:"checkbox",placeholder:"Is Active",checked:S,onChange:e=>C(!S),disabled:""!=f})}),(null===b||void 0===b?void 0:b.is_active)&&(0,u.jsx)(r.A,{text:b.is_active})]})]}),(0,u.jsx)("div",{className:"d-flex align-items-center justify-content-end gap-2",children:""==f&&(0,u.jsx)(s.Sv,{type:"button",classNames:"btn btn-primary gradientBg",handleClick:e=>(async()=>{U.is_active=S;const e=await(0,c.i6)(d.Xt,U);e.isValid?(N({}),x?(U._id=D,j(n.JN.UpdataActionTemplateRequest(U)),v(),p()):(j(n.JN.AddActionTemplateRequest(U)),v())):N(e.errors)})(),text:(x?"Update":"Create")+" Action"})})]})})]})})}},30454:(e,a,t)=>{t(65043),t(22166),t(85831),t(94174),t(42145),t(80728),t(26181),t(33474),t(70579)},4418:(e,a,t)=>{t.d(a,{A:()=>c});t(13739);var i=t(77848),l=t(59969),s=t(65043),n=t(94174),o=t(22166),d=t(70579);const c=e=>{const a=(0,s.useRef)(""),t=(0,o.wA)(),{editorData:c,setEditorData:r,dropdownValue:m,setDropdownValue:u,bodydata:v}=e;(0,s.useEffect)((()=>{g(m),void 0!==v&&p(v)}),[m,v]);const p=e=>{const t=a.current.editor,i=(null===t||void 0===t?void 0:t.getData())+(null===e||void 0===e?void 0:e.replaceAll("&lt;","<"));null===t||void 0===t||t.setData(i)},g=e=>{const t=a.current.editor,i=null===e||void 0===e?void 0:e.replaceAll("&lt;","<");null===t||void 0===t||t.model.change((e=>{const a=t.model.document.selection.getFirstPosition();e.insertText(i,a)}))};return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(i.FQ,{context:l.obS,contextWatchdog:l.Zdk,children:(0,d.jsx)(i.aF,{editor:l.aRV,data:c,config:{plugins:[l.uwK,l.yN4,l.J20,l.fzL,l.NGz,l.N_E,l.smP,l.B8B,l.XIK,l.e1U,l._V3,l.FUH,l.qIF,l.bsd,l.uXn,l.eHb,l.fTX,l.$ts,l.FG2,l.PQA,l.f4q,l.DZT,l.KQV,l.ayq,l.NeA,l.CyN,l.GkN,l.Eac,l.Z3f,l.z2z,l.TgZ,l._KA,l.Y0,l.He$,l.H09,l.FRC,l.ozN,l.OF1,l.rwA,l.Z4w,l.$r$,l.C1k,l.PXQ,l.Syw,l.n7r,l.ybQ,l.q2u],toolbar:{items:["undo","redo","heading","|","bold","italic","Alignment","|","link","bulletedList","numberedList","insertImage","image","simpleUploadAdapter","insertTable","sourceEditing","fullPage","highlight","font","fontColor","style","textPartLanguage","|","fontSize","fontFamily","|","findAndReplace","underline","strikethrough","code","subscript","superscript","indent","outdent","blockQuote","horizontalLine","image","AutoImage","Markdown","codeBlock","mention","mediaEmbed","htmlComment","removeFormat","linkImage","htmlEmbed"],shouldNotGroupWhenFull:!0},style:{definitions:[{name:"Article Category",element:"h3",classes:["category"]},{name:"Info Box",element:"p",classes:["info-box"]},{name:"Quotation",element:"blockquote",classes:["quote"]},{name:"Code Snippet",element:"code",classes:["code-snippet"]},{name:"Warning Box",element:"div",classes:["warning-box"]},{name:"Highlight",element:"span",classes:["highlight"]}]},simpleUpload:{uploadUrl:"http://localhost:3001/v1/api/add-template-image",withCredentials:!0,headers:{"X-CSRF-TOKEN":"CSRF-Token",Authorization:"Bearer <JSON Web Token>"}},image:{resizeOptions:[{name:"resizeImage:original",value:null,icon:"original"},{name:"resizeImage:custom",value:"custom",icon:"custom"},{name:"resizeImage:50",value:"50",icon:"medium"},{name:"resizeImage:75",value:"75",icon:"large"}],toolbar:["toggleImageCaption","imageTextAlternative","ckboxImageEdit","resizeImage:50","resizeImage:75","resizeImage:original","resizeImage:custom"]},htmlSupport:{allow:[{attributes:!0,classes:!0,styles:!0}]},htmlEmbed:{showPreviews:!0}},onReady:e=>{a.current={editor:e}},onChange:(e,i)=>((e,i)=>{var l;const s=i.getData(),o=null===a||void 0===a||null===(l=a.current)||void 0===l?void 0:l.previousData;if(!o||o===s)return r(s),void(a.current.previousData=s);const d=[...(null===o||void 0===o?void 0:o.matchAll(/<img.*?src="(.*?)"/g))||[]].map((e=>e[1])),c=[...(null===s||void 0===s?void 0:s.matchAll(/<img.*?src="(.*?)"/g))||[]].map((e=>e[1]));d.filter((e=>!c.includes(e))).forEach((e=>t(n.JN.RemoveImageRequest({url:e})))),a.current.previousData=s,r(s)})(0,i)})})})}},92342:()=>{}}]);
//# sourceMappingURL=3869.8a15f889.chunk.js.map