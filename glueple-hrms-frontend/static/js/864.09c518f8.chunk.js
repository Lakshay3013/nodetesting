"use strict";(self.webpackChunkglueple_user=self.webpackChunkglueple_user||[]).push([[864],{3334:(e,t,a)=>{a.r(t),a.d(t,{default:()=>F});var s=a(5043),n=a(9657),l=a(4348),d=a.n(l),r=(a(4018),a(579));const i=e=>{const{text:t,style:a}=e;let s=a||{fontSize:"23px",textAlign:"center",paddingTop:"20px"};return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{style:{height:"10%",display:"flex",position:"relative",inset:"25% 0px 0px 70%",zIndex:"2",justifyContent:"center",margin:"40px"},children:(0,r.jsx)("p",{className:"text-danger",style:s,children:t||"Data Not Found"})})})};var o=a(4600),c=a.n(o),m=a(7852);a(8232);var v=a(1456);a(6723);"undefined"!==typeof a.g&&a.g.navigator&&a.g.navigator.product,new WeakMap;var p=a(4140);const h=["onKeyDown"];const u=s.forwardRef(((e,t)=>{let{onKeyDown:a}=e,s=function(e,t){if(null==e)return{};var a,s,n={},l=Object.keys(e);for(s=0;s<l.length;s++)a=l[s],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,h);const[n]=(0,p.Am)(Object.assign({tagName:"a"},s)),l=(0,v.A)((e=>{n.onKeyDown(e),null==a||a(e)}));return(d=s.href)&&"#"!==d.trim()&&"button"!==s.role?(0,r.jsx)("a",Object.assign({ref:t},s,{onKeyDown:a})):(0,r.jsx)("a",Object.assign({ref:t},s,n,{onKeyDown:l}));var d}));u.displayName="Anchor";const x=u,j=s.forwardRef(((e,t)=>{let{active:a=!1,disabled:s=!1,className:n,style:l,activeLabel:d="(current)",children:i,linkStyle:o,linkClassName:m,as:v=x,...p}=e;const h=a||s?"span":v;return(0,r.jsx)("li",{ref:t,style:l,className:c()(n,"page-item",{active:a,disabled:s}),children:(0,r.jsxs)(h,{className:c()("page-link",m),style:o,...p,children:[i,a&&d&&(0,r.jsx)("span",{className:"visually-hidden",children:d})]})})}));j.displayName="PageItem";const f=j;function N(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;const n=s.forwardRef(((e,s)=>{let{children:n,...l}=e;return(0,r.jsxs)(j,{...l,ref:s,children:[(0,r.jsx)("span",{"aria-hidden":"true",children:n||t}),(0,r.jsx)("span",{className:"visually-hidden",children:a})]})}));return n.displayName=e,n}const g=N("First","\xab"),D=N("Prev","\u2039","Previous"),b=N("Ellipsis","\u2026","More"),E=N("Next","\u203a"),A=N("Last","\xbb"),y=s.forwardRef(((e,t)=>{let{bsPrefix:a,className:s,size:n,...l}=e;const d=(0,m.oU)(a,"pagination");return(0,r.jsx)("ul",{ref:t,...l,className:c()(s,d,n&&"".concat(d,"-").concat(n))})}));y.displayName="Pagination";const S=Object.assign(y,{First:g,Prev:D,Ellipsis:b,Item:f,Next:E,Last:A}),C=e=>{let{currentPage:t,totalPages:a,onPageChange:s}=e;const n=e=>{s(e)};return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(S,{children:[(0,r.jsx)(S.Prev,{onClick:()=>t>1&&n(t-1),disabled:1===t}),[...Array(a)].map(((e,a)=>(0,r.jsx)(S.Item,{active:a+1===t,onClick:()=>n(a+1),children:a+1},a+1))),(0,r.jsx)(S.Next,{onClick:()=>t<a&&n(t+1),disabled:t===a})]})})},_=e=>{const{departmentList:t,isLoading:a,setSelectedDepartmentData:l,toggleDepartmentModal:o,onhandleDeleteModal:c,currentPage:m,setCurrentPage:v}=e,[p,h]=(0,s.useState)(t);(0,s.useEffect)((()=>{h(t)}),[t]);return(0,r.jsxs)("div",{className:"cardBox mb-3 mt-3",children:[(0,r.jsxs)("div",{className:"cardHead d-flex align-items-center justify-content-between",children:[(0,r.jsx)("h3",{children:"Departments List"}),(0,r.jsxs)("div",{className:"d-flex",children:[(0,r.jsx)("div",{className:"ticketFilter",children:(0,r.jsx)("input",{type:"text",className:"form-control fs-7",placeholder:"Filter.."})}),(0,r.jsx)(n.Sv,{text:"Search",classNames:"btn btn-primary p-1 ms-3"})]})]}),(0,r.jsx)("div",{className:"table-responsive tableDiv",children:(0,r.jsxs)("table",{className:"table",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Name"}),(0,r.jsx)("th",{children:"Short Name"}),(0,r.jsx)("th",{children:"Total Employee"}),(0,r.jsx)("th",{children:"Status"}),(0,r.jsx)("th",{children:"Created At"}),(0,r.jsx)("th",{children:"Action"})]})}),(0,r.jsxs)("tbody",{children:[(()=>{var e;return!a&&p&&(null===p||void 0===p?void 0:p.data.length)>0&&(null===p||void 0===p||null===(e=p.data)||void 0===e?void 0:e.map(((e,t)=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:e.name}),(0,r.jsx)("td",{children:e.short_name}),(0,r.jsx)("td",{children:e.emp_count}),(0,r.jsx)("td",{children:(0,r.jsx)("span",{className:"badge ".concat(null!==e&&void 0!==e&&e.is_active?"text-success":"text-danger"),children:null!==e&&void 0!==e&&e.is_active?"Active":"Inactive"})}),(0,r.jsx)("td",{children:d()(null===e||void 0===e?void 0:e.created_at).format("DD-MM-YYYY")}),(0,r.jsx)("td",{children:(0,r.jsxs)("div",{className:"actionGroup d-flex gap-2",children:[(0,r.jsx)(n.Sv,{text:"Update",classNames:"btn btn-primary",handleClick:()=>(l(e),void o())}),(0,r.jsx)(n.Sv,{text:"Delete",handleClick:()=>c(null===e||void 0===e?void 0:e._id),classNames:"btn btn-danger"})]})})]},t))))})(),0==(null===p||void 0===p?void 0:p.data)&&!a&&(0,r.jsx)(i,{}),a&&(0,r.jsx)(n.L,{isShow:a,size:"xl"})]}),(0,r.jsx)(C,{currentPage:m,onPageChange:e=>v(e)})]})})]})};var R=a(8334),P=a(2166),w=a(4174),L=(a(2145),a(728)),T=(a(899),a(6181)),k=a(3474);a(2405);const M=e=>{const{getAllDepartments:t,openCreateUpdateDepModal:a,toggleDepartmentModal:l,selectedDepartmentData:d,setSelectedDepartmentData:i}=e,[o,c]=(0,s.useState)({}),m=(0,P.wA)(),{addDepartmentPending:v,addDepartmentRes:p,addDepartmentError:h,updateDepartmentPending:u,updateDepartmentRes:x,updateDepartmentError:j}=(0,P.d4)((e=>e.department)),[f,N]=(0,s.useState)(!1),[g,D]=(0,s.useState)(""),[b,E]=(0,s.useState)({depName:"",shortName:""});(0,s.useEffect)((()=>{if(!v){if(h)return void m(w.vd.handleClearDepartmentStore("HANDLE_CLEAR_ADD_DEPARTMENT_STORE"));var e;if(p)200==(null===p||void 0===p||null===(e=p.data)||void 0===e?void 0:e.code)&&(m(w.vd.handleClearDepartmentStore("HANDLE_CLEAR_ADD_DEPARTMENT_STORE")),y(),t())}}),[v,p,h]),(0,s.useEffect)((()=>{if(!u){if(j)return void m(w.vd.handleClearDepartmentStore("HANDLE_CLEAR_UPDATE_DEPARTMENT_STORE"));var e;if(x)200==(null===x||void 0===x||null===(e=x.data)||void 0===e?void 0:e.code)&&(m(w.vd.handleClearDepartmentStore("HANDLE_CLEAR_UPDATE_DEPARTMENT_STORE")),t())}}),[u,x,j]);const A=e=>{o&&c({});const{name:t,value:a}=e.target;E({...b,[t]:a})};(0,s.useEffect)((()=>{E({depName:(null===d||void 0===d?void 0:d.name)||"",shortName:(null===d||void 0===d?void 0:d.short_name)||""}),N(null===d||void 0===d?void 0:d.is_active),D(null===d||void 0===d?void 0:d._id)}),[d]),(0,s.useEffect)((()=>{0==a&&y()}),[a]);const y=()=>{E({depName:"",shortName:""}),i(""),c({})};return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"offcanvas offcanvas-end creatNewTicketOff ".concat(a?"show":""),tabIndex:-1,style:{visibility:a?"visible":"hidden"},children:[(0,r.jsxs)("div",{className:"offcanvas-header",children:[(0,r.jsxs)("h5",{className:"offcanvas-title  fs-5 fw-bold text-primary",children:[" ",d?"Update":"Create New"," Department"]}),(0,r.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close",onClick:()=>l()})]}),(0,r.jsx)("div",{className:"offcanvas-body",children:(0,r.jsxs)("div",{className:"formPanel",children:[(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("div",{className:"col-md-3",children:(0,r.jsx)("div",{className:"form-group mb-3",children:(0,r.jsxs)("label",{htmlFor:!0,children:["Name ",(0,r.jsx)("span",{className:"text-danger",children:"*"})]})})}),(0,r.jsx)("div",{className:"col-md-9",children:(0,r.jsxs)("div",{className:"form-group mb-3",children:[(0,r.jsx)("input",{type:"text",className:"form-control fs-7",placeholder:"Enter Department Name",name:"depName",value:(null===b||void 0===b?void 0:b.depName)||"",onChange:e=>A(e)}),(null===o||void 0===o?void 0:o.depName)&&(0,r.jsx)(k.A,{text:o.depName})]})})]}),(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("div",{className:"col-md-3",children:(0,r.jsx)("div",{className:"form-group mb-3",children:(0,r.jsxs)("label",{htmlFor:!0,children:["Short Name ",(0,r.jsx)("span",{className:"text-danger",children:"*"})]})})}),(0,r.jsx)("div",{className:"col-md-9",children:(0,r.jsxs)("div",{className:"form-group mb-3",children:[(0,r.jsx)("input",{type:"text",className:"form-control fs-7",name:"shortName",placeholder:"Enter Short Name",value:null===b||void 0===b?void 0:b.shortName,onChange:e=>A(e)}),(null===o||void 0===o?void 0:o.shortName)&&(0,r.jsx)(k.A,{text:o.shortName})]})})]}),(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("div",{className:"col-md-3",children:(0,r.jsx)("div",{className:"form-group mb-3",children:(0,r.jsx)("label",{htmlFor:!0,children:"Is Active"})})}),(0,r.jsx)("div",{className:"col-md-9",children:(0,r.jsx)("div",{className:"form-group mb-3",children:(0,r.jsx)("input",{type:"checkbox",placeholder:"Is Active",checked:f,onChange:e=>N(!f)})})})]}),(0,r.jsx)("div",{className:"d-flex align-items-center justify-content-end gap-2",children:(0,r.jsx)(n.Sv,{type:"button",classNames:"btn btn-primary gradientBg",handleClick:e=>(async()=>{const e=await(0,T.i6)(L.JU,b);if(e.isValid){c({});const e={name:(null===b||void 0===b?void 0:b.depName)||"",short_name:(null===b||void 0===b?void 0:b.shortName)||"",is_active:!!f};console.log(e,"params...."),d?(e._id=g,m(w.vd.updateDepartmentRequest(e))):m(w.vd.addDepartmentRequest(e))}else c(e.errors)})(),isLoading:d?u:v,text:"".concat(d?"Update":"Create"," Department")})})]})})]})})};var O=a(7656);const F=()=>{const e=(0,P.wA)(),{getAllDepartmentRes:t,getAllDepartmentError:a,getAllDepartmentPending:n}=(0,P.d4)((e=>e.department)),{deleteDepartmentPending:l,deleteDepartmentRes:d,deleteDepartmentError:i}=(0,P.d4)((e=>e.department)),[o,c]=(0,s.useState)(""),[m,v]=(0,s.useState)(""),[p,h]=(0,s.useState)(!1),[u,x]=(0,s.useState)(),[j,f]=(0,s.useState)(!1),[N,g]=(0,s.useState)(1),D=()=>{h(!p)};(0,s.useEffect)((()=>{b()}),[]);const b=()=>{e(w.vd.getAllDepartmentRequest({page:1,limit:5}))};(0,s.useEffect)((()=>{if(!n){if(a)return;var e,s,l;if(t)if(200===(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.code))c(null===t||void 0===t||null===(s=t.data)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.data)}}),[t,a,n]);return(0,s.useEffect)((()=>{if(!l){if(i)return void e(w.vd.handleClearDepartmentStore("HANDLE_CLEAR_DELETE_DEPARTMENT_STORE"));var t;if(d)200==(null===d||void 0===d||null===(t=d.data)||void 0===t?void 0:t.code)&&(e(w.vd.handleClearDepartmentStore("HANDLE_CLEAR_DELETE_DEPARTMENT_STORE")),b())}}),[d,i,l]),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"cardHead d-flex align-items-center justify-content-between",children:(0,r.jsx)(R.A,{btnClassName:"btn btn-primary gradientBg",onClickFun:()=>D(),children:"Create New Department"})}),(0,r.jsx)(_,{departmentList:o,isLoading:n,toggleDepartmentModal:D,setSelectedDepartmentData:v,onhandleDeleteModal:e=>{f(!j),x(e)},currentPage:N,setCurrentPage:g}),(0,r.jsx)(M,{getAllDepartments:b,setSelectedDepartmentData:v,openCreateUpdateDepModal:p,toggleDepartmentModal:D,selectedDepartmentData:m}),j&&(0,r.jsx)(O.A,{onApproveReject:t=>{if(t){const t={_id:u};e(null===w.vd||void 0===w.vd?void 0:w.vd.deleteDepartmentRequest(t)),f(!j)}else f(!j)},isShow:j,desc:"You want to delete this Department",isLoading:l})]})}}}]);
//# sourceMappingURL=864.09c518f8.chunk.js.map