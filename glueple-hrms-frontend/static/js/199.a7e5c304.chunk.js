"use strict";(self.webpackChunkglueple_user=self.webpackChunkglueple_user||[]).push([[199],{9737:(e,a,l)=>{l.d(a,{A:()=>t});l(5043);var s=l(579);const t=e=>{const{name:a,value:l,handleChange:t,totalHours:i,intervalMinutes:d}=e,n=((e,a)=>{const l=[];let s="00",t="00";for(let i=0;i<e;i++)for(let e=0;e<60;e++)s=i<10?`0${i}`:i,e%a===0&&(t=e<10?`0${e}`:e,l.push({item:`${s}:${t}`}));return l})(i,d);return(0,s.jsxs)("select",{className:"form-select",name:a,value:l,onChange:e=>t(e),children:[(0,s.jsx)("option",{value:"",hidden:!0,children:"HH:MM"}),n.map(((e,a)=>(0,s.jsx)("option",{value:e.item,children:e.item},a)))]})}},6170:(e,a,l)=>{l.d(a,{A:()=>h});var s=l(5043),t=l(2166),i=(l(3885),l(4174)),d=l(2145),n=l(728),c=l(6181),r=l(3474),o=(l(6178),l(9737),l(579));const h=e=>{const a=(0,t.wA)(),{openAddCalendar:l,openAddCalendarModel:h,selectedCalendarData:u,setSelectedCalendarDatas:f,getAllShiftCalendar:m}=e,{addShiftCalendarPending:v,addShiftCalendarRes:x,addShiftCalendarError:j}=(0,t.d4)((e=>e.shift)),[k,p]=(0,s.useState)({}),[N,b]=(0,s.useState)(""),[g,y]=(0,s.useState)(""),[C,S]=(0,s.useState)(),[_,A]=(0,s.useState)([]),[w,E]=(0,s.useState)({title:"",working_days:"",alternative_saturday_off:"",week_off:""}),D=e=>{if(1==e.target.checked)A([..._,e.target.value]);else{let a=_.filter((a=>a!=e.target.value));A([...a])}},R=e=>{if(1==e.target.checked)S([...C,e.target.value]);else{let a=C.filter((a=>a!=e.target.value));S([...a])}};(0,s.useEffect)((()=>{if(!v){if(j)return void d.oR.error(null===j||void 0===j?void 0:j.errorMessage);var e,l;if(x)if(200===(null===x||void 0===x||null===(e=x.data)||void 0===e?void 0:e.code))d.oR.success(null===x||void 0===x||null===(l=x.data)||void 0===l?void 0:l.msg),console.log("Helllo Open Model new"),h(),a(i.ce.handleClearShiftStore("HANDLE_CLEAR_ADD_SHIFT_CALENDAR_STORE"))}}),[x,j,v]),(0,s.useEffect)((()=>{E({title:(null===u||void 0===u?void 0:u.title)||"",working_days:(null===u||void 0===u?void 0:u.working_days)||"",alternative_saturday_off:(null===u||void 0===u?void 0:u.alternative_saturday_off)||"",week_off:null===u||void 0===u?void 0:u.week_off}),y(null===u||void 0===u?void 0:u.working_days),S(null===u||void 0===u?void 0:u.week_off),A(null===u||void 0===u?void 0:u.alternative_saturday_off),b(null===u||void 0===u?void 0:u.id)}),[u]);(0,s.useEffect)((()=>{!1===l&&M()}),[l]);const M=()=>{E({title:"",working_days:"",alternative_saturday_off:"",week_off:""}),p({})};return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("div",{className:"offcanvas offcanvas-end creatNewTicketOff "+(l?"show":""),tabIndex:-1,style:{visibility:l?"visible":"hidden",width:"800px"},children:[(0,o.jsxs)("div",{className:"offcanvas-header",children:[(0,o.jsxs)("h5",{className:"offcanvas-title  fs-5 fw-bold text-primary",children:[u?"Update":"Create New"," Calendar"]}),(0,o.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close",onClick:()=>h()})]}),(0,o.jsx)("div",{className:"offcanvas-body",children:(0,o.jsx)("div",{className:"table-responsive tableDiv shiftmanagementtbl",children:(0,o.jsx)("table",{className:"table",children:(0,o.jsxs)("tbody",{children:[(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{width:"30%",children:(0,o.jsxs)("div",{className:"d-flex align-items-center",children:[(0,o.jsx)("span",{className:"srNum",children:"1"}),(0,o.jsx)("b",{className:"ps-3 text-primary",children:" Title "})]})}),(0,o.jsxs)("td",{children:[(0,o.jsx)("input",{type:"text",name:"title",value:w.title,onChange:e=>(e=>{const{name:a,value:l}=e.target;E({...w,[a]:l}),p((e=>({...e,[a]:void 0})))})(e),className:"form-control",placeholder:"Enter Title"}),(null===k||void 0===k?void 0:k.title)&&(0,o.jsx)(r.A,{text:k.title})]})]}),(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:(0,o.jsxs)("div",{className:"d-flex align-items-center",children:[(0,o.jsx)("span",{className:"srNum",children:"5"}),(0,o.jsx)("b",{className:"ps-3 text-primary",children:" Working Days"})]})}),(0,o.jsx)("td",{children:(0,o.jsx)("div",{className:"d-flex workingradio",children:(0,o.jsxs)("div",{className:"shiftInpt",children:[(0,o.jsxs)("select",{className:"form-select",required:!0,name:"shift_type",value:g,onChange:e=>{return a=e.target.value,y(a),void("5"==a?S(["6","7"]):"6"==a?(S([]),S(["7"])):"7"==a&&S([]));var a},children:[(0,o.jsx)("option",{value:"",hidden:!0,selected:!0,children:"Select Required Working Days"}),(0,o.jsx)("option",{value:"5",children:"5 Days"}),(0,o.jsx)("option",{value:"6",children:"6 Days"}),(0,o.jsx)("option",{value:"7",children:"7 Days"}),(0,o.jsx)("option",{value:"alternative_saturday",children:"Alternative Saturday Off"})]}),(null===k||void 0===k?void 0:k.working_days)&&(0,o.jsx)(r.A,{text:k.working_days})]})})})]}),"alternative_saturday"==g&&(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:(0,o.jsxs)("div",{className:"d-flex align-items-center",children:[(0,o.jsx)("span",{className:"srNum",children:"6"}),(0,o.jsx)("b",{className:"ps-3 text-primary",children:"Saturdays"})]})}),(0,o.jsx)("td",{children:(0,o.jsx)("div",{className:"d-flex workingradio",children:(0,o.jsxs)("div",{className:"d-flex gap-2 checkShift",children:[(0,o.jsxs)("div",{className:"form-check",children:[(0,o.jsx)("input",{className:"form-check-input",type:"checkbox",value:"1",name:"1",onClick:D,id:"first"}),(0,o.jsx)("label",{className:"form-check-label",for:"first",children:"1st"})]}),(0,o.jsxs)("div",{className:"form-check",children:[(0,o.jsx)("input",{className:"form-check-input",type:"checkbox",value:"2",name:"2",onClick:D,id:"second"}),(0,o.jsx)("label",{className:"form-check-label",for:"second",children:"2st"})]}),(0,o.jsxs)("div",{className:"form-check",children:[(0,o.jsx)("input",{className:"form-check-input",type:"checkbox",value:"3",name:"3",onClick:D,id:"third"}),(0,o.jsx)("label",{className:"form-check-label",for:"third",children:"3st"})]}),(0,o.jsxs)("div",{className:"form-check",children:[(0,o.jsx)("input",{className:"form-check-input",type:"checkbox",value:"4",name:"4",onClick:D,id:"fourth "}),(0,o.jsx)("label",{className:"form-check-label",for:"fourth ",children:"4st"})]}),(0,o.jsxs)("div",{className:"form-check",children:[(0,o.jsx)("input",{className:"form-check-input",type:"checkbox",value:"5",name:"5",onClick:D,id:"five "}),(0,o.jsx)("label",{className:"form-check-label",for:"five ",children:"5st"})]})]})})})]}),"7"!=g&&"alternative_saturday"!=g&&(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:(0,o.jsxs)("div",{className:"d-flex align-items-center",children:[(0,o.jsx)("span",{className:"srNum",children:"7"}),(0,o.jsx)("b",{className:"ps-3 text-primary",children:" Week Off"})]})}),(0,o.jsx)("td",{children:(0,o.jsxs)("div",{className:"d-flex gap-2 checkShift",children:[(0,o.jsxs)("div",{className:"form-check",children:[(0,o.jsx)("input",{className:"form-check-input",type:"checkbox",value:"1",name:"1",id:"first",onClick:R,checked:null===C||void 0===C?void 0:C.includes("1")}),(0,o.jsx)("label",{className:"form-check-label",for:"first",children:"Monday"})]}),(0,o.jsxs)("div",{className:"form-check",children:[(0,o.jsx)("input",{className:"form-check-input",type:"checkbox",value:"2",name:"2",id:"second",onClick:R,checked:null===C||void 0===C?void 0:C.includes("2")}),(0,o.jsx)("label",{className:"form-check-label",for:"second",children:"Tuesday"})]}),(0,o.jsxs)("div",{className:"form-check",children:[(0,o.jsx)("input",{className:"form-check-input",type:"checkbox",value:"3",name:"3",id:"third",onClick:R,checked:null===C||void 0===C?void 0:C.includes("3")}),(0,o.jsx)("label",{className:"form-check-label",for:"third",children:"Wednesday"})]}),(0,o.jsxs)("div",{className:"form-check",children:[(0,o.jsx)("input",{className:"form-check-input",type:"checkbox",value:"4",name:"4",id:"fourth ",onClick:R,checked:null===C||void 0===C?void 0:C.includes("4")}),(0,o.jsx)("label",{className:"form-check-label",for:"fourth ",children:"Thursday"})]}),(0,o.jsxs)("div",{className:"form-check",children:[(0,o.jsx)("input",{className:"form-check-input",type:"checkbox",value:"5",name:"5",id:"five ",onClick:R,checked:null===C||void 0===C?void 0:C.includes("5")}),(0,o.jsx)("label",{className:"form-check-label",for:"five ",children:"Friday"})]}),(0,o.jsxs)("div",{className:"form-check",children:[(0,o.jsx)("input",{className:"form-check-input",type:"checkbox",value:"6",name:"6",id:"five ",onClick:R,checked:null===C||void 0===C?void 0:C.includes("6")}),(0,o.jsx)("label",{className:"form-check-label",for:"five ",children:"Saturday"})]}),(0,o.jsxs)("div",{className:"form-check",children:[(0,o.jsx)("input",{className:"form-check-input",type:"checkbox",value:"7",name:"7",id:"five ",onClick:R,checked:null===C||void 0===C?void 0:C.includes("7")}),(0,o.jsx)("label",{className:"form-check-label",for:"five ",children:"Sunday"})]})]})})]})]})})})}),(0,o.jsx)("div",{className:"offcanvas-footer",children:(0,o.jsx)("div",{className:"d-flex align-items-center justify-content-end gap-3",children:(0,o.jsx)("button",{type:"button",className:"btn btn-primary gradientBg",onClick:()=>(async()=>{w.working_days=g,w.alternative_saturday_off=_,w.week_off=C;const e=await(0,c.i6)(n.oc,w);e.isValid?(p({}),u?(w._id=N,a(i.ce.updateShiftCalendarRequest(w)),h(),m()):(a(i.ce.addShiftCalendarRequest(w)),m())):(p(e.errors),console.log(e.errors,"formattedErrors"))})(),children:"Submit"})})})]})})}},6199:(e,a,l)=>{l.r(a),l.d(a,{default:()=>j});var s=l(5043),t=(l(3565),l(8334)),i=l(2166),d=l(4174),n=(l(2145),l(3885)),c=l(7656),r=l(4348),o=l.n(r),h=l(9985),u=l(4589),f=l(579);const m=e=>{const{calendarList:a,isLoading:l,openAddCalendarModel:t,currentPage:d,setCurrentPage:c,setSelectedCalendarDatas:r,onHandleDeleteModal:m,onHandleViewModal:v}=e,[x,j]=(0,s.useState)(a),[k,p]=((0,i.wA)(),(0,s.useState)(!1)),[N,b]=(0,s.useState)([]);(0,s.useEffect)((()=>{j(a)}),[a]);const g=(0,s.useMemo)((()=>({sn:(e,a)=>(0,f.jsx)("span",{children:a+1}),is_active:e=>(0,f.jsx)("span",{className:`badge ${(0,h.XN)(e.is_active?"Active":"Inactive")}`,children:e.is_active?"Active":"Inactive"}),created_at:e=>o()(e.created_at).format("DD-MM-YYYY"),action:e=>(0,f.jsxs)("div",{className:"actionGroup d-flex gap-2",children:[(0,f.jsx)(n.Sv,{text:"Update",classNames:"btn btn-primary",handleClick:()=>{r(e),t()}}),(0,f.jsx)(n.Sv,{text:"Delete",handleClick:()=>m(null===e||void 0===e?void 0:e.id),classNames:"btn btn-danger"})]})})),[r,t,m,v]);return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(u.A,{data:null===x||void 0===x?void 0:x.data,fields:[{key:"sn",label:"S.N"},{key:"title",label:"Template Name"},{key:"working_days",label:"Working Days"},{key:"created_at",label:"Created At"},{key:"action",label:"Action"}],isLoading:l,pagination:!0,currentPage:d,setCurrentPage:c,totalPages:null===x||void 0===x?void 0:x.totalPages,tableName:"Shift Calendar",scopedSlots:g})})};l(454);var v=l(6170),x=l(2027);l(9041),l(7565);const j=()=>{const e=(0,i.wA)(),[a,l]=(0,s.useState)(!1),{getAllShiftCalendarRes:n,getAllShiftCalendarError:r,getAllShiftCalendarPending:o,deleteShiftCalendarPending:h,deleteShiftCalendarRes:u,deleteShiftCalendarError:j}=(0,i.d4)((e=>e.shift)),[k,p]=(0,s.useState)(1),[N,b]=(0,s.useState)(""),[g,y]=(0,s.useState)(""),[C,S]=(0,s.useState)(),[_,A]=(0,s.useState)(!1),[w,E]=(0,s.useState)(""),[D,R]=(0,s.useState)(!1),[M,L]=(0,s.useState)([]),[T,H]=(0,s.useState)(),[P,q]=(0,s.useState)(!1),[F,I]=(0,s.useState)([]);(0,s.useEffect)((()=>{if(!o){if(r)return void I([]);var e,a,l;if(n)if(200==(null===n||void 0===n||null===(e=n.data)||void 0===e?void 0:e.code))I(null===n||void 0===n||null===(a=n.data)||void 0===a||null===(l=a.data)||void 0===l?void 0:l.data)}}),[o,n,r]),(0,s.useEffect)((()=>{if(!h){if(j)return void e(d.ce.handleClearShiftStore("HANDLE_CLEAR_DELETE_SHIFT_CALENDAR_STORE"));var a;if(u)200==(null===u||void 0===u||null===(a=u.data)||void 0===a?void 0:a.code)&&(e(d.ce.handleClearShiftStore("HANDLE_CLEAR_DELETE_SHIFT_CALENDAR_STORE")),O())}}),[u,j,h]);(0,s.useEffect)((()=>{O()}),[k]);const O=()=>{const a={page:k,limit:x.X$.limit};e(d.ce.getAllShiftCalendarRequest(a))},$=e=>{l(!a)},W=(0,s.useMemo)((()=>F),[F]);(0,s.useMemo)((()=>M),[M]);return(0,f.jsxs)("div",{className:"cardBox mb-3 mt-3 pt-5 myRequest",children:[(0,f.jsxs)("ul",{className:"nav nav-tabs leaveTabs mb-4",children:[(0,f.jsx)("li",{className:"nav-item",children:(0,f.jsx)("button",{className:"nav-link active","data-bs-toggle":"tab","data-bs-target":"#createEmailTemplate",type:"button",children:"Calendar"})}),(0,f.jsx)("li",{className:"nav-item",children:(0,f.jsx)("button",{className:"nav-link","data-bs-toggle":"tab","data-bs-target":"#addAction",type:"button",children:"Shift Bulk Upload"})})]}),(0,f.jsxs)("div",{className:"tab-content",children:[(0,f.jsxs)("div",{className:"tab-pane fade active show",id:"createEmailTemplate",children:[(0,f.jsx)("div",{className:"cardHead d-flex align-items-center justify-content-between",children:(0,f.jsx)(t.A,{btnClassName:"btn btn-primary gradientBg",onClickFun:()=>$(),children:"Add Calendar"})}),(0,f.jsx)(m,{calendarList:W,isLoading:o,openAddCalendarModel:$,setSelectedCalendarDatas:b,onHandleDeleteModal:e=>{A(!_),S(e)},currentPage:k,setCurrentPage:p,onHandleViewModal:e=>{E(e),$()}}),(0,f.jsx)(v.A,{openAddCalendar:a,openAddCalendarModel:$,setSelectedCalendarDatas:b,selectedCalendarData:N,getAllShiftCalendar:O})]}),(0,f.jsx)("div",{className:"tab-pane fade active",id:"addAction",children:(0,f.jsx)("div",{className:"cardHead d-flex align-items-center justify-content-between"})})]}),_&&(0,f.jsx)(c.A,{onApproveReject:a=>{if(a){const a={_id:C};e(null===d.ce||void 0===d.ce?void 0:d.ce.deleteShiftCalendarRequest(a)),A(!_)}else A(!_)},isShow:_,desc:"You want to delete this Shift Calendar",isLoading:h})]})}}}]);
//# sourceMappingURL=199.a7e5c304.chunk.js.map