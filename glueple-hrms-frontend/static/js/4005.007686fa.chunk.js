"use strict";(self.webpackChunkglueple_user=self.webpackChunkglueple_user||[]).push([[4005],{84005:(e,t,l)=>{l.r(t),l.d(t,{default:()=>p});var s=l(65043),a=l(29829),n=l(49985),d=l(35475),o=l(22166),i=l(94174),r=l(70579);const c=e=>{const t=(0,o.wA)(),{currentPage:l,setCurrentPage:c,allEmployees:u,isLoading:m}=e,p=(0,n.Yo)("payroll_employees_investment"),g=(0,n.Yo)("assign_employee_salary"),y=[{key:"sn",label:"S.N"},{key:"emp_id",label:"Emp Id"},{key:"name",label:"Full Name"},{key:"salary_status",label:"Salary Status"},{key:"account_status",label:"Account Status"},(p||g)&&{key:"action",label:"Action"}],v=e=>{t(i.Vg.selectedEmployeeData(e))},h=(0,s.useMemo)((()=>({sn:(e,t)=>(0,r.jsx)("span",{children:t+1}),salary_status:e=>(0,r.jsx)("span",{className:`badge ${(0,n.XN)(e.salary_status||"")}`,children:e.salary_status}),account_status:e=>(0,r.jsx)("span",{className:`badge ${(0,n.XN)(e.account_status)}`,children:e.account_status}),action:e=>(0,r.jsxs)("div",{className:"btn-group actionDrp",children:[(0,r.jsx)("button",{type:"button",className:"btn dropdown-toggle-split","data-bs-toggle":"dropdown","aria-expanded":"false",children:(0,r.jsx)("i",{className:"bi bi-three-dots-vertical"})}),(0,r.jsxs)("ul",{className:"dropdown-menu",children:[p&&(0,r.jsx)("li",{children:(0,r.jsx)(d.N_,{className:"dropdown-item",to:"employee-detail",onClick:()=>v(e),children:"Add Investment"})}),g&&(0,r.jsx)("li",{children:(0,r.jsx)(d.N_,{className:"dropdown-item",to:"add-employee-salary",onClick:()=>v(e),children:"Add Salary"})})]})]})})),[u,l]);return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(a.Ak,{data:null===u||void 0===u?void 0:u.data,fields:y,isLoading:m,pagination:!0,currentPage:l,setCurrentPage:c,totalPages:null===u||void 0===u?void 0:u.totalPages,isHeader:!1,tableStyle:{padding:"0px",boxShadow:"none"},scopedSlots:h})})};l(90607);var u=l(45531);l(56462),l(85831),l(86178);var m=l(52027);const p=()=>{const e=(0,o.wA)(),{getAllEmployeeAssignStatusPending:t,getAllEmployeeAssignStatusRes:l,getAllEmployeeAssignStatusError:a}=(0,o.d4)((e=>e.payroll)),{getDepartmentListRes:d,getDepartmentListError:p,getDepartmentListPending:g}=(0,o.d4)((e=>e.department)),{getAllEmployeePending:y,getAllEmployeeRes:v,getAllEmployeeError:h}=(0,o.d4)((e=>e.employee)),[E,f]=(0,s.useState)(1),[x,b]=(0,s.useState)(""),[S,j]=(0,s.useState)(""),[A,N]=(0,s.useState)(""),[_,k]=(0,s.useState)(""),[D,w]=(0,s.useState)("");(0,s.useEffect)((()=>{P(D)}),[E]);const P=t=>{const l={page:E,limit:m.X$.limit,...t};e(i.Vg.getAllEmployeeAssignStatusRequest(l))};(0,s.useEffect)((()=>{if(!t){if(a)return;if(l&&200==(null===l||void 0===l?void 0:l.code)){const e=null===l||void 0===l?void 0:l.data;b(e)}}}),[l,a,t]),(0,s.useEffect)((()=>{L(),C()}),[]);const C=()=>{e(i.mM.getAllEmployeeRequest())};(0,s.useEffect)((()=>{if(!y){if(h)return;v&&200===(null===v||void 0===v?void 0:v.code)&&j(null===v||void 0===v?void 0:v.data)}}),[v,h,y]);const L=()=>{var t;null!==d&&void 0!==d&&null!==(t=d.data)&&void 0!==t&&t.length?N(null===d||void 0===d?void 0:d.data):e(i.vd.getDepartmentListRequest())};(0,s.useEffect)((()=>{if(!g){if(p)return;if(d&&200===(null===d||void 0===d?void 0:d.code)){const e=null===d||void 0===d?void 0:d.data;N(e)}}}),[d,p,g]);const F=[{name:"selectedEmployees",label:"Select Employee / ID",type:"select",value:_.selectedEmployees,data:S,placeholder:"Enter Employee Name",isMulti:!0},{name:"selectedDepartment",label:"Department",type:"select",data:A,value:_.selectedDepartment,placeholder:"Select Department",isMulti:!0}];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.Cs,{filters:F,handleFilterFormData:(e,t)=>{var l;const s=t||(null===(l=e.target)||void 0===l?void 0:l.name),{value:a,type:n,checked:d}=null!==e&&void 0!==e&&e.target?e.target:{value:e};k((e=>({...e,[s]:"checkbox"===n?d:a})))},onSubmitHandleFilter:()=>{const e={};null!==_&&void 0!==_&&_.selectedDepartment&&(e.department_ids=(0,n.mu)(null===_||void 0===_?void 0:_.selectedDepartment)),null!==_&&void 0!==_&&_.selectedEmployees&&(e.employee_ids=(0,n.mu)(null===_||void 0===_?void 0:_.selectedEmployees)),P(e),w(e)}}),(0,r.jsx)("div",{className:"cardBox mt-3",children:(0,r.jsxs)("div",{className:"",children:[(0,r.jsx)("div",{className:"d-flex justify-content-between align-items-center mb-2",children:(0,r.jsx)("h3",{className:"underlineHead ",style:{fontSize:"18px"},children:" Employees"})}),(0,r.jsx)(c,{allEmployees:x,setCurrentPage:f,currentPage:E,isLoading:t})]})})]})}}}]);
//# sourceMappingURL=4005.007686fa.chunk.js.map