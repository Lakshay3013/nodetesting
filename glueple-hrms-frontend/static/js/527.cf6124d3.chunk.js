"use strict";(self.webpackChunkglueple_user=self.webpackChunkglueple_user||[]).push([[527],{80527:(e,t,a)=>{a.r(t),a.d(t,{default:()=>h});var n=a(65043),s=a(90607),l=a(29829),d=a(45531),i=a(70579);const o=e=>{const{t:t}=(0,s.K)(),{isLoading:a,toggleAnnouncementDeleteModal:o,currentPage:c,setCurrentPage:r,allAnnouncements:u}=e,[v,m]=(0,n.useState)("");(0,n.useEffect)((()=>{m(u)}),[u]);const p=(0,n.useMemo)((()=>({sn:(e,t)=>(0,i.jsx)("span",{children:t+1}),action:e=>(0,i.jsxs)("div",{className:"btn-group actionDrp",children:[(0,i.jsx)("button",{type:"button",className:"btn dropdown-toggle-split","data-bs-toggle":"dropdown","aria-expanded":"false",children:(0,i.jsx)("i",{className:"bi bi-three-dots-vertical"})}),(0,i.jsx)("ul",{className:"dropdown-menu",children:(0,i.jsx)("li",{children:(0,i.jsxs)("span",{className:"dropdown-item",onClick:()=>o(e),children:[(0,i.jsx)(d.In,{className:"fa fa-trash test"})," Delete"]})})})]})})),[v,o]);return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(l.Ak,{data:v,fields:[{key:"sn",label:"S.N"},{key:"type",label:"Announcement Name"},{key:"start_date",label:"Start Date"},{key:"end_date",label:"End Date "},{key:"description",label:"Description "},{key:"action",label:"Action"}],isLoading:a,pagination:!0,currentPage:c,setCurrentPage:r,totalPages:null===v||void 0===v?void 0:v.totalPages,tableName:t("headings.announcement"),scopedSlots:p})})};var c=a(22166),r=a(35685),u=a(26181),v=a(92250),m=a(80728);const p=e=>{const{t:t}=(0,s.K)(),{selectedAnnouncementData:a,openModel:l,handleOpenClose:o,handleCreateUpdateAnnouncement:c}=e,[r,p]=(0,n.useState)({}),[x,h]=(0,n.useState)({startDate:null,endDate:null,description:null}),b=(e,t)=>{var a;const n=t||(null===(a=e.target)||void 0===a?void 0:a.name),{value:s,type:l,checked:d}=null!==e&&void 0!==e&&e.target?null===e||void 0===e?void 0:e.target:{value:e};h((e=>({...e,[n]:"checkbox"===l?d:s}))),p((e=>({...e,[n]:void 0})))};(0,n.useEffect)((()=>()=>{j()}),[l]),(0,n.useEffect)((()=>{a&&h({startDate:null===a||void 0===a?void 0:a.start_date,endDate:null===a||void 0===a?void 0:a.end_date,description:null===a||void 0===a?void 0:a.description})}),[a]);const j=()=>{h({startDate:null,endDate:"",description:""}),p({})};return(0,i.jsxs)("div",{className:"offcanvas offcanvas-end  "+(l?"show":""),tabIndex:-1,style:{visibility:l?"visible":"hidden"},id:"interviewDetail",children:[(0,i.jsxs)("div",{className:"offcanvas-header",children:[(0,i.jsxs)("h5",{className:"offcanvas-title  fs-5 fw-bold text-primary",children:[a?"Update":"Add"," Announcement"]}),(0,i.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close",onClick:()=>o()})]}),(0,i.jsx)("div",{className:"offcanvas-body myRequest ",children:(0,i.jsx)("div",{className:"formPanel",children:(0,i.jsxs)("div",{className:"row",children:[(0,i.jsx)("div",{className:"col-md-6",children:(0,i.jsxs)("div",{className:"form-group mb-2",children:[(0,i.jsx)(d.JU,{text:t("labels.startDate")}),(0,i.jsx)(d.pd,{type:"date",placeholder:t("placeholders.startDate"),value:null===x||void 0===x?void 0:x.startDate,name:"startDate",onChange:e=>b(e)}),(null===r||void 0===r?void 0:r.startDate)&&(0,i.jsx)(v.eo,{text:r.startDate})]})}),(0,i.jsx)("div",{className:"col-md-6",children:(0,i.jsxs)("div",{className:"form-group mb-2",children:[(0,i.jsx)(d.JU,{text:t("labels.endDate")}),(0,i.jsx)(d.pd,{type:"date",placeholder:t("placeholders.endDate"),value:null===x||void 0===x?void 0:x.endDate,name:"endDate",onChange:e=>b(e),min:null===x||void 0===x?void 0:x.startDate}),(null===r||void 0===r?void 0:r.endDate)&&(0,i.jsx)(v.eo,{text:r.endDate})]})}),(0,i.jsx)("div",{className:"col-md-12",children:(0,i.jsxs)("div",{className:"form-group mb-2",children:[(0,i.jsx)(d.JU,{text:t("labels.description")}),(0,i.jsx)(d.TM,{placeholder:"Enter here....",onChange:e=>b(e),name:"description",value:null===x||void 0===x?void 0:x.description}),(null===r||void 0===r?void 0:r.description)&&(0,i.jsx)(v.eo,{text:r.description})]})})]})})}),(0,i.jsx)("div",{className:"offcanvas-footer",children:(0,i.jsx)("div",{className:"d-flex align-items-center justify-content-end gap-3",children:(0,i.jsx)(v.Sv,{text:t("btns.submit"),classNames:"btn btn-org-gradient",handleClick:()=>(async()=>{const e=await(0,u.i6)(m.wP,x);if(e.isValid){const{startDate:e,endDate:t,description:a}=x;c({startDate:e,endDate:t,description:a})}else p(e.errors)})()})})})]})},x=[{type:"announcement",start_date:"2024-12-09",end_date:"2024-12-09",description:"test"}],h=()=>{(0,c.wA)();const{t:e}=(0,s.K)(),[t,a]=(0,n.useState)(x),[l,d]=(0,n.useState)(!1),[u,m]=(0,n.useState)(""),[h,b]=(0,n.useState)(!1),[j,f]=(0,n.useState)(""),[g,D]=(0,n.useState)(1),N=e=>{m(e||""),d(!l)},y=e=>{e&&f(e),b(!h)};return(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"d-flex  justify-content-end ",children:(0,i.jsx)(v.Sv,{classNames:"btn btn-primary gradientBg",handleClick:()=>N(),text:e("btns.createAnnouncement")})}),(0,i.jsx)(p,{handleCreateUpdateAnnouncement:N,handleOpenClose:N,openModel:l}),(0,i.jsx)(o,{currentPage:g,setCurrentPage:D,allAnnouncements:t,toggleAnnouncementDeleteModal:y}),h&&(0,i.jsx)(r.A,{onApproveReject:e=>{if(e){}else y()},isShow:h,desc:e("alerts.deletePopup.desc").replace("$1","Announcement"),btnTextRight:e("btns.delete"),btnTextLeft:e("btns.cancel")})]})}}}]);
//# sourceMappingURL=527.cf6124d3.chunk.js.map