"use strict";(self.webpackChunkglueple_user=self.webpackChunkglueple_user||[]).push([[9699],{19699:(e,s,t)=>{t.r(s),t.d(s,{default:()=>f});var a=t(65043),n=t(73216),r=(t(92342),t(80899)),l=t(22166),i=t(94174),o=(t(62405),t(78737)),d=t(1880),c=t(49985),u=t(85831),m=t(90607),p=(t(50586),t(26181),t(86147)),h=(t(80728),t(70579));const g=e=>{let{isShow:s,btnLeftLoading:t=!1,btnRightLoading:n=!1,btnTextLeft:r,btnTextRight:o,toggleForgotPasswordModal:d}=e;const c=(0,l.wA)(),{forgotPasswordPending:u,forgotPasswordRes:g,forgotPasswordError:f,sendOtpPending:v,sendOtpRes:x,sendOtpError:j,verifyOtpPending:b,verifyOtpRes:N,verifyOtpError:y}=(0,l.d4)((e=>e.auth)),{t:w}=(0,m.K)(),[S,E]=(0,a.useState)(!1),[C,R]=(0,a.useState)(!1),[A,_]=(0,a.useState)(!1),[P,O]=(0,a.useState)(""),[k,L]=(0,a.useState)(""),[I,D]=(0,a.useState)(""),[T,F]=(0,a.useState)(""),[M,q]=(0,a.useState)(!1),[H,B]=(0,a.useState)(!1),[Y,G]=(0,a.useState)(0),[V,W]=(0,a.useState)(0),$=async()=>{let e={email_mobile:P};c(i.I2.sendOtpRequest(e))};(0,a.useEffect)((()=>{if(!v){if(j)return void c(i.I2.handleClearAuthStore("HANDLE_CLEAR_SEND_OTP_STORE"));x&&200===(null===x||void 0===x?void 0:x.code)&&(c(i.I2.handleClearAuthStore("HANDLE_CLEAR_SEND_OTP_STORE")),E(!0),G(0),W(59))}}),[x,j,v]);(0,a.useEffect)((()=>{if(!b){if(y)return c(i.I2.handleClearAuthStore("HANDLE_CLEAR_VERIFY_OTP_STORE")),R(!1),void _(!1);N&&200===(null===N||void 0===N?void 0:N.code)&&(c(i.I2.handleClearAuthStore("HANDLE_CLEAR_VERIFY_OTP_STORE")),R(!0),_(!0),D(""),F(""))}}),[N,y,b]);return(0,a.useEffect)((()=>{if(!u){if(f)return void c(i.I2.handleClearAuthStore("HANDLE_CLEAR_FORGOT_PASSWORD_STORE"));g&&200===(null===g||void 0===g?void 0:g.code)&&(c(i.I2.handleClearAuthStore("HANDLE_CLEAR_FORGOT_PASSWORD_STORE")),E(!1),_(!1),O(""),d())}}),[g,f,u]),(0,a.useEffect)((()=>{const e=setInterval((()=>{V>0&&W(V-1),0===V&&(0===Y?clearInterval(e):(W(59),G(Y-1)))}),1e3);return()=>{clearInterval(e)}})),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:"modal fade ",id:"",style:{display:s?"unset !important":"none !important",opacity:s?"unset":"0"},children:(0,h.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:(0,h.jsxs)("div",{class:"modal-content rounded-1 ",children:[(0,h.jsxs)("div",{class:"modal-header ",children:[(0,h.jsx)("h1",{class:"modal-title fs-5 fw-bold text-primary",children:w("headings.forgotPassword")}),(0,h.jsx)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:()=>d()})]}),(0,h.jsx)("div",{class:"modal-body pt-0",children:(0,h.jsxs)("form",{className:"mt-2 mb-2",children:[(0,h.jsxs)("div",{className:"form-group",children:[(0,h.jsx)("label",{for:"exampleInputEmail1",children:"Email Address"}),(0,h.jsx)("input",{type:"email",className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",onChange:e=>(e=>{O(e.target.value),E(!1),_(!1)})(e),value:P,placeholder:"Enter registered email"})]}),S&&(0,h.jsxs)("div",{className:"form-group",children:[(0,h.jsxs)("label",{for:"otp",children:["Enter OTP ",C?(0,h.jsx)("a",{className:"badge badge-success text-lg",style:{marginLeft:"5px",color:"white"},children:"Verified"}):""]}),(0,h.jsx)("td",{style:{paddingTop:"1.5%",paddingBottom:"1.5%"},children:(0,h.jsx)(p.A,{className:"otp-spacing",inputStyle:{width:"50%",height:"150%",color:"#212529",backgroundClip:"padding-box",border:"1px solid #ced4da",borderRadius:"0.375rem",backgroundColor:C?"lightgray":"#fff"},isDisabled:C,value:k,onChange:e=>(async e=>{if(L(e),6===e.length){let s={email_mobile:P,otp:e,otp_id:""};c(i.I2.verifyOtpRequest(s))}})(e),numInputs:6,separator:(0,h.jsx)("span",{}),isInputNum:!0,renderInput:e=>(0,h.jsx)("input",{...e})})})]}),A&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:"form-group",children:[(0,h.jsx)("label",{for:"newpassword",children:"New Password"}),(0,h.jsxs)("div",{className:"position-relative eyeContt2",children:[(0,h.jsx)("input",{className:"form-control",type:M?"text":"password",onChange:e=>D(e.target.value),value:I,placeholder:"New Password"}),(0,h.jsx)("i",{class:"fa fa-eye","aria-hidden":"true",style:{left:"435px"},onClick:()=>q(!M)})]})]}),(0,h.jsxs)("div",{className:"form-group",children:[(0,h.jsx)("label",{for:"confirmpassword",children:"Confirm Password"}),(0,h.jsxs)("div",{className:"position-relative eyeContt2",children:[(0,h.jsx)("input",{type:H?"text":"password",className:"form-control",onChange:e=>F(e.target.value),value:T,placeholder:"Confirm Password"}),(0,h.jsx)("i",{class:"fa fa-eye","aria-hidden":"true",style:{left:"435px"},onClick:()=>B(!H)})]})]})]}),!1===S&&(0,h.jsx)("button",{type:"button",className:"btn btn-primary mt-3",onClick:()=>$(),children:"Send OTP"})]})}),(0,h.jsxs)("div",{class:"modal-footer pt-0",children:[!0===S&&!1===A&&(0,h.jsx)("button",{type:"button",className:"btn btn-primary",onClick:Y>0||V>0?null:$,children:Y>0||V>0?(0,h.jsxs)(h.Fragment,{children:[" ",Y<10?`0${Y}`:Y,":",V<10?`0${V}`:V]}):"Resend OTP"}),!0===A&&(0,h.jsx)("button",{type:"button",className:"btn btn-primary",onClick:async()=>{let e={email_mobile:P,new_password:I,confirm_password:T};c(i.I2.forgotPasswordRequest(e))},children:"Change Password"})]})]})})}),s&&(0,h.jsx)("div",{className:"modal-backdrop fade show"})]})},f=e=>{const s=(0,n.Zp)(),t=(0,l.wA)(),{getMenuRoutesPermissionRes:m,getMenuRoutesPermissionError:p,getMenuRoutesPermissionPending:f}=(0,l.d4)((e=>e.permission)),{isUserLoginPending:v,userLoginRes:x,userLoginResError:j}=(0,l.d4)((e=>e.auth)),[b,N]=(0,a.useState)(!1),[y,w]=(0,a.useState)(!1),[S,E]=(0,a.useState)({email:"",password:""}),[C,R]=(0,a.useState)(!1),[A,_]=(0,a.useState)(!1);(0,r.Ik)({email:(0,r.Yj)().required(),password:(0,r.Yj)().required()});(0,a.useEffect)((()=>{P()}),[v,x,j]);const P=async()=>{if(!v){if(j)return void t(i.I2.handleClearAuthStore("HANDLE_CLEAR_LOGIN_STORE"));if(x&&200==(null===x||void 0===x?void 0:x.code)){let{token:e,user:a}=x&&(null===x||void 0===x?void 0:x.data),n=(0,c.Rb)(JSON.stringify(a));await(0,o.il)(n,"user"),await(0,o.il)(e,"authtoken"),t(i.mM.employeeDetails(a)),d.A.set("authtoken",e),d.A.set("authData",JSON.stringify(a)),t(i.$r.getMenuRoutesPermissionRequest()),t(i.I2.handleClearAuthStore("HANDLE_CLEAR_LOGIN_STORE")),"67fdf22e24286606d8499d9a"===(null===a||void 0===a?void 0:a.role_id)?s("/onboarding"):s("/")}}},O=e=>{const{name:s,value:t}=e.target;E({...S,[s]:t})};return(0,h.jsxs)("div",{className:"mittContent",children:[(0,h.jsx)("div",{className:"glueplelogo",children:(0,h.jsx)("a",{href:"",children:(0,h.jsx)("img",{src:"images/glueple-logo.png",alt:"",width:120})})}),(0,h.jsxs)("div",{className:"inner-content",children:[(0,h.jsx)("div",{className:"leftContent",children:(0,h.jsxs)("figure",{className:"position-relative",children:[(0,h.jsx)("img",{src:"images/img.png",alt:""}),(0,h.jsxs)("span",{className:"icon1",children:[" ",(0,h.jsx)("img",{src:"images/attendance.png",alt:"",width:70})]}),(0,h.jsxs)("span",{className:"icon2",children:[" ",(0,h.jsx)("img",{src:"images/human-resources.png",alt:"",width:70})]}),(0,h.jsxs)("span",{className:"icon3",children:[" ",(0,h.jsx)("img",{src:"images/payroll.png",alt:"",width:70})]}),(0,h.jsxs)("span",{className:"icon4",children:[" ",(0,h.jsx)("img",{src:"images/hiring.png",alt:"",width:60})]}),(0,h.jsxs)("span",{className:"icon5",children:[" ",(0,h.jsx)("img",{src:"images/human-resources-srch.png",alt:"",width:60})]}),(0,h.jsxs)("span",{className:"icon6",children:[" ",(0,h.jsx)("img",{src:"images/market-analysis.png",alt:"",width:65})]}),(0,h.jsxs)("span",{className:"icon7",children:[(0,h.jsx)("img",{src:"images/employee.png",alt:"",width:50}),"Streamline Your Workforce"]})]})}),(0,h.jsx)("div",{className:"rightTxt position-relative",children:(0,h.jsxs)("div",{className:"loginFormBox",children:[(0,h.jsxs)("div",{className:"text-start",children:[(0,h.jsx)("h3",{className:"mb-2",children:"Login"}),(0,h.jsx)("p",{className:"",children:"Human Resource Management System"})]}),(0,h.jsxs)("form",{children:[(0,h.jsxs)("div",{className:"mb-4",children:[(0,h.jsx)("label",{className:"form-label",children:"Enter Email or Employee ID"}),(0,h.jsx)("input",{className:"form-control w-100",type:"email",placeholder:"Email / Employee ID",name:"email",onChange:e=>O(e),value:S.email})]}),(0,h.jsxs)("div",{className:"mb-1",children:[(0,h.jsx)("label",{className:"form-label",children:"Password"}),(0,h.jsxs)("div",{className:"position-relative",children:[(0,h.jsx)("input",{className:"form-control w-100 pe-5",type:b?"text":"password",placeholder:"Enter Password",name:"password",value:S.password,onChange:e=>O(e)}),(0,h.jsx)("span",{className:"eyeInput",onClick:()=>N(!b),children:b?(0,h.jsx)("img",{src:"images/eye-open.svg",alt:"",width:20}):(0,h.jsx)("img",{src:"images/eye-hide.svg",alt:"",width:20})})]})]}),(0,h.jsx)("div",{className:"forgotTxt",children:(0,h.jsxs)("div",{className:"customCheckbox",children:[(0,h.jsx)("input",{type:"checkbox",id:"termCheck"}),(0,h.jsx)("label",{htmlFor:"termCheck",children:"Remember me"})]})}),(0,h.jsx)("div",{className:"text-center my-2 mt-4",children:(0,h.jsx)(u.Sv,{text:"Login",isLoading:v,classNames:"btn btn-login",handleClick:async function(){const e={email:null===S||void 0===S?void 0:S.email,password:null===S||void 0===S?void 0:S.password};t(i.I2.userLoginRequest(e))}})}),(0,h.jsx)("strong",{className:"fs-8 mt-4 text-center d-block",children:"\xa9 Copyright Powered by @QDegrees.com"}),(0,h.jsx)("a",{href:"https://www.qdegrees.com",target:"_blank",className:"text-center d-block",children:(0,h.jsx)("img",{src:"images/qdegreesLogo.png",alt:"",width:80})})]})]})})]}),y&&(0,h.jsx)(g,{isShow:y,toggleForgotPasswordModal:()=>{w(!y)}})]})}},62405:(e,s,t)=>{t(65043),t(42145),t(92342),t(70579)},86147:(e,s,t)=>{t.d(s,{A:()=>r});var a=t(65043),n=function(e){return"object"===typeof e&&null!==e},r=function(e){var s=e.value,t=void 0===s?"":s,r=e.numInputs,l=void 0===r?4:r,i=e.onChange,o=e.onPaste,d=e.renderInput,c=e.shouldAutoFocus,u=void 0!==c&&c,m=e.inputType,p=void 0===m?"text":m,h=e.renderSeparator,g=e.placeholder,f=e.containerStyle,v=e.inputStyle,x=e.skipDefaultStyles,j=void 0!==x&&x,b=a.useState(0),N=b[0],y=b[1],w=a.useRef([]),S=function(){return t?t.toString().split(""):[]},E="number"===p||"tel"===p;a.useEffect((function(){w.current=w.current.slice(0,l)}),[l]),a.useEffect((function(){var e;u&&(null===(e=w.current[0])||void 0===e||e.focus())}),[u]);var C=function(){if("string"===typeof g){if(g.length===l)return g;g.length>0&&console.error("Length of the placeholder should be equal to the number of inputs.")}},R=function(e){return(E?!isNaN(Number(e)):"string"===typeof e)&&1===e.trim().length},A=function(e){var s=e.target.value;R(s)&&(L(s),k(N+1))},_=function(e){var s=e.nativeEvent,t=e.target.value;if(!R(t)){if(t.length===l)t.split("").some((function(e){return!R(e)}))||(I(t.split("")),k(l-1));null===s.data&&"deleteContentBackward"===s.inputType&&(e.preventDefault(),L(""),k(N-1)),e.target.value=""}},P=function(){y(N-1)},O=function(e){var s=S();[e.code,e.key].includes("Backspace")?(e.preventDefault(),L(""),k(N-1)):"Delete"===e.code?(e.preventDefault(),L("")):"ArrowLeft"===e.code?(e.preventDefault(),k(N-1)):"ArrowRight"===e.code||e.key===s[N]?(e.preventDefault(),k(N+1)):"Spacebar"!==e.code&&"Space"!==e.code&&"ArrowUp"!==e.code&&"ArrowDown"!==e.code||e.preventDefault()},k=function(e){var s,t,a=Math.max(Math.min(l-1,e),0);w.current[a]&&(null===(s=w.current[a])||void 0===s||s.focus(),null===(t=w.current[a])||void 0===t||t.select(),y(a))},L=function(e){var s=S();s[N]=e[0],I(s)},I=function(e){var s=e.join("");i(s)},D=function(e){var s;e.preventDefault();var t=S(),a=N,n=e.clipboardData.getData("text/plain").slice(0,l-N).split("");if(!E||!n.some((function(e){return isNaN(Number(e))}))){for(var r=0;r<l;++r)r>=N&&n.length>0&&(t[r]=null!==(s=n.shift())&&void 0!==s?s:"",a++);k(a),I(t)}};return a.createElement("div",{style:Object.assign({display:"flex",alignItems:"center"},n(f)&&f),className:"string"===typeof f?f:void 0,onPaste:o},Array.from({length:l},(function(e,s){return s})).map((function(e){var s,t,r;return a.createElement(a.Fragment,{key:e},d({value:null!==(s=S()[e])&&void 0!==s?s:"",placeholder:null!==(r=null===(t=C())||void 0===t?void 0:t[e])&&void 0!==r?r:void 0,ref:function(s){return w.current[e]=s},onChange:A,onFocus:function(s){return function(e){return function(s){y(s),e.target.select()}}(s)(e)},onBlur:P,onKeyDown:O,onPaste:D,autoComplete:"off","aria-label":"Please enter OTP character ".concat(e+1),style:Object.assign(j?{}:{width:"1em",textAlign:"center"},n(v)?v:{}),className:"string"===typeof v?v:void 0,type:p,inputMode:E?"numeric":"text",onInput:_},e),e<l-1&&("function"===typeof h?h(e):h))})))}},92342:()=>{}}]);
//# sourceMappingURL=9699.a6f2b686.chunk.js.map