"use strict";(self.webpackChunkglueple_user=self.webpackChunkglueple_user||[]).push([[9948],{99948:(e,a,i)=>{i.r(a),i.d(a,{default:()=>b});var t=i(65043),l=i(22166),n=i(35685),s=i(94174),d=i(52027),o=i(49985),c=i(56462),r=i(45531),u=i(26181),f=i(80728),m=i(85831),v=i(90607),h=i(70579);const p=e=>{const{addQualificationPending:a,updateQualificationPending:i}=(0,l.d4)((e=>null===e||void 0===e?void 0:e.qualification)),{t:n}=(0,v.K)(),{selectedQualificationData:s,openModel:d,handleOpenClose:p,handleCreateUpdateQualification:x,allQualifications:g}=e,[N,j]=(0,t.useState)({}),[b,Q]=(0,t.useState)({name:"",short_name:"",parent_id:null}),_=(e,a)=>{var i;const t=a||(null===(i=e.target)||void 0===i?void 0:i.name),{value:l,type:n,checked:s}=null!==e&&void 0!==e&&e.target?e.target:{value:e};Q((e=>{const a={...e,[t]:"checkbox"===n?s:l};return"name"===t&&(a.short_name=(0,o.aF)(l),j((e=>({...e,short_name:void 0})))),a})),j((e=>({...e,[t]:void 0})))};(0,t.useEffect)((()=>()=>{A()}),[d]),(0,t.useEffect)((()=>{s&&Q({parent:{value:null===s||void 0===s?void 0:s.parent_id,label:null===s||void 0===s?void 0:s.parent_name},name:null===s||void 0===s?void 0:s.name,short_name:null===s||void 0===s?void 0:s.short_name})}),[s]);const A=()=>{Q({parent:null,name:"",short_name:""}),j({})};return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:"offcanvas offcanvas-end  "+(d?"show":""),tabIndex:-1,style:{visibility:d?"visible":"hidden",width:"800px"},id:"interviewDetail",children:[(0,h.jsxs)("div",{className:"offcanvas-header",children:[(0,h.jsxs)("h5",{className:"offcanvas-title  fs-5 fw-bold text-primary",children:[s?"Update":"Add"," Qualification"]}),(0,h.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close",onClick:()=>p()})]}),(0,h.jsx)("div",{className:"offcanvas-body myRequest ",children:(0,h.jsxs)("div",{className:"formPanel",children:[(0,h.jsxs)("div",{className:"row",children:[(0,h.jsx)("div",{className:"col-md-3",children:(0,h.jsx)("div",{className:"form-group mb-3",children:(0,h.jsx)(r.JU,{text:n("labels.name"),required:!0})})}),(0,h.jsx)("div",{className:"col-md-9",children:(0,h.jsxs)("div",{className:"form-group mb-3",children:[(0,h.jsx)(r.pd,{type:"text",placeholder:n("placeholders.qualificationName"),value:null===b||void 0===b?void 0:b.name,name:"name",onChange:e=>_(e)}),(null===N||void 0===N?void 0:N.name)&&(0,h.jsx)(m.eo,{text:N.name})]})})]}),(0,h.jsxs)("div",{className:"row",children:[(0,h.jsx)("div",{className:"col-md-3",children:(0,h.jsx)("div",{className:"form-group mb-3",children:(0,h.jsx)(r.JU,{text:n("labels.shortName"),required:!0})})}),(0,h.jsx)("div",{className:"col-md-9",children:(0,h.jsxs)("div",{className:"form-group mb-3",children:[(0,h.jsx)("input",{type:"text",className:"form-control fs-7",name:"short_name",placeholder:n("placeholders.shortName"),value:null===b||void 0===b?void 0:b.short_name,onChange:e=>_(e)}),(null===N||void 0===N?void 0:N.short_name)&&(0,h.jsx)(m.eo,{text:N.short_name})]})})]}),(0,h.jsxs)("div",{className:"row",children:[(0,h.jsx)("div",{className:"col-md-3",children:(0,h.jsx)("div",{className:"form-group mb-3",children:(0,h.jsx)(r.JU,{text:n("labels.parentQualification")})})}),(0,h.jsx)("div",{className:"col-md-9",children:(0,h.jsx)("div",{className:"form-group mb-3",children:(0,h.jsx)(c.A,{data:g,placeholder:n("placeholders.parentQualification"),value:(null===b||void 0===b?void 0:b.parent)||"",handleChange:e=>_(e,"parent"),name:"parent"})})})]})]})}),(0,h.jsx)("div",{className:"offcanvas-footer",children:(0,h.jsx)("div",{className:"d-flex align-items-center justify-content-end gap-3",children:(0,h.jsx)(m.Sv,{text:n(s?"btns.update":"btns.submit"),classNames:"btn btn-org-gradient",handleClick:()=>(async()=>{const e=await(0,u.i6)(f.NK,b);if(e.isValid){const{parent:e,name:a,short_name:i}=b,t={name:a,short_name:i,parent_id:(null===e||void 0===e?void 0:e.value)||""};j({}),x(t)}else j(e.errors)})(),isLoading:s?i:a})})})]}),d&&(0,h.jsx)("div",{className:"modal-backdrop fade show"})]})};var x=i(29829),g=i(86178),N=i.n(g);const j=e=>{const{t:a}=(0,v.K)(),{isLoading:i,setSelectedQualificationData:l,toggleCreateUpdateQualificationModal:n,toggleQualificationDeleteModal:s,currentPage:d,setCurrentPage:c,allQualificationsByParentId:u}=e,[f,m]=(0,t.useState)("");(0,t.useEffect)((()=>{m(u)}),[u]);const p=(0,t.useMemo)((()=>({sn:(e,a)=>(0,h.jsx)("span",{children:a+1}),is_active:e=>(0,h.jsx)("span",{className:`badge ${(0,o.XN)(e.is_active?"Active":"Inactive")}`,children:e.is_active?"Active":"Inactive"}),created_at:e=>N()(e.created_at).format("DD-MM-YYYY"),action:e=>(0,h.jsxs)("div",{className:"btn-group actionDrp",children:[(0,h.jsx)("button",{type:"button",className:"btn dropdown-toggle-split","data-bs-toggle":"dropdown","aria-expanded":"false",children:(0,h.jsx)("i",{className:"bi bi-three-dots-vertical"})}),(0,h.jsxs)("ul",{className:"dropdown-menu",children:[(0,h.jsx)("li",{children:(0,h.jsxs)("span",{className:"dropdown-item",onClick:()=>{n(e)},children:[(0,h.jsx)(r.In,{className:"bi bi-pencil-square me-1"}),"Update"]})}),(0,h.jsx)("li",{children:(0,h.jsxs)("span",{className:"dropdown-item",onClick:()=>s(e._id),children:[(0,h.jsx)(r.In,{className:"bi bi-trash me-1"}),"Delete"]})})]})]})})),[l,n]);return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(x.Ak,{data:null===f||void 0===f?void 0:f.data,fields:[{key:"sn",label:"S.N"},{key:"name",label:"Qualification Name"},{key:"short_name",label:"Short Name"},{key:"created_at",label:"Created At"},{key:"action",label:"Action"}],isLoading:i,pagination:!0,currentPage:d,setCurrentPage:c,totalPages:null===f||void 0===f?void 0:f.totalPages,tableName:a("headings.qualification"),scopedSlots:p})})},b=()=>{const e=(0,l.wA)(),{t:a}=(0,v.K)(),{addQualificationPending:i,addQualificationRes:o,addQualificationError:c,getAllQualificationPending:r,getAllQualificationRes:u,getAllQualificationError:f,getAllQualificationsByParentIdPending:x,getAllQualificationsByParentIdRes:g,getAllQualificationsByParentIdError:N,updateQualificationPending:b,updateQualificationRes:Q,updateQualificationError:_,deleteQualificationPending:A,deleteQualificationRes:E,deleteQualificationError:C}=(0,l.d4)((e=>e.qualification)),[w,S]=(0,t.useState)(!1),[I,R]=(0,t.useState)(""),[y,D]=(0,t.useState)(1),[L,P]=(0,t.useState)([]),[k,T]=(0,t.useState)(!1),[U,O]=(0,t.useState)(""),[V,q]=(0,t.useState)(""),F=e=>{R(e||""),S(!w)};(0,t.useEffect)((()=>{if(!i){if(c)return void e(s.Vw.handleClearQualificationStore("HANDLE_CLEAR_ADD_QUALIFICATION_STORE"));o&&200===(null===o||void 0===o?void 0:o.code)&&(e(s.Vw.handleClearQualificationStore("HANDLE_CLEAR_ADD_QUALIFICATION_STORE")),M(),B(),S(!w))}}),[o,c,i]),(0,t.useEffect)((()=>{if(!b){if(_)return void e(s.Vw.handleClearQualificationStore("HANDLE_CLEAR_UPDATE_QUALIFICATION_STORE"));Q&&200===(null===Q||void 0===Q?void 0:Q.code)&&(e(s.Vw.handleClearQualificationStore("HANDLE_CLEAR_UPDATE_QUALIFICATION_STORE")),M(),B(),S(!w))}}),[Q,_,b]),(0,t.useEffect)((()=>{M()}),[y]);const M=()=>{const a={page:y,limit:d.X$.limit};e(s.Vw.getAllQualificationsByParentIdRequest(a))};(0,t.useEffect)((()=>{if(!x){if(N)return;g&&200===(null===g||void 0===g?void 0:g.code)&&q(null===g||void 0===g?void 0:g.data)}}),[g,N,x]),(0,t.useEffect)((()=>{B()}),[]);const B=()=>{e(s.Vw.getAllQualificationRequest())};(0,t.useEffect)((()=>{if(!r){if(f)return;u&&200===(null===u||void 0===u?void 0:u.code)&&P(null===u||void 0===u?void 0:u.data)}}),[u,f,r]);const H=e=>{e&&O(e),T(!k)};return(0,t.useEffect)((()=>{if(!A){if(C)return void e(s.Vw.handleClearQualificationStore("HANDLE_CLEAR_DELETE_QUALIFICATION_STORE"));var a;if(E)if(200===(null===E||void 0===E?void 0:E.code))H(),y>1&&1===(null===V||void 0===V||null===(a=V.data)||void 0===a?void 0:a.length)?D((e=>e-1)):M(),B(),e(s.Vw.handleClearQualificationStore("HANDLE_CLEAR_DELETE_QUALIFICATION_STORE"))}}),[E,C,A]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:"d-flex justify-content-end ",children:(0,h.jsx)(m.Sv,{classNames:"btn btn-primary gradientBg",handleClick:()=>F(),text:a("btns.createQualification")})}),(0,h.jsx)(p,{openModel:w,handleOpenClose:F,handleCreateUpdateQualification:a=>{I?(a._id=null===I||void 0===I?void 0:I._id,e(s.Vw.updateQualificationRequest(a))):e(s.Vw.addQualificationRequest(a))},selectedQualificationData:I,allQualifications:L}),(0,h.jsx)(j,{setSelectedQualificationData:R,toggleCreateUpdateQualificationModal:F,currentPage:y,setCurrentPage:D,allQualifications:L,toggleQualificationDeleteModal:H,allQualificationsByParentId:V}),k&&(0,h.jsx)(n.A,{onApproveReject:a=>{if(a){const a={_id:U};e(null===s.Vw||void 0===s.Vw?void 0:s.Vw.deleteQualificationRequest(a))}else H()},isShow:k,desc:a("alerts.deletePopup.desc").replace("$1","Qualification"),btnRightLoading:A,btnTextRight:a("btns.delete"),btnTextLeft:a("btns.cancel")})]})}}}]);
//# sourceMappingURL=9948.17aa2706.chunk.js.map