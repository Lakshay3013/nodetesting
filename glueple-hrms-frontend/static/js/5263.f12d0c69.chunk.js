"use strict";(self.webpackChunkglueple_user=self.webpackChunkglueple_user||[]).push([[5263],{69737:(e,a,l)=>{l.d(a,{A:()=>t});l(65043);var s=l(70579);const t=e=>{const{name:a,value:l,handleChange:t,totalHours:i,intervalMinutes:d}=e,c=((e,a)=>{const l=[];let s="00",t="00";for(let i=0;i<e;i++)for(let e=0;e<60;e++)s=i<10?`0${i}`:i,e%a===0&&(t=e<10?`0${e}`:e,l.push({item:`${s}:${t}`}));return l})(i,d);return(0,s.jsxs)("select",{className:"form-select",name:a,value:l,onChange:e=>t(e),children:[(0,s.jsx)("option",{value:"",hidden:!0,children:"HH:MM"}),c.map(((e,a)=>(0,s.jsx)("option",{value:e.item,children:e.item},a)))]})}},46170:(e,a,l)=>{l.d(a,{A:()=>h});var s=l(65043),t=l(22166),i=(l(85831),l(94174)),d=l(42145),c=l(80728),n=l(26181),r=l(33474),o=(l(86178),l(69737),l(70579));const h=e=>{const a=(0,t.wA)(),{openAddCalendar:l,openAddCalendarModel:h,selectedCalendarData:u,setSelectedCalendarDatas:v,getAllShiftCalendar:m}=e,{addShiftCalendarPending:f,addShiftCalendarRes:x,addShiftCalendarError:j}=(0,t.d4)((e=>e.shift)),[k,p]=(0,s.useState)({}),[N,b]=(0,s.useState)(""),[g,y]=(0,s.useState)(""),[C,S]=(0,s.useState)(),[_,A]=(0,s.useState)([]),[w,E]=(0,s.useState)({title:"",working_days:"",alternative_saturday_off:"",week_off:""}),D=e=>{if(1==e.target.checked)A([..._,e.target.value]);else{let a=_.filter((a=>a!=e.target.value));A([...a])}},R=e=>{if(1==e.target.checked)S([...C,e.target.value]);else{let a=C.filter((a=>a!=e.target.value));S([...a])}};(0,s.useEffect)((()=>{if(!f){if(j)return void d.oR.error(null===j||void 0===j?void 0:j.errorMessage);var e,l;if(x)if(200===(null===x||void 0===x||null===(e=x.data)||void 0===e?void 0:e.code))d.oR.success(null===x||void 0===x||null===(l=x.data)||void 0===l?void 0:l.msg),h(),a(i.ce.handleClearShiftStore("HANDLE_CLEAR_ADD_SHIFT_CALENDAR_STORE"))}}),[x,j,f]),(0,s.useEffect)((()=>{E({title:(null===u||void 0===u?void 0:u.title)||"",working_days:(null===u||void 0===u?void 0:u.working_days)||"",alternative_saturday_off:(null===u||void 0===u?void 0:u.alternative_saturday_off)||"",week_off:null===u||void 0===u?void 0:u.week_off}),y(null===u||void 0===u?void 0:u.working_days),S(null===u||void 0===u?void 0:u.week_off),A(void 0==(null===u||void 0===u?void 0:u.alternative_saturday_off)?[]:null===u||void 0===u?void 0:u.alternative_saturday_off),b(null===u||void 0===u?void 0:u.id)}),[u]);(0,s.useEffect)((()=>{!1===l&&M()}),[l]);const M=()=>{E({title:"",working_days:"",alternative_saturday_off:"",week_off:""}),p({})};return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("div",{className:"offcanvas offcanvas-end creatNewTicketOff "+(l?"show":""),tabIndex:-1,style:{visibility:l?"visible":"hidden",width:"800px"},children:[(0,o.jsxs)("div",{className:"offcanvas-header",children:[(0,o.jsxs)("h5",{className:"offcanvas-title  fs-5 fw-bold text-primary",children:[u?"Update":"Create New"," Calendar"]}),(0,o.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close",onClick:()=>h()})]}),(0,o.jsx)("div",{className:"offcanvas-body",children:(0,o.jsx)("div",{className:"table-responsive tableDiv shiftmanagementtbl",children:(0,o.jsx)("table",{className:"table",children:(0,o.jsxs)("tbody",{children:[(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{width:"30%",children:(0,o.jsxs)("div",{className:"d-flex align-items-center",children:[(0,o.jsx)("span",{className:"srNum",children:"1"}),(0,o.jsx)("b",{className:"ps-3 text-primary",children:" Title "})]})}),(0,o.jsxs)("td",{children:[(0,o.jsx)("input",{type:"text",name:"title",value:w.title,onChange:e=>(e=>{const{name:a,value:l}=e.target;E({...w,[a]:l}),p((e=>({...e,[a]:void 0})))})(e),className:"form-control",placeholder:"Enter Title"}),(null===k||void 0===k?void 0:k.title)&&(0,o.jsx)(r.A,{text:k.title})]})]}),(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:(0,o.jsxs)("div",{className:"d-flex align-items-center",children:[(0,o.jsx)("span",{className:"srNum",children:"5"}),(0,o.jsx)("b",{className:"ps-3 text-primary",children:" Working Days"})]})}),(0,o.jsx)("td",{children:(0,o.jsx)("div",{className:"d-flex workingradio",children:(0,o.jsxs)("div",{className:"shiftInpt",children:[(0,o.jsxs)("select",{className:"form-select",required:!0,name:"shift_type",value:g,onChange:e=>{return a=e.target.value,y(a),void("5"==a?S(["6","0"]):"6"==a?(S([]),S(["0"])):"0"==a&&S([]));var a},children:[(0,o.jsx)("option",{value:"",hidden:!0,selected:!0,children:"Select Required Working Days"}),(0,o.jsx)("option",{value:"5",children:"5 Days"}),(0,o.jsx)("option",{value:"6",children:"6 Days"}),(0,o.jsx)("option",{value:"0",children:"7 Days"}),(0,o.jsx)("option",{value:"alternative_saturday",children:"Alternative Saturday Off"})]}),(null===k||void 0===k?void 0:k.working_days)&&(0,o.jsx)(r.A,{text:k.working_days})]})})})]}),"alternative_saturday"==g&&(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:(0,o.jsxs)("div",{className:"d-flex align-items-center",children:[(0,o.jsx)("span",{className:"srNum",children:"6"}),(0,o.jsx)("b",{className:"ps-3 text-primary",children:"Saturdays"})]})}),(0,o.jsx)("td",{children:(0,o.jsx)("div",{className:"d-flex workingradio",children:(0,o.jsxs)("div",{className:"d-flex gap-2 checkShift",children:[(0,o.jsxs)("div",{className:"form-check",children:[(0,o.jsx)("input",{className:"form-check-input",type:"checkbox",value:"1",name:"1",onClick:D,checked:null===_||void 0===_?void 0:_.includes("1")}),(0,o.jsx)("label",{className:"form-check-label",for:"first",children:"1st"})]}),(0,o.jsxs)("div",{className:"form-check",children:[(0,o.jsx)("input",{className:"form-check-input",type:"checkbox",value:"2",name:"2",onClick:D,checked:null===_||void 0===_?void 0:_.includes("2")}),(0,o.jsx)("label",{className:"form-check-label",for:"second",children:"2st"})]}),(0,o.jsxs)("div",{className:"form-check",children:[(0,o.jsx)("input",{className:"form-check-input",type:"checkbox",value:"3",name:"3",onClick:D,checked:null===_||void 0===_?void 0:_.includes("3")}),(0,o.jsx)("label",{className:"form-check-label",for:"third",children:"3st"})]}),(0,o.jsxs)("div",{className:"form-check",children:[(0,o.jsx)("input",{className:"form-check-input",type:"checkbox",value:"4",name:"4",onClick:D,checked:null===_||void 0===_?void 0:_.includes("4")}),(0,o.jsx)("label",{className:"form-check-label",for:"fourth ",children:"4st"})]}),(0,o.jsxs)("div",{className:"form-check",children:[(0,o.jsx)("input",{className:"form-check-input",type:"checkbox",value:"5",name:"5",onClick:D,checked:null===_||void 0===_?void 0:_.includes("5")}),(0,o.jsx)("label",{className:"form-check-label",for:"five ",children:"5st"})]})]})})})]}),"7"!=g&&"alternative_saturday"!=g&&(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:(0,o.jsxs)("div",{className:"d-flex align-items-center",children:[(0,o.jsx)("span",{className:"srNum",children:"7"}),(0,o.jsx)("b",{className:"ps-3 text-primary",children:" Week Off"})]})}),(0,o.jsx)("td",{children:(0,o.jsxs)("div",{className:"d-flex gap-2 checkShift",children:[(0,o.jsxs)("div",{className:"form-check",children:[(0,o.jsx)("input",{className:"form-check-input",type:"checkbox",value:"1",name:"1",id:"first",onClick:R,checked:null===C||void 0===C?void 0:C.includes("1")}),(0,o.jsx)("label",{className:"form-check-label",htmlFor:"first",children:"Monday"})]}),(0,o.jsxs)("div",{className:"form-check",children:[(0,o.jsx)("input",{className:"form-check-input",type:"checkbox",value:"2",name:"2",id:"second",onClick:R,checked:null===C||void 0===C?void 0:C.includes("2")}),(0,o.jsx)("label",{className:"form-check-label",htmlFor:"second",children:"Tuesday"})]}),(0,o.jsxs)("div",{className:"form-check",children:[(0,o.jsx)("input",{className:"form-check-input",type:"checkbox",value:"3",name:"3",id:"third",onClick:R,checked:null===C||void 0===C?void 0:C.includes("3")}),(0,o.jsx)("label",{className:"form-check-label",htmlFor:"third",children:"Wednesday"})]}),(0,o.jsxs)("div",{className:"form-check",children:[(0,o.jsx)("input",{className:"form-check-input",type:"checkbox",value:"4",name:"4",id:"fourth ",onClick:R,checked:null===C||void 0===C?void 0:C.includes("4")}),(0,o.jsx)("label",{className:"form-check-label",htmlFor:"fourth ",children:"Thursday"})]}),(0,o.jsxs)("div",{className:"form-check",children:[(0,o.jsx)("input",{className:"form-check-input",type:"checkbox",value:"5",name:"5",id:"five ",onClick:R,checked:null===C||void 0===C?void 0:C.includes("5")}),(0,o.jsx)("label",{className:"form-check-label",htmlFor:"five ",children:"Friday"})]}),(0,o.jsxs)("div",{className:"form-check",children:[(0,o.jsx)("input",{className:"form-check-input",type:"checkbox",value:"6",name:"6",id:"five ",onClick:R,checked:null===C||void 0===C?void 0:C.includes("6")}),(0,o.jsx)("label",{className:"form-check-label",htmlFor:"five ",children:"Saturday"})]}),(0,o.jsxs)("div",{className:"form-check",children:[(0,o.jsx)("input",{className:"form-check-input",type:"checkbox",value:"0",name:"0",id:"five ",onClick:R,checked:null===C||void 0===C?void 0:C.includes("0")}),(0,o.jsx)("label",{className:"form-check-label",htmlFor:"five ",children:"Sunday"})]})]})})]})]})})})}),(0,o.jsx)("div",{className:"offcanvas-footer",children:(0,o.jsx)("div",{className:"d-flex align-items-center justify-content-end gap-3",children:(0,o.jsx)("button",{type:"button",className:"btn btn-primary gradientBg",onClick:()=>(async()=>{w.working_days=g,w.alternative_saturday_off=_,w.week_off=C;const e=await(0,n.i6)(c.oc,w);e.isValid?(p({}),u?(w._id=N,a(i.ce.updateShiftCalendarRequest(w)),h(),m()):(a(i.ce.addShiftCalendarRequest(w)),m())):p(e.errors)})(),children:"Submit"})})})]})})}},33611:(e,a,l)=>{l.r(a),l.d(a,{default:()=>j});var s=l(65043),t=(l(44060),l(48334)),i=l(22166),d=l(94174),c=(l(42145),l(85831)),n=l(35685),r=l(34348),o=l.n(r),h=l(49985),u=l(82149),v=l(70579);const m=e=>{const{calendarList:a,isLoading:l,openAddCalendarModel:t,currentPage:d,setCurrentPage:n,setSelectedCalendarDatas:r,onHandleDeleteModal:m,onHandleViewModal:f}=e,[x,j]=((0,i.wA)(),(0,s.useState)(!1)),[k,p]=(0,s.useState)([]),N=(0,s.useMemo)((()=>({sn:(e,a)=>(0,v.jsx)("span",{children:a+1}),is_active:e=>(0,v.jsx)("span",{className:`badge ${(0,h.XN)(e.is_active?"Active":"Inactive")}`,children:e.is_active?"Active":"Inactive"}),created_at:e=>o()(e.created_at).format("DD-MM-YYYY"),action:e=>(0,v.jsxs)("div",{className:"actionGroup d-flex gap-2",children:[(0,v.jsx)(c.Sv,{text:"Update",classNames:"btn btn-primary",handleClick:()=>{r(e),t()}}),(0,v.jsx)(c.Sv,{text:"Delete",handleClick:()=>m(null===e||void 0===e?void 0:e.id),classNames:"btn btn-danger"})]})})),[r,t,m,f]);return(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(u.A,{data:null===a||void 0===a?void 0:a.data,fields:[{key:"sn",label:"S.N"},{key:"title",label:"Template Name"},{key:"working_days",label:"Working Days"},{key:"created_at",label:"Created At"},{key:"action",label:"Action"}],isLoading:l,pagination:!0,currentPage:d,setCurrentPage:n,totalPages:null===a||void 0===a?void 0:a.totalPages,tableName:"Shift Calendar",scopedSlots:N})})};l(30454);var f=l(46170),x=l(52027);l(39041),l(67565);const j=()=>{const e=(0,i.wA)(),[a,l]=(0,s.useState)(!1),{getAllShiftCalendarRes:c,getAllShiftCalendarError:r,getAllShiftCalendarPending:o,deleteShiftCalendarPending:h,deleteShiftCalendarRes:u,deleteShiftCalendarError:j}=(0,i.d4)((e=>e.shift)),[k,p]=(0,s.useState)(1),[N,b]=(0,s.useState)(""),[g,y]=(0,s.useState)(""),[C,S]=(0,s.useState)(),[_,A]=(0,s.useState)(!1),[w,E]=(0,s.useState)(""),[D,R]=(0,s.useState)(!1),[M,L]=(0,s.useState)([]),[T,H]=(0,s.useState)(),[F,P]=(0,s.useState)(!1),[q,I]=(0,s.useState)([]);(0,s.useEffect)((()=>{if(!o){if(r)return void I([]);c&&200==(null===c||void 0===c?void 0:c.code)&&I(null===c||void 0===c?void 0:c.data)}}),[o,c,r]),(0,s.useEffect)((()=>{if(!h){if(j)return void e(d.ce.handleClearShiftStore("HANDLE_CLEAR_DELETE_SHIFT_CALENDAR_STORE"));var a;if(u)200==(null===u||void 0===u||null===(a=u.data)||void 0===a?void 0:a.code)&&(e(d.ce.handleClearShiftStore("HANDLE_CLEAR_DELETE_SHIFT_CALENDAR_STORE")),O())}}),[u,j,h]);(0,s.useEffect)((()=>{O()}),[k]);const O=()=>{const a={page:k,limit:x.X$.limit};e(d.ce.getAllShiftCalendarRequest(a))},$=e=>{l(!a)},W=(0,s.useMemo)((()=>q),[q]);(0,s.useMemo)((()=>M),[M]);return(0,v.jsxs)("div",{className:"cardBox mb-3 mt-3 pt-5 myRequest",children:[(0,v.jsxs)("ul",{className:"nav nav-tabs leaveTabs mb-4",children:[(0,v.jsx)("li",{className:"nav-item",children:(0,v.jsx)("button",{className:"nav-link active","data-bs-toggle":"tab","data-bs-target":"#createEmailTemplate",type:"button",children:"Calendar"})}),(0,v.jsx)("li",{className:"nav-item",children:(0,v.jsx)("button",{className:"nav-link","data-bs-toggle":"tab","data-bs-target":"#addAction",type:"button",children:"Shift Bulk Upload"})})]}),(0,v.jsxs)("div",{className:"tab-content",children:[(0,v.jsxs)("div",{className:"tab-pane fade active show",id:"createEmailTemplate",children:[(0,v.jsx)("div",{className:"cardHead d-flex align-items-center justify-content-between",children:(0,v.jsx)(t.A,{btnClassName:"btn btn-primary gradientBg",onClickFun:()=>$(),children:"Add Calendar"})}),(0,v.jsx)(m,{calendarList:W,isLoading:o,openAddCalendarModel:$,setSelectedCalendarDatas:b,onHandleDeleteModal:e=>{A(!_),S(e)},currentPage:k,setCurrentPage:p,onHandleViewModal:e=>{E(e),$()}}),(0,v.jsx)(f.A,{openAddCalendar:a,openAddCalendarModel:$,setSelectedCalendarDatas:b,selectedCalendarData:N,getAllShiftCalendar:O})]}),(0,v.jsx)("div",{className:"tab-pane fade active",id:"addAction",children:(0,v.jsx)("div",{className:"cardHead d-flex align-items-center justify-content-between"})})]}),_&&(0,v.jsx)(n.A,{onApproveReject:a=>{if(a){const a={_id:C};e(null===d.ce||void 0===d.ce?void 0:d.ce.deleteShiftCalendarRequest(a)),A(!_)}else A(!_)},isShow:_,desc:"You want to delete this Shift Calendar",btnRightLoading:h})]})}}}]);
//# sourceMappingURL=5263.f12d0c69.chunk.js.map