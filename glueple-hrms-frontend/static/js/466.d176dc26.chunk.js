"use strict";(self.webpackChunkglueple_user=self.webpackChunkglueple_user||[]).push([[466],{3612:(e,i,a)=>{a.r(i),a.d(i,{default:()=>N});var n=a(5043),s=a(3565),t=a(8334),l=a(2166),d=a(4174),o=a(2145),r=a(3885),c=a(728),v=a(6181),m=a(3474),u=(a(2405),a(579));const g=e=>{const{getAllDesignation:i,setSelectedDesignation:a,isOpen:s,toggleDesignation:t,selectedDesignation:o}=e,[g,f]=(0,n.useState)({}),h=(0,l.wA)(),{addDesignationPending:N,addDesignationRes:p,addDesignationError:x}=(0,l.d4)((e=>e.designation)),{getAllDepartmentRes:D,getAllDepartmentPending:j,getAllDepartmentError:E}=(0,l.d4)((e=>e.department)),{updateDesignationPending:A,updateDesignationRes:b,updateDesignationError:S}=(0,l.d4)((e=>e.designation)),[_,y]=(0,n.useState)([]),[R,C]=((0,l.d4)((e=>e.notifications)),(0,n.useState)(!1)),[w,I]=(0,n.useState)(""),[L,O]=(0,n.useState)({departmentId:"",designationName:"",shortName:""});(0,n.useEffect)((()=>{P()}),[]);const P=()=>{h(d.vd.getAllDepartmentRequest())};(0,n.useEffect)((()=>{if(!j){if(E)return void y([]);var e,i,a,n;if(D)if(200==(null===D||void 0===D||null===(e=D.data)||void 0===e?void 0:e.code))y(null===D||void 0===D||null===(i=D.data)||void 0===i||null===(a=i.data)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.data)}}),[j,E,D]);(0,n.useEffect)((()=>{if(!N){if(x)return void h(d.EU.handleClearDesignationStore("HANDLE_CLEAR_ADD_DESIGNATION_STORE"));var e;if(p)200==(null===p||void 0===p||null===(e=p.data)||void 0===e?void 0:e.code)&&(h(d.EU.handleClearDesignationStore("HANDLE_CLEAR_ADD_DESIGNATION_STORE")),t(),i())}}),[N,p,x]);const T=e=>{g&&f({});const{name:i,value:a}=e.target;O({...L,[i]:a})};return(0,n.useEffect)((()=>{O({departmentId:null===o||void 0===o?void 0:o.department_id,designationName:(null===o||void 0===o?void 0:o.name)||"",shortName:(null===o||void 0===o?void 0:o.short_name)||""}),C(null===o||void 0===o?void 0:o.is_active),I(null===o||void 0===o?void 0:o._id)}),[o]),(0,n.useEffect)((()=>{if(!A){if(S)return void h(d.EU.handleClearDesignationStore("HANDLE_CLEAR_UPDATE_DESIGNATION_STORE"));var e;if(b)200==(null===b||void 0===b||null===(e=b.data)||void 0===e?void 0:e.code)&&(h(d.EU.handleClearDesignationStore("HANDLE_CLEAR_UPDATE_DESIGNATION_STORE")),t(),i())}}),[A,b,S]),(0,n.useEffect)((()=>{0==s&&(O({departmentId:"",designationName:"",shortName:""}),a(""),f({}))}),[s]),(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("div",{className:"offcanvas offcanvas-end creatNewTicketOff "+(s?"show":""),tabIndex:-1,style:{visibility:s?"visible":"hidden"},children:[(0,u.jsxs)("div",{className:"offcanvas-header",children:[(0,u.jsxs)("h5",{className:"offcanvas-title  fs-5 fw-bold text-primary",children:[o?"Update":"Create New"," Designation"]}),(0,u.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close",onClick:()=>t()})]}),(0,u.jsx)("div",{className:"offcanvas-body",children:(0,u.jsxs)("div",{className:"formPanel",children:[(0,u.jsxs)("div",{className:"row",children:[(0,u.jsx)("div",{className:"col-md-3",children:(0,u.jsx)("div",{className:"form-group mb-3",children:(0,u.jsxs)("label",{children:["Select Depatment ",(0,u.jsx)("span",{className:"text-danger",children:"*"})," "]})})}),(0,u.jsx)("div",{className:"col-md-9",children:(0,u.jsxs)("div",{className:"form-group mb-3",children:[(0,u.jsxs)("select",{className:"form-select",name:"departmentId",value:null===L||void 0===L?void 0:L.departmentId,onChange:e=>T(e),disabled:"",children:[(0,u.jsx)("option",{value:"",hidden:!0,selected:!0,children:"Select Department..."}),_&&(null===_||void 0===_?void 0:_.length)>0&&(null===_||void 0===_?void 0:_.map(((e,i)=>(0,u.jsx)("option",{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.name}))))]}),(null===g||void 0===g?void 0:g.department)&&(0,u.jsx)(m.A,{text:g.department})]})}),(0,u.jsx)("div",{className:"col-md-3",children:(0,u.jsx)("div",{className:"form-group mb-3",children:(0,u.jsxs)("label",{htmlFor:!0,children:["Name ",(0,u.jsx)("span",{className:"text-danger",children:"*"})]})})}),(0,u.jsx)("div",{className:"col-md-9",children:(0,u.jsxs)("div",{className:"form-group mb-3",children:[(0,u.jsx)("input",{type:"text",className:"form-control fs-7",placeholder:"Enter Designation Name",name:"designationName",value:(null===L||void 0===L?void 0:L.designationName)||"",onChange:e=>T(e)}),(null===g||void 0===g?void 0:g.designationName)&&(0,u.jsx)(m.A,{text:g.designationName})]})})]}),(0,u.jsxs)("div",{className:"row",children:[(0,u.jsx)("div",{className:"col-md-3",children:(0,u.jsx)("div",{className:"form-group mb-3",children:(0,u.jsxs)("label",{htmlFor:!0,children:["Short Name ",(0,u.jsx)("span",{className:"text-danger",children:"*"})]})})}),(0,u.jsx)("div",{className:"col-md-9",children:(0,u.jsxs)("div",{className:"form-group mb-3",children:[(0,u.jsx)("input",{type:"text",className:"form-control fs-7",name:"shortName",placeholder:"Enter Short Name",value:null===L||void 0===L?void 0:L.shortName,onChange:e=>T(e)}),(null===g||void 0===g?void 0:g.shortName)&&(0,u.jsx)(m.A,{text:g.shortName})]})})]}),(0,u.jsxs)("div",{className:"row",children:[(0,u.jsx)("div",{className:"col-md-3",children:(0,u.jsx)("div",{className:"form-group mb-3",children:(0,u.jsx)("label",{htmlFor:!0,children:"Is Active"})})}),(0,u.jsx)("div",{className:"col-md-9",children:(0,u.jsx)("div",{className:"form-group mb-3",children:(0,u.jsx)("input",{type:"checkbox",placeholder:"Is Active",checked:R,onChange:e=>C(!R)})})})]}),(0,u.jsx)("div",{className:"d-flex align-items-center justify-content-end gap-2",children:(0,u.jsx)(r.Sv,{type:"button",classNames:"btn btn-primary gradientBg",handleClick:e=>(async()=>{const e=await(0,v.i6)(c.Mv,L);if(e.isValid){f({});let e={department_id:null===L||void 0===L?void 0:L.departmentId,name:(null===L||void 0===L?void 0:L.designationName)||"",short_name:(null===L||void 0===L?void 0:L.shortName)||"",is_active:R};o?(e._id=w,h(d.EU.updateDesignationRequest(e))):h(d.EU.addDesignationRequest(e))}else f(e.errors)})(),isLoading:o?A:N,text:(o?"Update":"Create")+" Designation"})})]})})]})})};var f=a(7656),h=a(2027);const N=()=>{const e=(0,l.wA)(),{getAllDesignationRes:i,getAllDesignationError:a,getAllDesignationPending:r,deleteDesignationPending:c,deleteDesignationRes:v,deleteDesignationError:m}=(0,l.d4)((e=>e.designation)),[N,p]=(0,n.useState)(""),[x,D]=(0,n.useState)(""),[j,E]=(0,n.useState)(!1),[A,b]=(0,n.useState)(!1),[S,_]=(0,n.useState)(),[y,R]=(0,n.useState)(null===h.X$||void 0===h.X$?void 0:h.X$.page);(0,n.useEffect)((()=>{w()}),[]);const C=()=>{E(!j)},w=()=>{const i={page:y,limit:null===h.X$||void 0===h.X$?void 0:h.X$.limit};e(d.EU.getAllDesignationRequest(i))};(0,n.useEffect)((()=>{if(!r){if(a)return void o.oR.error(null===a||void 0===a?void 0:a.errorMessage);var e,n,s;if(i)if(200==(null===i||void 0===i||null===(e=i.data)||void 0===e?void 0:e.code))p(null===i||void 0===i||null===(n=i.data)||void 0===n||null===(s=n.data)||void 0===s?void 0:s.data)}}),[i,a,r]);return(0,n.useEffect)((()=>{if(!c){if(m)return o.oR.error(null===m||void 0===m?void 0:m.errorMessage),void e(d.EU.handleClearDesignationStore("HANDLE_CLEAR_DELETE_DESIGNATION_STORE"));var i,a;if(v)if(200==(null===v||void 0===v||null===(i=v.data)||void 0===i?void 0:i.code))o.oR.success(null===v||void 0===v||null===(a=v.data)||void 0===a?void 0:a.message),e(d.EU.handleClearDesignationStore("HANDLE_CLEAR_DELETE_DESIGNATION_STORE")),w()}}),[v,m,c]),(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:" d-flex  justify-content-end ",children:(0,u.jsx)(t.A,{btnClassName:"btn btn-primary gradientBg",onClickFun:()=>C(),children:"Create New Designation"})}),(0,u.jsx)(s.I,{designationList:N,isLoading:r,setSelectedDesignation:D,toggleDesignation:C,onHandleDeleteModal:e=>{b(!A),_(e)},currentPage:y,setCurrentPage:R}),(0,u.jsx)(g,{getAllDesignation:w,setSelectedDesignation:D,isOpen:j,toggleDesignation:C,selectedDesignation:x}),A&&(0,u.jsx)(f.A,{onApproveReject:(i,a)=>{if(i){let i={_id:S};e(null===d.EU||void 0===d.EU?void 0:d.EU.deleteDesignationRequest(i))}b(!A)},isShow:A,desc:"You want to delete this Designation",isLoading:c})]})}},276:(e,i,a)=>{a.d(i,{A:()=>E});var n=a(8139),s=a.n(n),t=a(5043),l=a(7852);a(8232);var d=a(1456);a(6723);"undefined"!==typeof a.g&&a.g.navigator&&a.g.navigator.product,new WeakMap;var o=a(4140),r=a(579);const c=["onKeyDown"];const v=t.forwardRef(((e,i)=>{let{onKeyDown:a}=e,n=function(e,i){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(i.indexOf(n)>=0)continue;a[n]=e[n]}return a}(e,c);const[s]=(0,o.Am)(Object.assign({tagName:"a"},n)),t=(0,d.A)((e=>{s.onKeyDown(e),null==a||a(e)}));return(l=n.href)&&"#"!==l.trim()&&"button"!==n.role?(0,r.jsx)("a",Object.assign({ref:i},n,{onKeyDown:a})):(0,r.jsx)("a",Object.assign({ref:i},n,s,{onKeyDown:t}));var l}));v.displayName="Anchor";const m=v,u=t.forwardRef(((e,i)=>{let{active:a=!1,disabled:n=!1,className:t,style:l,activeLabel:d="(current)",children:o,linkStyle:c,linkClassName:v,as:u=m,...g}=e;const f=a||n?"span":u;return(0,r.jsx)("li",{ref:i,style:l,className:s()(t,"page-item",{active:a,disabled:n}),children:(0,r.jsxs)(f,{className:s()("page-link",v),style:c,...g,children:[o,a&&d&&(0,r.jsx)("span",{className:"visually-hidden",children:d})]})})}));u.displayName="PageItem";const g=u;function f(e,i){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;const n=t.forwardRef(((e,n)=>{let{children:s,...t}=e;return(0,r.jsxs)(u,{...t,ref:n,children:[(0,r.jsx)("span",{"aria-hidden":"true",children:s||i}),(0,r.jsx)("span",{className:"visually-hidden",children:a})]})}));return n.displayName=e,n}const h=f("First","\xab"),N=f("Prev","\u2039","Previous"),p=f("Ellipsis","\u2026","More"),x=f("Next","\u203a"),D=f("Last","\xbb"),j=t.forwardRef(((e,i)=>{let{bsPrefix:a,className:n,size:t,...d}=e;const o=(0,l.oU)(a,"pagination");return(0,r.jsx)("ul",{ref:i,...d,className:s()(n,o,t&&`${o}-${t}`)})}));j.displayName="Pagination";const E=Object.assign(j,{First:h,Prev:N,Ellipsis:p,Item:g,Next:x,Last:D})},2342:()=>{}}]);
//# sourceMappingURL=466.d176dc26.chunk.js.map