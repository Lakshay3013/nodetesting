"use strict";(self.webpackChunkglueple_user=self.webpackChunkglueple_user||[]).push([[2971],{32971:(e,t,a)=>{a.r(t),a.d(t,{default:()=>p});var n=a(65043),i=a(29829),s=a(90607),o=a(92250),l=a(49985),d=a(45531),c=a(70579);const r=e=>{const{t:t}=(0,s.K)(),{currentPage:a,setCurrentPage:r,correctionSettingData:v,toggleAddUpdateModal:m,isLoading:u,handleCorrectionSettingDeleteModal:g}=e,x=(0,n.useMemo)((()=>({sn:(e,t)=>(0,c.jsx)("span",{children:t+1}),is_active:e=>(0,c.jsx)("span",{className:`badge ${(0,l.XN)(e.is_active?"Active":"Inactive")}`,children:e.is_active?"Active":"Inactive"}),action:e=>(0,c.jsxs)("div",{className:"btn-group actionDrp",children:[(0,c.jsx)("button",{type:"button",className:"btn dropdown-toggle-split","data-bs-toggle":"dropdown","aria-expanded":"false",children:(0,c.jsx)("i",{className:"bi bi-three-dots-vertical"})}),(0,c.jsxs)("ul",{className:"dropdown-menu",children:[(0,c.jsx)("li",{children:(0,c.jsxs)("span",{className:"dropdown-item",onClick:()=>m(e),children:[(0,c.jsx)(d.In,{className:"bi bi-pencil-square"}),"    Update"]})}),(0,c.jsx)("li",{children:(0,c.jsxs)("span",{className:"dropdown-item",onClick:()=>g(null===e||void 0===e?void 0:e.id),children:[(0,c.jsx)(d.In,{className:"bi bi-trash"})," Delete"]})})]})]})})),[v,a]);return(0,c.jsx)("div",{children:(0,c.jsxs)("div",{className:" myRequest mb-3 employeeHistory",children:[(0,c.jsxs)("div",{className:"d-flex align-items-center justify-content-between gap-3",children:[(0,c.jsx)("div",{className:" d-flex",children:(0,c.jsx)("h3",{className:"ms-2 mt-2 underlineHead ",style:{fontSize:"18px"},children:t("headings.correctionSetting")})}),(0,c.jsx)(o.Sv,{text:"Add Correction Setting",classNames:"btn btn-primary",handleClick:()=>m()})]}),(0,c.jsx)(i.Ak,{data:null===v||void 0===v?void 0:v.data,fields:[{key:"sn",label:"S.N"},{key:"client_name",label:"Client Name"},{key:"attendance_correction_days",label:"Attendance Correction Days"},{key:"auto_logout_days",label:"Auto Logout Days"},{key:"attendance_logs_days",label:"Attendance Logs Days"},{key:"is_active",label:"Status"},{key:"action",label:"Action"}],isLoading:u,pagination:!0,currentPage:a,setCurrentPage:r,totalPages:null===v||void 0===v?void 0:v.totalPages,isHeader:!1,tableStyle:{padding:"0px",boxShadow:"none"},scopedSlots:x})]})})};var v=a(22166),m=a(26181),u=a(80728);const g=e=>{const{t:t}=(0,s.K)(),{updateClientPending:a,addClientPending:l}=(0,v.d4)((e=>e.client)),{createPermissionPending:r}=(0,v.d4)((e=>null===e||void 0===e?void 0:e.permission)),{openModel:g,handleOpenClose:x,handleAddUpdateCorrectionSetting:h,selectedCorrectionSetting:p}=e,[C,j]=(0,n.useState)({}),[b,N]=(0,n.useState)({clientCode:"",port:"",attendanceCorrectionDays:"",clientName:"",autoLogoutDays:"",attendanceImageLogsDays:"",attendanceLogsDays:"",baseUrl:"",isActive:!1,isAttendanceCorrectionNotification:!1,notificationText:""}),[y,f]=(0,n.useState)(""),[_,D]=(0,n.useState)(""),L=(e,t)=>{var a;const n=t||(null===(a=e.target)||void 0===a?void 0:a.name),{value:i,type:s,checked:o}=e.target?e.target:{value:e};N((e=>({...e,[n]:"checkbox"===s?o:i}))),j((e=>({...e,[n]:void 0})))};(0,n.useEffect)((()=>()=>{A()}),[g]);const A=()=>{N({clientCode:"",port:"",attendanceCorrectionDays:null,clientName:"",autoLogoutDays:null,attendanceImageLogsDays:"",attendanceLogsDays:"",baseUrl:"",isActive:!1,isAttendanceCorrectionNotification:!1,notificationText:""}),j({})};return(0,n.useEffect)((()=>{p&&(N({clientCode:(null===p||void 0===p?void 0:p.code)||"",port:null===p||void 0===p?void 0:p.port,attendanceCorrectionDays:null===p||void 0===p?void 0:p.attendance_correction_days,clientName:null===p||void 0===p?void 0:p.client_name,autoLogoutDays:null===p||void 0===p?void 0:p.auto_logout_days,attendanceImageLogsDays:null===p||void 0===p?void 0:p.attendance_image_logs_days,attendanceLogsDays:null===p||void 0===p?void 0:p.attendance_logs_days,baseUrl:null===p||void 0===p?void 0:p.base_url,isActive:null===p||void 0===p?void 0:p.is_active,isAttendanceCorrectionNotification:null===p||void 0===p?void 0:p.is_attendance_correction_notification}),f(null===p||void 0===p?void 0:p.attendance_correction_notification))}),[p]),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:"offcanvas offcanvas-end  "+(g?"show":""),tabIndex:-1,style:{visibility:g?"visible":"hidden",width:"800px"},id:"interviewDetail",children:[(0,c.jsxs)("div",{className:"offcanvas-header",children:[(0,c.jsx)("h5",{className:"offcanvas-title  fs-5 fw-bold text-primary",children:"Correction Setting"}),(0,c.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close",onClick:()=>x()})]}),(0,c.jsx)("div",{className:"offcanvas-body myRequest ",children:(0,c.jsx)("div",{className:"formPanel",children:(0,c.jsxs)("div",{className:"row",children:[(0,c.jsx)("div",{className:"col-md-6",children:(0,c.jsxs)("div",{className:"form-group mb-2",children:[(0,c.jsx)(d.JU,{text:t("labels.clientCode"),required:!0}),(0,c.jsx)(d.pd,{type:"text",placeholder:t("placeholders.clientCode"),value:null===b||void 0===b?void 0:b.clientCode,name:"clientCode",onChange:e=>L(e)}),(null===C||void 0===C?void 0:C.clientCode)&&(0,c.jsx)(o.eo,{text:C.clientCode})]})}),(0,c.jsx)("div",{className:"col-md-6",children:(0,c.jsxs)("div",{className:"form-group mb-2",children:[(0,c.jsx)(d.JU,{text:t("labels.clientName"),required:!0}),(0,c.jsx)(d.pd,{type:"text",placeholder:t("placeholders.clientName"),value:null===b||void 0===b?void 0:b.clientName,name:"clientName",onChange:e=>L(e)}),(null===C||void 0===C?void 0:C.clientName)&&(0,c.jsx)(o.eo,{text:C.clientName})]})}),(0,c.jsx)("div",{className:"col-md-6",children:(0,c.jsxs)("div",{className:"form-group mb-2",children:[(0,c.jsx)(d.JU,{text:t("labels.baseUrl"),required:!0}),(0,c.jsx)(d.pd,{type:"text",placeholder:t("placeholders.baseUrl"),value:null===b||void 0===b?void 0:b.baseUrl,name:"baseUrl",onChange:e=>L(e)}),(null===C||void 0===C?void 0:C.baseUrl)&&(0,c.jsx)(o.eo,{text:C.baseUrl})]})}),(0,c.jsx)("div",{className:"col-md-6",children:(0,c.jsxs)("div",{className:"form-group mb-2",children:[(0,c.jsx)(d.JU,{text:t("labels.port"),required:!0}),(0,c.jsx)(d.pd,{type:"number",placeholder:t("placeholders.port"),value:null===b||void 0===b?void 0:b.port,name:"port",onChange:e=>L(e)}),(null===C||void 0===C?void 0:C.port)&&(0,c.jsx)(o.eo,{text:C.port})]})}),(0,c.jsx)("div",{className:"col-md-6",children:(0,c.jsxs)("div",{className:"form-group mb-2",children:[(0,c.jsx)(d.JU,{text:t("labels.attendanceCorrectionDays"),required:!0}),(0,c.jsx)(d.pd,{type:"number",placeholder:t("placeholders.attendanceCorrectionDays"),value:null===b||void 0===b?void 0:b.attendanceCorrectionDays,name:"attendanceCorrectionDays",onChange:e=>L(e)}),(null===C||void 0===C?void 0:C.attendanceCorrectionDays)&&(0,c.jsx)(o.eo,{text:C.attendanceCorrectionDays})]})}),(0,c.jsxs)("div",{className:"col-md-6",children:[(0,c.jsxs)("div",{className:"form-group mb-2",children:[(0,c.jsx)(d.JU,{text:t("labels.autoLogoutDays"),required:!0}),(0,c.jsx)(d.pd,{type:"number",placeholder:t("placeholders.autoLogoutDays"),value:null===b||void 0===b?void 0:b.autoLogoutDays,name:"autoLogoutDays",onChange:e=>L(e)})]}),(null===C||void 0===C?void 0:C.autoLogoutDays)&&(0,c.jsx)(o.eo,{text:C.autoLogoutDays})]}),(0,c.jsx)("div",{className:"col-md-6",children:(0,c.jsxs)("div",{className:"form-group mb-2",children:[(0,c.jsx)(d.JU,{text:t("labels.attendanceImageLogsDays")}),(0,c.jsx)(d.pd,{type:"number",placeholder:t("placeholders.attendanceImageLogsDays"),value:null===b||void 0===b?void 0:b.attendanceImageLogsDays,name:"attendanceImageLogsDays",onChange:e=>L(e)}),(null===C||void 0===C?void 0:C.attendanceImageLogsDays)&&(0,c.jsx)(o.eo,{text:C.attendanceImageLogsDays})]})}),(0,c.jsx)("div",{className:"col-md-6",children:(0,c.jsxs)("div",{className:"form-group mb-2",children:[(0,c.jsx)(d.JU,{text:t("labels.attendanceLogsDays")}),(0,c.jsx)(d.pd,{type:"number",placeholder:t("placeholders.attendanceLogsDays"),value:null===b||void 0===b?void 0:b.attendanceLogsDays,name:"attendanceLogsDays",onChange:e=>L(e)}),(null===C||void 0===C?void 0:C.attendanceLogsDays)&&(0,c.jsx)(o.eo,{text:C.attendanceLogsDays})]})}),(0,c.jsxs)("div",{className:"row col-md-12",children:[(0,c.jsx)("div",{className:"col-md-3",children:(0,c.jsx)("div",{className:"form-group mb-3",children:(0,c.jsx)(d.JU,{text:t("labels.isAttendanceCorrectionNotification")})})}),(0,c.jsx)("div",{className:"col-md-9",children:(0,c.jsx)("div",{className:"form-group mb-3",children:(0,c.jsx)(d.P_,{id:"isAttendanceCorrectionNotification",checked:null===b||void 0===b?void 0:b.isAttendanceCorrectionNotification,handleChange:e=>L(e),name:"isAttendanceCorrectionNotification"},"isAttendanceCorrectionNotification")})})]}),(0,c.jsx)("div",{className:"row col-md-12",children:(0,c.jsxs)("div",{className:"form-group mb-2",children:[(0,c.jsx)(d.JU,{text:t("labels.notificationText")}),(0,c.jsx)(i.HG,{editorData:y,setEditorData:f,bodyData:_,editorSize:"sm"})]})}),(0,c.jsxs)("div",{className:"row col-md-12",children:[(0,c.jsx)("div",{className:"col-md-3",children:(0,c.jsx)("div",{className:"form-group mb-3",children:(0,c.jsx)(d.JU,{text:t("labels.isActive")})})}),(0,c.jsx)("div",{className:"col-md-9",children:(0,c.jsx)("div",{className:"form-group mb-3",children:(0,c.jsx)(d.P_,{id:"isActive",checked:null===b||void 0===b?void 0:b.isActive,handleChange:e=>L(e),name:"isActive"},"isActive")})})]})]})})}),(0,c.jsx)("div",{className:"offcanvas-footer",children:(0,c.jsx)("div",{className:"d-flex align-items-center justify-content-end gap-3",children:(0,c.jsx)(o.Sv,{text:t(p?"btns.update":"btns.submit"),classNames:"btn btn-org-gradient",handleClick:()=>(async()=>{const e=await(0,m.i6)(u.WK,b);if(e.isValid){const{clientCode:e,port:t,attendanceCorrectionDays:a,clientName:n,autoLogoutDays:i,attendanceImageLogsDays:s,attendanceLogsDays:o,baseUrl:l,isActive:d,notificationText:c,isAttendanceCorrectionNotification:r}=b;let v={code:e,client_name:n,base_url:l,port:t,attendance_correction_days:a,is_attendance_correction_notification:r,attendance_correction_notification:y,auto_logout_days:i,attendance_image_logs_days:s,attendance_logs_days:o,is_active:d};v._id=null===p||void 0===p?void 0:p.id,h(v)}else j(e.errors)})(),isLoading:p?a:l})})})]}),g&&(0,c.jsx)("div",{className:"modal-backdrop fade show"})]})};var x=a(94174),h=a(35685);const p=()=>{const e=(0,v.wA)(),{t:t}=(0,s.K)(),{addClientPending:a,addClientRes:o,addClientError:l,getAllClientPending:d,getAllClientRes:m,getAllClientError:u,updateClientPending:p,updateClientRes:C,updateClientError:j,deleteClientPending:b,deleteClientRes:N,deleteClientError:y}=(0,v.d4)((e=>e.client)),[f,_]=(0,n.useState)(!1),[D,L]=(0,n.useState)(""),[A,E]=(0,n.useState)(""),[S,R]=(0,n.useState)(!1),T=[{name:"Correction Setting",onClickFun:e=>I(e),id:"correctionSetting"}],[U,k]=(0,n.useState)(""),w=e=>{L(e||""),_(!f)},I=e=>{"correctionSetting"===e&&P()},P=()=>{e(x.R2.getAllClientRequest())};(0,n.useEffect)((()=>{if(!d){if(u)return;m&&200==(null===m||void 0===m?void 0:m.code)&&k(null===m||void 0===m?void 0:m.data)}}),[d,m,u]);(0,n.useEffect)((()=>{if(!a){if(l)return void e(x.R2.handleClearClientStore("HANDLE_CLEAR_ADD_CLIENT_STORE"));o&&200==(null===o||void 0===o?void 0:o.code)&&(e(x.R2.handleClearClientStore("HANDLE_CLEAR_ADD_CLIENT_STORE")),e(x.R2.handleClearClientStore("HANDLE_CLEAR_GET_ALL_CLIENT_STORE")),w(),P())}}),[a,o,l]),(0,n.useEffect)((()=>{if(!p){if(j)return void e(x.R2.handleClearClientStore("HANDLE_CLEAR_UPDATE_CLIENT_STORE"));C&&200==(null===C||void 0===C?void 0:C.code)&&(e(x.R2.handleClearClientStore("HANDLE_CLEAR_GET_ALL_CLIENT_STORE")),e(x.R2.handleClearClientStore("HANDLE_CLEAR_UPDATE_CLIENT_STORE")),w(),P())}}),[p,C,j]);const q=e=>{e&&E(e),R(!S)};return(0,n.useEffect)((()=>{if(!b){if(y)return void e(x.R2.handleClearClientStore("HANDLE_CLEAR_DELETE_CLIENT_STORE"));N&&200==(null===N||void 0===N?void 0:N.code)&&(e(x.R2.handleClearClientStore("HANDLE_CLEAR_DELETE_CLIENT_STORE")),q(),P())}}),[b,N,y]),(0,c.jsxs)("div",{className:"cardBox myRequest mb-3",children:[(0,c.jsxs)("div",{className:"cardHead d-flex align-items-center",children:[(0,c.jsx)("img",{src:"images/kpi-guidline.svg",alt:"",width:40,className:"me-2 fw-bold"}),(0,c.jsx)("h3",{children:" Setting"})]}),(0,c.jsx)(i.QE,{tabs:T,type:"settingTabs"}),(0,c.jsxs)("div",{className:"tab-content mykpiMain",children:[(0,c.jsx)("div",{className:"tab-pane fade ",id:"setting"}),(0,c.jsx)("div",{className:"tab-pane fade active show",id:"correctionSetting",children:(0,c.jsx)(r,{toggleAddUpdateModal:w,correctionSettingData:U,isLoading:d,handleCorrectionSettingDeleteModal:q})})]}),f&&(0,c.jsx)(g,{openModel:f,handleOpenClose:w,handleAddUpdateCorrectionSetting:t=>{e(D?x.R2.updateClientRequest(t):x.R2.addClientRequest(t))},selectedCorrectionSetting:D}),S&&(0,c.jsx)(h.A,{onApproveReject:t=>{if(t){const t={_id:A};e(null===x.R2||void 0===x.R2?void 0:x.R2.deleteClientRequest(t))}else q()},isShow:S,desc:t("alerts.deletePopup.desc").replace("$1","Correction Setting"),btnRightLoading:b,btnTextRight:t("btns.delete"),btnTextLeft:t("btns.cancel")})]})}}}]);
//# sourceMappingURL=2971.6edaa988.chunk.js.map