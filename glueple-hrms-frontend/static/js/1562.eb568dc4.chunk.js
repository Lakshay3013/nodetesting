"use strict";(self.webpackChunkglueple_user=self.webpackChunkglueple_user||[]).push([[1562],{11562:(e,a,t)=>{t.r(a),t.d(a,{default:()=>j});var i=t(65043),s=t(92250),n=t(22166),o=t(94174),l=t(26362),d=t(49985),r=t(86178),c=t.n(r),m=t(90607),x=t(70579);const v=e=>{const{t:a}=(0,m.K)(),{allPositions:t,isLoading:n,toggleCreateUpdatePositionModal:o,handlePositionDeleteModal:r,currentPage:v,setCurrentPage:u}=e,[h,p]=(0,i.useState)(t);(0,i.useEffect)((()=>{p(t)}),[t]);const f=(0,i.useMemo)((()=>({sn:(e,a)=>(0,x.jsx)("span",{children:a+1}),is_active:e=>(0,x.jsx)("span",{className:`badge ${(0,d.XN)(e.is_active?"Active":"Inactive")}`,children:e.is_active?"Active":"Inactive"}),created_at:e=>c()(e.created_at).format("DD-MM-YYYY"),action:e=>(0,x.jsxs)("div",{className:"actionGroup d-flex gap-2",children:[(0,x.jsx)(s.Sv,{text:a("btns.update"),classNames:"btn btn-primary",handleClick:()=>{o(e)}}),0===(null===e||void 0===e?void 0:e.emp_count)&&(0,x.jsx)(s.Sv,{text:a("btns.delete"),handleClick:()=>r(e._id),classNames:"btn btn-danger"})]})})),[o]);return(0,x.jsx)(x.Fragment,{children:(0,x.jsx)(l.Ak,{data:null===h||void 0===h?void 0:h.data,fields:[{key:"sn",label:"S.N"},{key:"department_name",label:"Departments"},{key:"designation_name",label:"Designations"},{key:"name",label:"Position Name"},{key:"short_name",label:"Short Name"},{key:"emp_count",label:"Total Employees"},{key:"is_active",label:"Status"},{key:"created_at",label:"Created At"},{key:"action",label:"Action"}],isLoading:n,pagination:!0,currentPage:v,setCurrentPage:u,totalPages:null===h||void 0===h?void 0:h.totalPages,tableName:"Position",scopedSlots:f})})};var u=t(52027),h=t(35685),p=t(56462),f=t(61487),k=t(26181),g=t(80728);const b=e=>{const{addPositionPending:a,updatePositionPending:t}=(0,n.d4)((e=>null===e||void 0===e?void 0:e.position)),{t:o}=(0,m.K)(),{selectedPositionData:l,openModel:r,handleOpenClose:c,allDepartments:v,handleDesignationByDepartment:u,allDesignations:h,handleCreateUpdatePosition:b}=e,[j,_]=(0,i.useState)({}),[N,P]=(0,i.useState)({department:null,designation:null,name:"",short_name:"",is_active:!0}),y=(e,a)=>{var t;const i=a||(null===(t=e.target)||void 0===t?void 0:t.name),{value:s,type:n,checked:o}=e.target?e.target:{value:e};"department"===a&&(u(null===s||void 0===s?void 0:s.value),P((e=>({...e,designation:null})))),P((e=>{const a={...e,[i]:"checkbox"===n?o:s};return"name"===i&&(a.short_name=(0,d.aF)(s)),a})),_((e=>({...e,[i]:void 0})))};(0,i.useEffect)((()=>()=>{S()}),[r]),(0,i.useEffect)((()=>{l&&P({department:{value:null===l||void 0===l?void 0:l.department_id,label:null===l||void 0===l?void 0:l.department_name},designation:{value:null===l||void 0===l?void 0:l.designation_id,label:null===l||void 0===l?void 0:l.designation_name},name:null===l||void 0===l?void 0:l.name,short_name:null===l||void 0===l?void 0:l.short_name,is_active:null===l||void 0===l?void 0:l.is_active})}),[l]);const S=()=>{P({department:null,designation:null,name:"",short_name:"",is_active:!0}),_({})};return(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)("div",{className:"offcanvas offcanvas-end  "+(r?"show":""),tabIndex:-1,style:{visibility:r?"visible":"hidden",width:"800px"},id:"interviewDetail",children:[(0,x.jsxs)("div",{className:"offcanvas-header",children:[(0,x.jsx)("h5",{className:"offcanvas-title  fs-5 fw-bold text-primary",children:o(l?"headings.updatePosition":"headings.createPosition")}),(0,x.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close",onClick:()=>c()})]}),(0,x.jsx)("div",{className:"offcanvas-body myRequest ",children:(0,x.jsxs)("div",{className:"formPanel",children:[(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-md-3",children:(0,x.jsx)("div",{className:"form-group mb-3",children:(0,x.jsx)(f.JU,{text:o("labels.selectDepartment"),required:!0})})}),(0,x.jsx)("div",{className:"col-md-9",children:(0,x.jsxs)("div",{className:"form-group mb-3",children:[(0,x.jsx)(p.A,{data:v,placeholder:o("placeholders.selectDepartment"),value:(null===N||void 0===N?void 0:N.department)||"",handleChange:e=>y(e,"department"),name:"department"}),(null===j||void 0===j?void 0:j.department)&&(0,x.jsx)(s.eo,{text:j.department})]})}),(0,x.jsx)("div",{className:"col-md-3",children:(0,x.jsx)("div",{className:"form-group mb-3",children:(0,x.jsx)(f.JU,{text:o("labels.selectDesignation"),required:!0})})}),(0,x.jsx)("div",{className:"col-md-9",children:(0,x.jsxs)("div",{className:"form-group mb-3",children:[(0,x.jsx)(p.A,{data:h,placeholder:o("placeholders.selectDesignation"),value:(null===N||void 0===N?void 0:N.designation)||"",handleChange:e=>y(e,"designation"),name:"designation"}),(null===j||void 0===j?void 0:j.designation)&&(0,x.jsx)(s.eo,{text:j.designation})]})}),(0,x.jsx)("div",{className:"col-md-3",children:(0,x.jsx)("div",{className:"form-group mb-3",children:(0,x.jsx)(f.JU,{text:o("labels.positionName"),required:!0})})}),(0,x.jsx)("div",{className:"col-md-9",children:(0,x.jsxs)("div",{className:"form-group mb-3",children:[(0,x.jsx)(f.pd,{type:"text",placeholder:o("placeholders.positionName"),value:null===N||void 0===N?void 0:N.name,name:"name",onChange:e=>y(e)}),(null===j||void 0===j?void 0:j.name)&&(0,x.jsx)(s.eo,{text:j.name})]})})]}),(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-md-3",children:(0,x.jsx)("div",{className:"form-group mb-3",children:(0,x.jsx)(f.JU,{text:o("labels.shortName"),required:!0})})}),(0,x.jsx)("div",{className:"col-md-9",children:(0,x.jsxs)("div",{className:"form-group mb-3",children:[(0,x.jsx)(f.pd,{type:"text",placeholder:o("placeholders.shortName"),value:null===N||void 0===N?void 0:N.short_name,name:"short_name",onChange:e=>y(e)}),(null===j||void 0===j?void 0:j.short_name)&&(0,x.jsx)(s.eo,{text:j.short_name})]})})]}),(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-md-3",children:(0,x.jsx)("div",{className:"form-group mb-3",children:(0,x.jsx)(f.JU,{text:o("labels.isActive")})})}),(0,x.jsx)("div",{className:"col-md-9",children:(0,x.jsx)("div",{className:"form-group mb-3",children:(0,x.jsx)(f.P_,{id:"is_active",checked:null===N||void 0===N?void 0:N.is_active,handleChange:e=>y(e),name:"is_active"},"is_active")})})]})]})}),(0,x.jsx)("div",{className:"offcanvas-footer",children:(0,x.jsx)("div",{className:"d-flex align-items-center justify-content-end gap-3",children:(0,x.jsx)(s.Sv,{text:o(l?"btns.update":"btns.submit"),classNames:"btn btn-org-gradient",handleClick:()=>(async()=>{const e=await(0,k.i6)(g.Td,N);if(e.isValid){const{department:e,designation:a,name:t,short_name:i,is_active:s}=N,n={name:t,short_name:i,is_active:s,department_id:null===e||void 0===e?void 0:e.value,designation_id:null===a||void 0===a?void 0:a.value};_({}),b(n)}else _(e.errors)})(),isLoading:l?t:a})})})]})})},j=()=>{const e=(0,n.wA)(),{t:a}=(0,m.K)(),{addPositionPending:t,addPositionRes:l,addPositionError:d,getAllPositionPending:r,getAllPositionRes:c,getAllPositionError:p,updatePositionPending:f,updatePositionRes:k,updatePositionError:g,deletePositionPending:j,deletePositionRes:_,deletePositionError:N}=(0,n.d4)((e=>e.position)),{getDepartmentListRes:P,getDepartmentListError:y,getDepartmentListPending:S}=(0,n.d4)((e=>e.department)),{getDesignationsByDepartmentRes:D,getDesignationsByDepartmentPending:E,getDesignationsByDepartmentError:A}=(0,n.d4)((e=>e.designation)),[C,L]=(0,i.useState)(!1),[R,w]=(0,i.useState)(""),[O,T]=(0,i.useState)([]),[B,G]=(0,i.useState)([]),[I,V]=(0,i.useState)(1),[M,U]=(0,i.useState)({}),[q,$]=(0,i.useState)(!1),[H,J]=(0,i.useState)("");(0,i.useEffect)((()=>{K()}),[]);const F=e=>{w(e||""),L(!C)};(0,i.useEffect)((()=>{if(!t){if(d)return void e(o.lu.handleClearPositionStore("HANDLE_CLEAR_ADD_POSITION_STORE"));l&&200===(null===l||void 0===l?void 0:l.code)&&(e(o.lu.handleClearPositionStore("HANDLE_CLEAR_ADD_POSITION_STORE")),Y(),L(!C))}}),[l,d,t]),(0,i.useEffect)((()=>{if(!f){if(g)return void e(o.lu.handleClearPositionStore("HANDLE_CLEAR_UPDATE_POSITION_STORE"));k&&200===(null===k||void 0===k?void 0:k.code)&&(e(o.lu.handleClearPositionStore("HANDLE_CLEAR_UPDATE_POSITION_STORE")),Y(),L(!C))}}),[k,g,f]);const K=()=>{const a=null===P||void 0===P?void 0:P.data;null!==a&&void 0!==a&&a.length?T(a):e(o.vd.getDepartmentListRequest())};(0,i.useEffect)((()=>{if(!S){if(y)return;if(P&&200===(null===P||void 0===P?void 0:P.code)){const e=null===P||void 0===P?void 0:P.data;T(e)}}}),[P,y,S]);(0,i.useEffect)((()=>{if(!E){if(A)return;if(D&&200===(null===D||void 0===D?void 0:D.code)){const e=null===D||void 0===D?void 0:D.data;G(e)}}}),[D,A,E]),(0,i.useEffect)((()=>{Y()}),[I]);const Y=()=>{const a={page:I,limit:u.X$.limit};e(o.lu.getAllPositionRequest(a))};(0,i.useEffect)((()=>{if(!r){if(p)return;if(c&&200===(null===c||void 0===c?void 0:c.code)){const e=null===c||void 0===c?void 0:c.data;U(e)}}}),[c,p,r]);const X=e=>{e&&J(e),$(!q)};return(0,i.useEffect)((()=>{if(!j){if(N)return void e(o.lu.handleClearPositionStore("HANDLE_CLEAR_DELETE_POSITION_STORE"));var a;if(_)if(200===(null===_||void 0===_?void 0:_.code))X(),I>1&&1===(null===M||void 0===M||null===(a=M.data)||void 0===a?void 0:a.length)?V((e=>e-1)):Y(),e(o.lu.handleClearPositionStore("HANDLE_CLEAR_DELETE_POSITION_STORE"))}}),[_,N,j]),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:"d-flex  justify-content-end ",children:(0,x.jsx)(s.Sv,{classNames:"btn btn-primary gradientBg",handleClick:()=>F(),text:a("btns.createNewPosition")})}),(0,x.jsx)(b,{openModel:C,handleOpenClose:F,handleCreateUpdatePosition:a=>{R?(a._id=(null===R||void 0===R?void 0:R._id)||(null===R||void 0===R?void 0:R.id),e(o.lu.updatePositionRequest(a))):e(o.lu.addPositionRequest(a))},selectedPositionData:R,allDepartments:O,handleDesignationByDepartment:a=>{const t={department_id:a};e(o.EU.getDesignationsByDepartmentRequest(t))},allDesignations:B}),(0,x.jsx)(v,{toggleCreateUpdatePositionModal:F,currentPage:I,setCurrentPage:V,allPositions:M,handlePositionDeleteModal:X,isLoading:r}),q&&(0,x.jsx)(h.A,{onApproveReject:a=>{if(a){const a={_id:H};e(null===o.lu||void 0===o.lu?void 0:o.lu.deletePositionRequest(a))}else X()},isShow:q,desc:a("alerts.deletePopup.desc").replace("$1","Position"),btnRightLoading:j,btnTextRight:a("btns.delete"),btnTextLeft:a("btns.cancel")})]})}},35685:(e,a,t)=>{t.d(a,{A:()=>d});t(65043);var i=t(85248);const s=JSON.parse('{"nm":"history","ddd":0,"h":512,"w":512,"meta":{"g":"@lottiefiles/toolkit-js 0.33.2"},"layers":[{"ty":4,"nm":"big","sr":1,"st":0,"op":300,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[105,168,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[256,256,0],"ix":2},"r":{"a":1,"k":[{"o":{"x":0.333,"y":0},"i":{"x":0,"y":1},"s":[0],"t":0},{"s":[360],"t":90}],"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"hd":false,"mn":"ADBE Vector Group","nm":"Group 1","ix":1,"cix":2,"np":2,"it":[{"ty":"sh","bm":0,"hd":false,"mn":"ADBE Vector Shape - Group","nm":"Path 1","ix":1,"d":1,"ks":{"a":0,"k":{"c":false,"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-21,31.5],[-21,-31.5]]},"ix":2}},{"ty":"st","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Stroke","nm":"Stroke 1","lc":2,"lj":2,"ml":1,"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":42,"ix":5},"c":{"a":0,"k":[0.1137,0.3529,0.498],"ix":3}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[126,136.5],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]}],"ind":1},{"ty":4,"nm":"small","sr":1,"st":0,"op":300,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[126,136.5,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[277,224.5,0],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"hd":false,"mn":"ADBE Vector Group","nm":"Group 1","ix":1,"cix":2,"np":2,"it":[{"ty":"sh","bm":0,"hd":false,"mn":"ADBE Vector Shape - Group","nm":"Path 1","ix":1,"d":1,"ks":{"a":0,"k":{"c":false,"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[21,31.5],[-21,31.5]]},"ix":2}},{"ty":"st","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Stroke","nm":"Stroke 1","lc":2,"lj":2,"ml":1,"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":42,"ix":5},"c":{"a":0,"k":[0.1137,0.3529,0.498],"ix":3}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[126,136.5],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]}],"ind":2},{"ty":4,"nm":"Layer 1 Outlines","sr":1,"st":0,"op":300,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[294,294,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[256,256,0],"ix":2},"r":{"a":1,"k":[{"o":{"x":0.333,"y":0},"i":{"x":0,"y":1},"s":[0],"t":0},{"s":[-360],"t":90}],"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"hd":false,"mn":"ADBE Vector Group","nm":"Group 1","ix":1,"cix":2,"np":2,"it":[{"ty":"sh","bm":0,"hd":false,"mn":"ADBE Vector Shape - Group","nm":"Path 1","ix":1,"d":1,"ks":{"a":0,"k":{"c":false,"i":[[0,0],[-69.916,0],[0,-104.383],[104.383,0],[0,104.383]],"o":[[32.693,-56.438],[104.383,0],[0,104.383],[-104.382,0],[0,0]],"v":[[-163.509,-94.5],[0,-189],[189,0],[0,189],[-189,0]]},"ix":2}},{"ty":"st","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Stroke","nm":"Stroke 1","lc":2,"lj":2,"ml":1,"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":42,"ix":5,"x":"var $bm_rt;\\nvar index, normalStroke;\\nindex = transform.scale[0];\\nnormalStroke = 42;\\n$bm_rt = $bm_div(normalStroke, $bm_div(index, 100));"},"c":{"a":0,"k":[0.1137,0.3529,0.498],"ix":3}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[294,294],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]},{"ty":"gr","bm":0,"hd":false,"mn":"ADBE Vector Group","nm":"Group 2","ix":2,"cix":2,"np":2,"it":[{"ty":"sh","bm":0,"hd":false,"mn":"ADBE Vector Shape - Group","nm":"Path 1","ix":1,"d":1,"ks":{"a":1,"k":[{"o":{"x":0.333,"y":0},"i":{"x":0.833,"y":0.833},"s":[{"c":false,"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-47.25,-47.25],[-47.25,47.25],[47.25,47.25]]}],"t":0},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[{"c":false,"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-50.492,-17.426],[-47.25,47.25],[17.426,44.008]]}],"t":6},{"o":{"x":0.167,"y":0.167},"i":{"x":0.667,"y":1},"s":[{"c":false,"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-50.492,-17.426],[-47.25,47.25],[17.426,44.008]]}],"t":50},{"s":[{"c":false,"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-47.25,-47.25],[-47.25,47.25],[47.25,47.25]]}],"t":90}],"ix":2}},{"ty":"st","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Stroke","nm":"Stroke 1","lc":2,"lj":2,"ml":1,"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":42,"ix":5,"x":"var $bm_rt;\\nvar index, normalStroke;\\nindex = transform.scale[0];\\nnormalStroke = 42;\\n$bm_rt = $bm_div(normalStroke, $bm_div(index, 100));"},"c":{"a":0,"k":[0.1137,0.3529,0.498],"ix":3}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[175.875,152.25],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]}],"ind":3}],"v":"5.7.13","fr":60,"op":211,"ip":0,"assets":[]}');var n=t(92250),o=t(90607),l=t(70579);const d=e=>{let{title:a,desc:t="",onApproveReject:d,isShow:r,btnLeftLoading:c=!1,btnRightLoading:m=!1,btnTextLeft:x,btnTextRight:v}=e;const{t:u}=(0,o.K)();return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"modal fade attendanceViewodal",id:"sureMdl",style:{display:r?"unset !important":"none !important",opacity:r?"unset":"0"},children:(0,l.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:(0,l.jsx)("div",{className:"modal-content rounded-1 border-0",children:(0,l.jsx)("div",{className:"modal-body ",children:(0,l.jsxs)("div",{className:"text-center suremodalCon",children:[(0,l.jsx)("div",{className:"d-flex justify-content-center",children:(0,l.jsx)(i.A,{lottieUrl:s,Lottiestyle:{width:"90px",height:"90px"}})}),(0,l.jsx)("h6",{className:"fw-semibold mb-2",children:a||u("alerts.deletePopup.title")}),(0,l.jsx)("p",{className:"mb-5 px-4 text-center",children:t||""}),(0,l.jsxs)("div",{className:"d-flex justify-content-center gap-3",children:[(0,l.jsx)(n.Sv,{classNames:"btn btn-danger",isLoading:c,text:x||u("btns.reject"),handleClick:()=>d(!1)}),(0,l.jsx)(n.Sv,{classNames:"btn btn-success",isLoading:m,text:v||u("btns.confirm"),handleClick:()=>d(!0)})]})]})})})})}),r&&(0,l.jsx)("div",{className:"modal-backdrop fade show"})]})}}}]);
//# sourceMappingURL=1562.eb568dc4.chunk.js.map