"use strict";(self.webpackChunkglueple_user=self.webpackChunkglueple_user||[]).push([[9432],{29432:(e,t,a)=>{a.r(t),a.d(t,{default:()=>f});var s=a(65043),d=a(22166),i=a(85831),l=a(94174),o=a(52027),r=a(35685),n=a(90607),c=a(29829),p=a(50586),v=a(49985),m=a(26181),u=a(80728),j=a(70579);const g=e=>{const{t:t}=(0,n.K)(),{selectedProjectTypeData:a,openModel:d,handleOpenClose:l,handleCreateUpdateProjectType:o}=e,[r,c]=(0,s.useState)({}),[v,g]=(0,s.useState)({projectType:"",is_active:!0}),h=(e,t)=>{var a;const s=t||(null===(a=e.target)||void 0===a?void 0:a.name),{value:d,type:i,checked:l}=e.target?e.target:{value:e};g((e=>({...e,[s]:"checkbox"===i?l:d}))),c((e=>({...e,[s]:void 0})))};(0,s.useEffect)((()=>()=>{_()}),[d]),(0,s.useEffect)((()=>{a&&g({projectType:null===a||void 0===a?void 0:a.projectType,is_active:null===a||void 0===a?void 0:a.is_active})}),[a]);const _=()=>{g({projectType:"",is_active:!0}),c({})};return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:"offcanvas offcanvas-end  "+(d?"show":""),tabIndex:-1,style:{visibility:d?"visible":"hidden",width:"800px"},id:"interviewDetail",children:[(0,j.jsxs)("div",{className:"offcanvas-header",children:[(0,j.jsx)("h5",{className:"offcanvas-title  fs-5 fw-bold text-primary",children:t(a?"headings.updateProjectType":"headings.createProjectType")}),(0,j.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close",onClick:()=>l()})]}),(0,j.jsx)("div",{className:"offcanvas-body myRequest ",children:(0,j.jsx)("div",{className:"formPanel",children:(0,j.jsxs)("div",{className:"row",children:[(0,j.jsxs)("div",{className:"row",children:[(0,j.jsx)("div",{className:"col-md-3",children:(0,j.jsx)(p.JU,{text:t("labels.projectType"),required:!0})}),(0,j.jsx)("div",{className:"col-md-6",children:(0,j.jsxs)("div",{className:"form-group mb-3",children:[(0,j.jsx)(p.pd,{type:"text",placeholder:t("placeholders.projectType"),value:null===v||void 0===v?void 0:v.projectType,name:"projectType",onChange:e=>h(e)}),(null===r||void 0===r?void 0:r.projectType)&&(0,j.jsx)(i.eo,{text:r.projectType})]})})]}),(0,j.jsxs)("div",{className:"row",children:[(0,j.jsx)("div",{className:"col-md-3",children:(0,j.jsx)("div",{className:"form-group mb-3",children:(0,j.jsx)(p.JU,{text:t("labels.isActive")})})}),(0,j.jsx)("div",{className:"col-md-9",children:(0,j.jsx)("div",{className:"form-group mb-3",children:(0,j.jsx)(p.P_,{id:"is_active",checked:null===v||void 0===v?void 0:v.is_active,handleChange:e=>h(e),name:"is_active"},"is_active")})})]})]})})}),(0,j.jsx)("div",{className:"offcanvas-footer",children:(0,j.jsx)("div",{className:"d-flex align-items-center justify-content-end gap-3",children:(0,j.jsx)(i.Sv,{text:t(a?"btns.update":"btns.submit"),classNames:"btn btn-org-gradient",handleClick:()=>(async()=>{const e=await(0,m.i6)(u.RO,v);if(e.isValid){const{projectType:e,is_active:t}=v,a={projectType:e,is_active:t};c({}),o(a)}else c(e.errors)})()})})})]}),d&&(0,j.jsx)("div",{className:"modal-backdrop fade show"})]})},h=e=>{const{allDepartments:t}=e,a=(0,d.wA)(),{t:m}=(0,n.K)(),[u,h]=(0,s.useState)([]),{addProjectTypePending:_,addProjectTypeRes:x,addProjectTypeError:y,getProjectTypePending:f,getProjectTypeRes:E,getProjectTypeError:C,updateProjectTypePending:b,updateProjectTypeRes:T,updateProjectTypeError:N,deleteProjectTypePending:P,deleteProjectTypeRes:R,deleteProjectTypeError:S}=(0,d.d4)((e=>e.department)),[A,D]=(0,s.useState)(!1),[L,O]=(0,s.useState)(""),[w,k]=(0,s.useState)(1),[H,I]=(0,s.useState)({}),[J,Y]=(0,s.useState)(!1),[U,q]=(0,s.useState)(""),[G,B]=(0,s.useState)(""),[M,$]=(0,s.useState)([]),F=(0,v.Yo)("update_task"),K=(0,v.Yo)("delete_task"),X=e=>{O(e||""),D(!A)};(0,s.useEffect)((()=>{if(!_){if(y)return void a(l.vd.handleClearDepartmentStore("HANDLE_CLEAR_ADD_PROJECT_TYPE_STORE"));x&&200===(null===x||void 0===x?void 0:x.code)&&(a(l.vd.handleClearDepartmentStore("HANDLE_CLEAR_ADD_PROJECT_TYPE_STORE")),a(l.vd.handleClearDepartmentStore("HANDLE_CLEAR_GET_ALL_PROJECT_TYPE_LIST_STORE")),a(l.vd.handleClearDepartmentStore("HANDLE_CLEAR_GET_PROJECT_TYPE_STORE")),X(),V())}}),[x,y,_]),(0,s.useEffect)((()=>{if(!b){if(N)return void a(l.vd.handleClearDepartmentStore("HANDLE_CLEAR_UPDATE_PROJECT_TYPE_STORE"));T&&200===(null===T||void 0===T?void 0:T.code)&&(a(l.vd.handleClearDepartmentStore("HANDLE_CLEAR_UPDATE_PROJECT_TYPE_STORE")),a(l.vd.handleClearDepartmentStore("HANDLE_CLEAR_GET_ALL_PROJECT_TYPE_LIST_STORE")),a(l.vd.handleClearDepartmentStore("HANDLE_CLEAR_GET_PROJECT_TYPE_STORE")),V(),X())}}),[T,N,b]),(0,s.useEffect)((()=>{V()}),[w]);const V=()=>{const e={page:w,limit:o.X$.limit};a(l.vd.getProjectTypeRequest(e))};(0,s.useEffect)((()=>{if(!f){if(C)return;if(E&&200===(null===E||void 0===E?void 0:E.code)){const e=null===E||void 0===E?void 0:E.data;I(e)}}}),[E,C,f]);const Z=e=>{e&&q(e),Y(!J)};(0,s.useEffect)((()=>{if(!P){if(S)return;var e;if(R)if(200===(null===R||void 0===R?void 0:R.code))Z(),w>1&&1===(null===H||void 0===H||null===(e=H.data)||void 0===e?void 0:e.length)?k((e=>e-1)):V()}}),[R,S,P]);const z=(0,s.useMemo)((()=>({sn:(e,t)=>(0,j.jsx)("span",{children:t+1}),is_active:e=>(0,j.jsx)("span",{className:`badge ${(0,v.XN)(e.is_active?"Active":"Inactive")}`,children:e.is_active?"Active":"Inactive"}),created_at:e=>(0,v.N_)(e.created_at),action:e=>(0===(null===e||void 0===e?void 0:e.emp_count)||F)&&(0,j.jsxs)("div",{className:"btn-group actionDrp",children:[(0,j.jsx)("button",{type:"button",className:"btn dropdown-toggle-split","data-bs-toggle":"dropdown","aria-expanded":"false",children:(0,j.jsx)("i",{className:"bi bi-three-dots-vertical"})}),(0,j.jsxs)("ul",{className:"dropdown-menu",children:[F&&(0,j.jsx)("li",{children:(0,j.jsxs)("span",{className:"dropdown-item",onClick:()=>X(e),children:[(0,j.jsx)(p.In,{className:"bi bi-pencil-square me-1"}),"Update"]})}),0===(null===e||void 0===e?void 0:e.emp_count)&&K&&(0,j.jsx)("li",{children:(0,j.jsxs)("span",{className:"dropdown-item",onClick:()=>Z(e._id),children:[(0,j.jsx)(p.In,{className:"bi bi-trash me-1"}),"Delete"]})})]})]})})),[X]),Q=[{key:"sn",label:"S.N"},{key:"name",label:"Project Type Name"},{key:"is_active",label:"Status"},{key:"created_at",label:"Created At"},(F||K)&&{key:"action",label:"Action"}];return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:"cardBox myRequest mb-3 employeeHistory",children:[(0,j.jsxs)("div",{className:"d-flex align-items-center justify-content-between gap-3",children:[(0,j.jsxs)("div",{className:"cardHead d-flex",children:[(0,j.jsx)("img",{src:"images/myrequest-icon.svg",alt:"",width:35}),(0,j.jsx)("h4",{className:"ms-2 ",children:"Project Types"})]}),(0,j.jsx)("div",{children:(0,j.jsx)(i.Sv,{classNames:"btn btn-primary gradientBg",handleClick:()=>X(),text:"Project Type",icon:(0,j.jsx)(p.In,{className:"fa fa-plus"})})})]}),(0,j.jsx)(c.Ak,{data:null===H||void 0===H?void 0:H.data,fields:Q,isLoading:f,pagination:!0,currentPage:w,setCurrentPage:k,totalPages:null===H||void 0===H?void 0:H.totalPages,isHeader:!1,tableStyle:{padding:"0px",boxShadow:"none"},scopedSlots:z})]}),A&&(0,j.jsx)(g,{openModel:A,handleOpenClose:X,handleCreateUpdateProjectType:e=>{L?(e._id=(null===L||void 0===L?void 0:L._id)||(null===L||void 0===L?void 0:L.id),a(l.vd.updateProjectTypeRequest(e))):a(l.vd.addProjectTypeRequest(e))},selectedProjectTypeData:L,allProjectListData:M,allEmployeeList:u,filteredDropdownData:G}),J&&(0,j.jsx)(r.A,{onApproveReject:e=>{if(e){}else Z()},isShow:J,desc:m("alerts.deletePopup.desc").replace("$1","ProjectType"),btnRightLoading:P,btnTextRight:m("btns.delete"),btnTextLeft:m("btns.cancel")})]})},_=e=>{const{t:t}=(0,n.K)(),{selectedCategoryData:a,openModel:d,handleOpenClose:l,handleCreateUpdateCategory:o}=e,[r,c]=(0,s.useState)({}),[v,g]=(0,s.useState)({categoryName:"",is_active:!0}),h=(e,t)=>{var a;const s=t||(null===(a=e.target)||void 0===a?void 0:a.name),{value:d,type:i,checked:l}=e.target?e.target:{value:e};g((e=>({...e,[s]:"checkbox"===i?l:d}))),c((e=>({...e,[s]:void 0})))};(0,s.useEffect)((()=>()=>{_()}),[d]),(0,s.useEffect)((()=>{a&&g({categoryName:null===a||void 0===a?void 0:a.categoryName})}),[a]);const _=()=>{g({categoryName:""}),c({})};return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:"offcanvas offcanvas-end  "+(d?"show":""),tabIndex:-1,style:{visibility:d?"visible":"hidden",width:"800px"},id:"interviewDetail",children:[(0,j.jsxs)("div",{className:"offcanvas-header",children:[(0,j.jsx)("h5",{className:"offcanvas-title  fs-5 fw-bold text-primary",children:t(a?"headings.updateCategory":"headings.createCategory")}),(0,j.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close",onClick:()=>l()})]}),(0,j.jsx)("div",{className:"offcanvas-body myRequest ",children:(0,j.jsx)("div",{className:"formPanel",children:(0,j.jsxs)("div",{className:"row",children:[(0,j.jsxs)("div",{className:"row",children:[(0,j.jsx)("div",{className:"col-md-3",children:(0,j.jsx)(p.JU,{text:t("labels.categoryName"),required:!0})}),(0,j.jsx)("div",{className:"col-md-6",children:(0,j.jsxs)("div",{className:"form-group mb-3",children:[(0,j.jsx)(p.pd,{type:"text",placeholder:t("placeholders.categoryName"),value:null===v||void 0===v?void 0:v.categoryName,name:"categoryName",onChange:e=>h(e)}),(null===r||void 0===r?void 0:r.categoryName)&&(0,j.jsx)(i.eo,{text:r.categoryName})]})})]}),(0,j.jsxs)("div",{className:"row",children:[(0,j.jsx)("div",{className:"col-md-3",children:(0,j.jsx)("div",{className:"form-group mb-3",children:(0,j.jsx)(p.JU,{text:t("labels.isActive")})})}),(0,j.jsx)("div",{className:"col-md-9",children:(0,j.jsx)("div",{className:"form-group mb-3",children:(0,j.jsx)(p.P_,{id:"is_active",checked:null===v||void 0===v?void 0:v.is_active,handleChange:e=>h(e),name:"is_active"},"is_active")})})]})]})})}),(0,j.jsx)("div",{className:"offcanvas-footer",children:(0,j.jsx)("div",{className:"d-flex align-items-center justify-content-end gap-3",children:(0,j.jsx)(i.Sv,{text:t(a?"btns.update":"btns.submit"),classNames:"btn btn-org-gradient",handleClick:()=>(async()=>{const e=await(0,m.i6)(u.yD,v);if(e.isValid){const{categoryName:e}=v,t={categoryName:e};c({}),o(t)}else c(e.errors)})()})})})]}),d&&(0,j.jsx)("div",{className:"modal-backdrop fade show"})]})},x=()=>{const e=(0,d.wA)(),{t:t}=(0,n.K)(),{addProjectCategoryPending:a,addProjectCategoryRes:m,addProjectCategoryError:u,getProjectCategoryPending:g,getProjectCategoryRes:h,getProjectCategoryError:x,updateProjectCategoryPending:y,updateProjectCategoryRes:f,updateProjectCategoryError:E,deleteProjectCategoryPending:C,deleteProjectCategoryRes:b,deleteProjectCategoryError:T}=(0,d.d4)((e=>e.department)),[N,P]=(0,s.useState)(!1),[R,S]=(0,s.useState)(""),[A,D]=(0,s.useState)(1),[L,O]=(0,s.useState)({}),[w,k]=(0,s.useState)(!1),[H,I]=(0,s.useState)(""),J=(0,v.Yo)("update_task"),Y=(0,v.Yo)("delete_task"),U=e=>{S(e||""),P(!N)};(0,s.useEffect)((()=>{if(!a){if(u)return void e(l.vd.handleClearDepartmentStore("HANDLE_CLEAR_ADD_PROJECT_CATEGORY_STORE"));m&&200===(null===m||void 0===m?void 0:m.code)&&(e(l.vd.handleClearDepartmentStore("HANDLE_CLEAR_ADD_PROJECT_CATEGORY_STORE")),e(l.vd.handleClearDepartmentStore("HANDLE_CLEAR_GET_PROJECT_CATEGORY_STORE")),e(l.vd.handleClearDepartmentStore("HANDLE_CLEAR_GET_ALL_PROJECT_CATEGORY_LIST_STORE")),U(),q())}}),[m,u,a]),(0,s.useEffect)((()=>{if(!y){if(E)return void e(l.vd.handleClearDepartmentStore("HANDLE_CLEAR_UPDATE_PROJECT_CATEGORY_STORE"));f&&200===(null===f||void 0===f?void 0:f.code)&&(e(l.vd.handleClearDepartmentStore("HANDLE_CLEAR_UPDATE_PROJECT_CATEGORY_STORE")),e(l.vd.handleClearDepartmentStore("HANDLE_CLEAR_GET_PROJECT_CATEGORY_STORE")),e(l.vd.handleClearDepartmentStore("HANDLE_CLEAR_GET_ALL_PROJECT_CATEGORY_LIST_STORE")),q(),U())}}),[f,E,y]),(0,s.useEffect)((()=>{q()}),[A]);const q=()=>{const t={page:A,limit:o.X$.limit};e(l.vd.getProjectCategoryRequest(t))};(0,s.useEffect)((()=>{if(!g){if(x)return;if(h&&200===(null===h||void 0===h?void 0:h.code)){const e=null===h||void 0===h?void 0:h.data;O(e)}}}),[h,x,g]);const G=e=>{e&&I(e),k(!w)};(0,s.useEffect)((()=>{if(!C){if(T)return;var e;if(b)if(200===(null===b||void 0===b?void 0:b.code))G(),A>1&&1===(null===L||void 0===L||null===(e=L.data)||void 0===e?void 0:e.length)?D((e=>e-1)):q()}}),[b,T,C]);const B=(0,s.useMemo)((()=>({sn:(e,t)=>(0,j.jsx)("span",{children:t+1}),is_active:e=>(0,j.jsx)("span",{className:`badge ${(0,v.XN)(e.is_active?"Active":"Inactive")}`,children:e.is_active?"Active":"Inactive"}),created_at:e=>(0,v.N_)(e.created_at),action:e=>(0===(null===e||void 0===e?void 0:e.emp_count)||J)&&(0,j.jsxs)("div",{className:"btn-group actionDrp",children:[(0,j.jsx)("button",{type:"button",className:"btn dropdown-toggle-split","data-bs-toggle":"dropdown","aria-expanded":"false",children:(0,j.jsx)("i",{className:"bi bi-three-dots-vertical"})}),(0,j.jsxs)("ul",{className:"dropdown-menu",children:[J&&(0,j.jsx)("li",{children:(0,j.jsxs)("span",{className:"dropdown-item",onClick:()=>U(e),children:[(0,j.jsx)(p.In,{className:"bi bi-pencil-square me-1"}),"Update"]})}),0===(null===e||void 0===e?void 0:e.emp_count)&&Y&&(0,j.jsx)("li",{children:(0,j.jsxs)("span",{className:"dropdown-item",onClick:()=>G(e._id),children:[(0,j.jsx)(p.In,{className:"bi bi-trash me-1"}),"Delete"]})})]})]})})),[U]),M=[{key:"sn",label:"S.N"},{key:"name",label:"Category  "},{key:"is_active",label:"Status"},{key:"created_at",label:"Created At"},(J||Y)&&{key:"action",label:"Action"}];return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:"cardBox myRequest mb-3 employeeHistory",children:[(0,j.jsxs)("div",{className:"d-flex align-items-center justify-content-between gap-3",children:[(0,j.jsxs)("div",{className:"cardHead d-flex",children:[(0,j.jsx)("img",{src:"images/myrequest-icon.svg",alt:"",width:35}),(0,j.jsx)("h4",{className:"ms-2 ",children:"Project Category"})]}),(0,j.jsx)("div",{children:(0,j.jsx)(i.Sv,{classNames:"btn btn-primary gradientBg",handleClick:()=>U(),text:"Project Category",icon:(0,j.jsx)(p.In,{className:"fa fa-plus"})})})]}),(0,j.jsx)(c.Ak,{data:null===L||void 0===L?void 0:L.data,fields:M,isLoading:g,pagination:!0,currentPage:A,setCurrentPage:D,totalPages:null===L||void 0===L?void 0:L.totalPages,isHeader:!1,tableStyle:{padding:"0px",boxShadow:"none"},scopedSlots:B})]}),N&&(0,j.jsx)(_,{selectedCategoryData:R,openModel:N,handleOpenClose:U,handleCreateUpdateCategory:t=>{R?(t._id=(null===R||void 0===R?void 0:R._id)||(null===R||void 0===R?void 0:R.id),e(l.vd.updateProjectCategoryRequest(t))):e(l.vd.addProjectCategoryRequest(t))}}),w&&(0,j.jsx)(r.A,{onApproveReject:e=>{if(e){}else G()},isShow:w,desc:t("alerts.deletePopup.desc").replace("$1","Project Category"),btnRightLoading:C,btnTextRight:t("btns.delete"),btnTextLeft:t("btns.cancel")})]})},y=[{label:"Project Type",value:"project_type",totalCount:2,imgUrl:"networking.png",permissionId:"project_type"},{label:"Project Category ",value:"project_category",totalCount:1,imgUrl:"settings.png",permissionId:"project_category"},{label:"Projects",value:"projects",totalCount:1,imgUrl:"projectIcon.png",permissionId:"project"}],f=()=>{(0,d.wA)();const[e,t]=(0,s.useState)("project_type"),[a,i]=(0,s.useState)([]),[l,o]=(0,s.useState)([]),[r,n]=(0,s.useState)([]),[c,v]=(0,s.useState)(y),[m,u]=(0,s.useState)({departmentCount:0,designationCount:0,projectCount:0,functionCount:0}),{getDepartmentListRes:g,getDepartmentListError:_,getDepartmentListPending:f,getSubDepartmentByDepartmentRes:E,getSubDepartmentByDepartmentError:C,getSubDepartmentByDepartmentPending:b}=(0,d.d4)((e=>e.department)),{getAllEmployeeRes:T,getAllEmployeeError:N,getAllEmployeePending:P}=(0,d.d4)((e=>e.employee));return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(p.yZ,{isActiveTab:e,setIsActiveTab:t,data:c}),"project_type"===e&&(0,j.jsx)(h,{}),"project_category"===e&&(0,j.jsx)(x,{allDepartments:a,allEmployeeList:r})]})}}}]);
//# sourceMappingURL=9432.154c42f9.chunk.js.map