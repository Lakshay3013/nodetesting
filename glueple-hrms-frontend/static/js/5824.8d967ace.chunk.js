"use strict";(self.webpackChunkglueple_user=self.webpackChunkglueple_user||[]).push([[5824],{45824:(e,a,t)=>{t.r(a),t.d(a,{default:()=>E});var n=t(65043),s=t(29829),i=t(85831),l=t(70579);var d=t(50586),r=t(90607),o=t(86178),c=t.n(o),m=t(52027),u=t(26181),p=t(80728);const v=e=>{const{openModel:a,handleOpenClose:t}=e,{t:s}=(0,r.K)(),[o,v]=(0,n.useState)(""),[g,x]=(0,n.useState)({from:"",to:"",ratingDuration:"",bonusDuration:""}),h=(e,a)=>{var t;const n=a||(null===(t=e.target)||void 0===t?void 0:t.name),{value:s}=null!==e&&void 0!==e&&e.target?e.target:{value:e};x((e=>{const a={...e,[n]:s};return"from"===n&&(a.to=c()(s).add("1","year").format("YYYY-MM-DD")),a})),v((e=>({...e,[n]:void 0})))},f=e=>m.nR.map((a=>(0,l.jsx)("div",{className:"ms-3",children:(0,l.jsx)(d.hI,{htmlFor:`${e}-${null===a||void 0===a?void 0:a.value}`,text:null===a||void 0===a?void 0:a.label,name:e,value:null===a||void 0===a?void 0:a.value,checked:g[e]===(null===a||void 0===a?void 0:a.value),handleChange:a=>h(a,e)})},null===a||void 0===a?void 0:a.value)));return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"offcanvas offcanvas-end  "+(a?"show":""),tabIndex:-1,style:{visibility:a?"visible":"hidden",width:"800px"},id:"interviewDetail",children:[(0,l.jsxs)("div",{className:"offcanvas-header",children:[(0,l.jsx)("h5",{className:"offcanvas-title  fs-5 fw-bold text-primary",children:s("headings.addFinancialYear")}),(0,l.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close",onClick:()=>t()})]}),(0,l.jsx)("div",{className:"offcanvas-body myRequest ",children:(0,l.jsx)("div",{className:"formPanel",children:(0,l.jsxs)("div",{className:"row",children:[(0,l.jsxs)("div",{className:"col-md-6 form-group mb-3",children:[(0,l.jsx)(d.JU,{text:s("labels.from"),required:!0}),(0,l.jsx)(d.pd,{type:"date",value:null===g||void 0===g?void 0:g.from,name:"from",onChange:e=>h(e)}),(null===o||void 0===o?void 0:o.from)&&(0,l.jsx)(i.eo,{text:o.from})]}),(0,l.jsxs)("div",{className:"col-md-6 form-group mb-3",children:[(0,l.jsx)(d.JU,{text:s("labels.to"),required:!0}),(0,l.jsx)(d.pd,{type:"date",value:null===g||void 0===g?void 0:g.to,name:"to",onChange:e=>h(e),isDisabled:!0}),(null===o||void 0===o?void 0:o.to)&&(0,l.jsx)(i.eo,{text:o.to})]}),(0,l.jsxs)("div",{className:"col-md-6 form-group mb-3",children:[(0,l.jsx)(d.JU,{text:s("labels.ratingDuration"),required:!0}),f("ratingDuration"),(null===o||void 0===o?void 0:o.ratingDuration)&&(0,l.jsx)(i.eo,{text:o.ratingDuration})]}),(0,l.jsxs)("div",{className:"col-md-6 form-group mb-3",children:[(0,l.jsx)(d.JU,{text:s("labels.bonusDuration"),required:!0}),f("bonusDuration"),(null===o||void 0===o?void 0:o.bonusDuration)&&(0,l.jsx)(i.eo,{text:o.bonusDuration})]})]})})}),(0,l.jsx)("div",{className:"offcanvas-footer",children:(0,l.jsx)("div",{className:"d-flex align-items-center justify-content-end gap-3",children:(0,l.jsx)(i.Sv,{text:s("btns.submit"),classNames:"btn btn-org-gradient",handleClick:()=>(async()=>{const e=await(0,u.i6)(p.kG,g);e.isValid||v(e.errors)})()})})})]}),a&&(0,l.jsx)("div",{className:"modal-backdrop fade show"})]})};var g=t(56462),x=t(22166);const h=e=>{const{allDepartmentList:a,subDepartmentByDepartmentData:t,getSubDepartmentByDepartment:s,handleCreateKraRatingTypeForDepartment:o}=e,{t:c}=(0,r.K)(),[v,h]=(0,n.useState)(""),[f,j]=(0,n.useState)({department:null,subDepartment:null,ratingType:""}),{createKraRatingTypeForDepartmentPending:b,createKraRatingTypeForDepartmentRes:D,createKraRatingTypeForDepartmentError:N}=(0,x.d4)((e=>e.pms));(0,n.useEffect)((()=>{if(!b){if(N)return;D&&200===(null===D||void 0===D?void 0:D.code)&&j({department:null,subDepartment:null,ratingType:""})}}),[D,N,b]);const y=(e,a)=>{var t;const n=a||(null===(t=e.target)||void 0===t?void 0:t.name),{value:i}=null!==e&&void 0!==e&&e.target?e.target:{value:e};"department"===n&&s(null===i||void 0===i?void 0:i.value),j((e=>({...e,[n]:i}))),h((e=>({...e,[n]:void 0})))};return(0,l.jsxs)("div",{className:"cardBox",children:[(0,l.jsx)("h5",{className:"",children:"Assign KRA Rating to Department "}),(0,l.jsxs)("div",{className:"row pt-2 ps-4",children:[(0,l.jsx)("div",{className:"col-md-6",children:(0,l.jsxs)("div",{className:"form-group mb-3",children:[(0,l.jsx)(d.JU,{text:c("labels.selectDepartment"),required:!0}),(0,l.jsx)(g.A,{data:a,placeholder:c("placeholders.selectDepartment"),value:null===f||void 0===f?void 0:f.department,handleChange:e=>y(e,"department"),name:"department"}),(null===v||void 0===v?void 0:v.department)&&(0,l.jsx)(i.eo,{text:v.department})]})}),(null===f||void 0===f?void 0:f.department)&&(0,l.jsx)("div",{className:"col-md-6",children:(0,l.jsxs)("div",{className:"form-group mb-3",children:[(0,l.jsx)(d.JU,{text:c("labels.selectFunction"),required:!0}),(0,l.jsx)(g.A,{data:t,placeholder:c("placeholders.selectFunction"),value:(null===f||void 0===f?void 0:f.subDepartment)||"",handleChange:e=>y(e,"subDepartment"),name:"subDepartment"}),(null===v||void 0===v?void 0:v.subDepartment)&&(0,l.jsx)(i.eo,{text:v.subDepartment})]})})]}),(0,l.jsx)("div",{className:"row pt-2 ps-4",children:(0,l.jsx)("div",{className:"col-md-4",children:(0,l.jsxs)("div",{className:"form-group mb-3",children:[(0,l.jsx)(d.JU,{text:c("labels.selectKRARatingType")}),(R="ratingType",m.QQ.map((e=>(0,l.jsx)("div",{children:(0,l.jsx)(d.hI,{htmlFor:`${R}-${null===e||void 0===e?void 0:e.value}`,text:null===e||void 0===e?void 0:e.label,name:R,value:null===e||void 0===e?void 0:e.value,checked:f[R]===(null===e||void 0===e?void 0:e.value),handleChange:e=>y(e,R)})},null===e||void 0===e?void 0:e.value))))]})})}),(0,l.jsx)("hr",{}),(0,l.jsx)(i.Sv,{text:c("btns.submit"),classNames:"btn btn-primary",handleClick:()=>(async()=>{const e=await(0,u.i6)(p.Pd,f);if(e.isValid){const{department:e,ratingType:a,subDepartment:t}=f,n={rating_type:a,department_id:e.value,function_id:t.value};o(n)}else h(e.errors)})()})]});var R},f=e=>{const{allDepartmentList:a,getSubDepartmentByDepartment:t,subDepartmentByDepartmentData:n,handleCreateKraRatingTypeForDepartment:s,allKraRatingTypeForDepartment:i,toggleDeleteModal:d}=e,r=e=>i&&i.map((a=>(0,l.jsx)(l.Fragment,{children:a.rating_type==e?(0,l.jsx)("div",{className:"card-body",children:(0,l.jsx)("ul",{className:"list-group",children:(0,l.jsxs)("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:[a.department_name," (",a.function_name,")",(0,l.jsx)("span",{className:"badge redBadge badge-pill",style:{cursor:"pointer"},onClick:()=>d(a),children:(0,l.jsx)("i",{className:"fa fa-trash m-2","aria-hidden":"true"})})]})})}):(0,l.jsx)("div",{className:"card-body",children:(0,l.jsx)("ul",{className:"list-group",children:(0,l.jsx)("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:"Record Not Found"})})})})));return(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:(0,l.jsx)("span",{className:"underlineHead",children:"KRA Management "})}),(0,l.jsx)(h,{allDepartmentList:a,subDepartmentByDepartmentData:n,getSubDepartmentByDepartment:t,handleCreateKraRatingTypeForDepartment:s}),(0,l.jsxs)("div",{className:"row mt-4",children:[(0,l.jsx)("div",{className:"col-md-6",children:(0,l.jsxs)("div",{className:"card",children:[(0,l.jsx)("div",{className:"card-header",children:(0,l.jsx)("strong",{children:"  Rating wise "})}),r("rating")]})}),(0,l.jsx)("div",{className:"col-md-6",children:(0,l.jsxs)("div",{className:"card",children:[(0,l.jsx)("div",{className:"card-header",children:(0,l.jsx)("strong",{children:"Target Achievement wise"})}),r("target_achievement")]})})]})]})},j=e=>{const{ratingDurationData:a,currentPage:t,setCurrentPage:r,isLoading:o,toggleUpdateRatingDurationModal:c,handleDesignationByDepartment:m,allDepartmentList:u,allDepartmentWiseDesignation:p,allEmployeeListData:v}=e,[g,x]=(0,n.useState)(""),h=(0,n.useMemo)((()=>({sn:(e,a)=>(0,l.jsx)("span",{children:a+1}),select:(e,a)=>(0,l.jsx)("span",{children:(0,l.jsx)(d.P_,{id:`select_${a}`,checked:g.includes(e),handleChange:a=>((e,a)=>{x((t=>e.target.checked?[...t,a]:t.filter((e=>e!==a))))})(a,e),name:`select_${a}`},`select_${a}`)}),action:e=>(0,l.jsxs)("div",{className:"btn-group actionDrp",children:[(0,l.jsx)("button",{type:"button",className:"btn dropdown-toggle-split","data-bs-toggle":"dropdown","aria-expanded":"false",children:(0,l.jsx)("i",{className:"bi bi-three-dots-vertical"})}),(0,l.jsx)("ul",{className:"dropdown-menu",children:(0,l.jsx)("li",{children:(0,l.jsxs)("span",{className:"dropdown-item",onClick:()=>c(e),children:[(0,l.jsx)(d.In,{className:"bi bi-pencil-square"})," Edit"]})})})]})})),[v,g]);return(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,l.jsx)("span",{className:"underlineHead",children:"Rating Duration"}),(0,l.jsx)(i.Sv,{text:"Update By Designation",classNames:"btn btn-primary gradientBg",handleClick:()=>c()})]}),(0,l.jsx)(s.Ak,{data:v.data||[],fields:[{key:"sn",label:"S.N"},{key:"select",label:"Select"},{key:"emp_id",label:"Organization code"},{key:"name",label:"Name"},{key:"email",label:"Email"},{key:"rating_duration",label:"Rating Duration"},{key:"action",label:"Action"}],isLoading:o,pagination:!0,currentPage:t,setCurrentPage:r,totalPages:null===v||void 0===v?void 0:v.totalPages,isHeader:!1,tableStyle:{padding:"0px",boxShadow:"none"},scopedSlots:h}),g&&(null===g||void 0===g?void 0:g.length)>0&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("hr",{}),(0,l.jsx)("div",{className:" mb-4",children:(0,l.jsx)(i.Sv,{text:`Update Rating (${null===g||void 0===g?void 0:g.length})`,classNames:"btn btn-primary gradientBg",handleClick:()=>c(g)})})]})]})};t(26804);const b=e=>{const{openModel:a,handleOpenClose:t,allDepartmentList:s,allDepartmentWiseDesignation:o,handleDesignationByDepartment:c,setSelectedRatingDurationEmp:v,selectedRatingDurationEmp:x,subDepartmentByDepartmentData:h,getSubDepartmentByDepartment:f,updateRatingDuration:j}=e,{t:b}=(0,r.K)(),[D,N]=(0,n.useState)(""),[y,R]=(0,n.useState)({department:null,subDepartment:null,ratingDuration:null}),S=(e,a)=>{var t;const n=a||(null===(t=e.target)||void 0===t?void 0:t.name),{value:s}=null!==e&&void 0!==e&&e.target?e.target:{value:e};"department"===n&&f(null===s||void 0===s?void 0:s.value),R((e=>({...e,[n]:s}))),N((e=>({...e,[n]:void 0})))};return(0,n.useEffect)((()=>()=>{v("")}),[a]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"offcanvas offcanvas-end  "+(a?"show":""),tabIndex:-1,style:{visibility:a?"visible":"hidden",width:"800px"},id:"interviewDetail",children:[(0,l.jsxs)("div",{className:"offcanvas-header",children:[(0,l.jsx)("h5",{className:"offcanvas-title  fs-5 fw-bold text-primary",children:b("headings.updateRatingDuration")}),(0,l.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close",onClick:()=>t()})]}),(0,l.jsx)("div",{className:"offcanvas-body myRequest ",children:(0,l.jsx)("div",{className:"formPanel",children:(0,l.jsxs)("div",{className:"row",children:[!x&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"col-md-3",children:(0,l.jsx)("div",{className:"form-group mb-3",children:(0,l.jsx)(d.JU,{text:b("labels.selectDepartment"),required:!0})})}),(0,l.jsx)("div",{className:"col-md-9",children:(0,l.jsxs)("div",{className:"form-group mb-3",children:[(0,l.jsx)(g.A,{data:s,placeholder:b("placeholders.selectDepartment"),value:(null===y||void 0===y?void 0:y.department)||"",handleChange:e=>S(e,"department"),name:"department"}),(null===D||void 0===D?void 0:D.department)&&(0,l.jsx)(i.eo,{text:D.department})]})}),(0,l.jsx)("div",{className:"col-md-3",children:(0,l.jsx)("div",{className:"form-group mb-3",children:(0,l.jsx)(d.JU,{text:b("labels.selectFunction"),required:!0})})}),(0,l.jsx)("div",{className:"col-md-9",children:(0,l.jsxs)("div",{className:"form-group mb-3",children:[(0,l.jsx)(g.A,{data:h,placeholder:b("placeholders.selectFunction"),value:(null===y||void 0===y?void 0:y.subDepartment)||"",handleChange:e=>S(e,"subDepartment"),name:"subDepartment"}),(null===D||void 0===D?void 0:D.subDepartment)&&(0,l.jsx)(i.eo,{text:D.subDepartment})]})})]}),(0,l.jsx)("div",{className:"col-md-3",children:(0,l.jsx)("div",{className:"form-group mb-3",children:(0,l.jsx)(d.JU,{text:b("labels.ratingDuration"),required:!0})})}),(0,l.jsx)("div",{className:"col-md-9",children:(0,l.jsxs)("div",{className:"form-group mb-3",children:[(0,l.jsx)(g.A,{data:m.nR,placeholder:b("placeholders.ratingDuration"),value:(null===y||void 0===y?void 0:y.ratingDuration)||"",handleChange:e=>S(e,"ratingDuration"),name:"ratingDuration"}),(null===D||void 0===D?void 0:D.ratingDuration)&&(0,l.jsx)(i.eo,{text:D.ratingDuration})]})})]})})}),(0,l.jsx)("div",{className:"offcanvas-footer",children:(0,l.jsx)("div",{className:"d-flex align-items-center justify-content-end gap-3",children:(0,l.jsx)(i.Sv,{text:b("btns.submit"),classNames:"btn btn-org-gradient",handleClick:()=>(async()=>{const e=await(0,u.i6)(p.u9,y);if(e.isValid){const{department:e,subDepartment:a,ratingDuration:t}=y;let n={department_id:null===e||void 0===e?void 0:e.value,subDepartment_id:null===a||void 0===a?void 0:a.value,ratingDuration:null===t||void 0===t?void 0:t.value,employee_ids:Array.isArray(x)?x.map((e=>e.id)):[x.id]};j(n)}else N(e.errors)})()})})})]}),a&&(0,l.jsx)("div",{className:"modal-backdrop fade show"})]})};var D=t(94174),N=t(49985);const y=e=>{const{selfPermissionData:a,currentPage:t,setCurrentPage:i,isLoading:r,toggleSelfRatingPermissionModal:o,getSelfRatingPermissionData:c}=e,m=(0,n.useMemo)((()=>({sn:(e,a)=>(0,l.jsx)("span",{children:a+1}),is_rating_allow:(e,a)=>(0,l.jsx)("span",{className:`badge ${(0,N.XN)(e.is_rating_allow?"Active":"Inactive")}`,children:e.is_rating_allow?"True":"False"}),action:e=>(0,l.jsxs)("div",{className:"btn-group actionDrp",children:[(0,l.jsx)("button",{type:"button",className:"btn dropdown-toggle-split","data-bs-toggle":"dropdown","aria-expanded":"false",children:(0,l.jsx)("i",{className:"bi bi-three-dots-vertical"})}),(0,l.jsx)("ul",{className:"dropdown-menu",children:(0,l.jsx)("li",{children:(0,l.jsxs)("span",{className:"dropdown-item",onClick:()=>o(e),children:[(0,l.jsx)(d.In,{className:"bi bi-pencil-square"})," Edit"]})})})]})})),[c]);return(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:(0,l.jsx)("span",{className:"underlineHead",children:"Self Rating Permission"})}),(0,l.jsx)(s.Ak,{data:(null===c||void 0===c?void 0:c.data)||[],fields:[{key:"sn",label:"S.N"},{key:"permission_type",label:"Permission Type"},{key:"is_rating_allow",label:"Is Rating Allowed"},{key:"created_at",label:"Date"},{key:"action",label:"Action"}],isLoading:r,pagination:!0,currentPage:t,setCurrentPage:i,totalPages:null===c||void 0===c?void 0:c.totalPages,isHeader:!1,tableStyle:{padding:"0px",boxShadow:"none"},scopedSlots:m})]})},R=e=>{const{openModel:a,handleOpenClose:t,allEmployeeData:s,updateSelfRatingPermission:o,selectedSelfRating:c}=e,{t:m}=(0,r.K)(),[u,p]=(0,n.useState)(""),[v,g]=(0,n.useState)({isRatingAllowed:!1});return(0,n.useEffect)((()=>{c&&g({isRatingAllowed:null===c||void 0===c?void 0:c.is_rating_allow})}),[c]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"offcanvas offcanvas-end  "+(a?"show":""),tabIndex:-1,style:{visibility:a?"visible":"hidden",width:"800px"},id:"interviewDetail",children:[(0,l.jsxs)("div",{className:"offcanvas-header",children:[(0,l.jsx)("h5",{className:"offcanvas-title  fs-5 fw-bold text-primary",children:m("headings.addFinancialYear")}),(0,l.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close",onClick:()=>t()})]}),(0,l.jsx)("div",{className:"offcanvas-body myRequest ",children:(0,l.jsxs)("div",{className:"formPanel",children:[(0,l.jsxs)("div",{className:"row",children:[(0,l.jsx)("div",{className:"col-md-3",children:(0,l.jsx)("div",{className:"form-group mb-3",children:(0,l.jsx)(d.JU,{text:m("labels.selectEmployee"),required:!0})})}),(0,l.jsx)("div",{className:"col-md-9",children:(0,l.jsx)("div",{className:"form-group mb-3",children:(0,l.jsx)(d.tR,{optionsData:s,placeholder:"Select...",values:u,onChange:e=>p(e)})})})]}),(0,l.jsxs)("div",{className:"row",children:[(0,l.jsx)("div",{className:"col-md-3",children:(0,l.jsx)("div",{className:"form-group mb-3",children:(0,l.jsx)(d.JU,{text:m("labels.isRatingAllowed"),required:!0})})}),(0,l.jsx)("div",{className:"col-md-9",children:(0,l.jsx)("div",{className:"form-group mb-3",children:(0,l.jsx)(d.P_,{id:"isRatingAllowed",checked:null===v||void 0===v?void 0:v.isRatingAllowed,handleChange:e=>((e,a)=>{var t;const n=a||(null===(t=e.target)||void 0===t?void 0:t.name),{value:s,type:i,checked:l}=e.target?e.target:{value:e};g((e=>({...e,[n]:"checkbox"===i?l:s})))})(e),name:"isRatingAllowed"},"isRatingAllowed")})})]})]})}),(0,l.jsx)("div",{className:"offcanvas-footer",children:(0,l.jsx)("div",{className:"d-flex align-items-center justify-content-end gap-3",children:(0,l.jsx)(i.Sv,{text:m("btns.update"),classNames:"btn btn-org-gradient",handleClick:()=>(()=>{const e=(0,N.mu)(u),a={is_rating_allow:null===v||void 0===v?void 0:v.isRatingAllowed,employee_ids:e};o(a)})()})})})]}),a&&(0,l.jsx)("div",{className:"modal-backdrop fade show"})]})};var S=t(35685);const E=()=>{const e=(0,x.wA)(),{t:a}=(0,r.K)(),[t,i]=(0,n.useState)(1),[d,o]=(0,n.useState)(!1),[c,u]=(0,n.useState)(!1),[p,g]=(0,n.useState)(!1),[h,N]=(0,n.useState)([]),[E,_]=(0,n.useState)(""),[w,P]=(0,n.useState)(""),[A,C]=(0,n.useState)([]),[k,T]=(0,n.useState)([]),[F,L]=(0,n.useState)([]),[M,B]=(0,n.useState)(""),[K,q]=(0,n.useState)(!1),[U,I]=(0,n.useState)([]),[O,J]=(0,n.useState)(),[$,H]=(0,n.useState)(""),{getDepartmentListRes:Y,getDepartmentListError:G,getDepartmentListPending:Q,getSubDepartmentByDepartmentRes:V,getSubDepartmentByDepartmentError:W,getSubDepartmentByDepartmentPending:X}=(0,x.d4)((e=>e.department)),{getDesignationsByDepartmentRes:z,getDesignationsByDepartmentPending:Z,getDesignationsByDepartmentError:ee}=(0,x.d4)((e=>e.designation)),{getAllKraRatingTypeForDepartmentPending:ae,getAllKraRatingTypeForDepartmentRes:te,getAllKraRatingTypeForDepartmentError:ne,deleteKraRatingTypeForDepartmentPending:se,deleteKraRatingTypeForDepartmentRes:ie,deleteKraRatingTypeForDepartmentError:le,updateRatingDurationPending:de,updateRatingDurationRes:re,updateRatingDurationError:oe,getSelfRatingPermissionPending:ce,getSelfRatingPermissionRes:me,getSelfRatingPermissionError:ue,updateSelfRatingPermissionPending:pe,updateSelfRatingPermissionRes:ve,updateSelfRatingPermissionError:ge}=(0,x.d4)((e=>e.pms)),{getAllEmployeeListPending:xe,getAllEmployeeListRes:he,getAllEmployeeListError:fe,getAllEmployeePending:je,getAllEmployeeRes:be,getAllEmployeeError:De}=(0,x.d4)((e=>e.employee)),Ne=[{name:"KRA Management",onClickFun:e=>ye(e),id:"kra_management"},{name:"Rating Duration",onClickFun:e=>ye(e),id:"rating_duration"},{name:"Self Rating Permissions",onClickFun:e=>ye(e),id:"self_rating_permissions"}],ye=()=>{};(0,n.useEffect)((()=>{Re(),Pe()}),[t]);const Re=()=>{const a={page:t,limit:m.X$.limit};e(D.mM.getAllEmployeeListRequest(a))},Se=()=>{o(!d)},Ee=e=>{e&&_(e),console.log("selfRatingPermissionModel"),u(!c)},_e=e=>{e&&P(e),g(!p)};(0,n.useEffect)((()=>{we(),Ae(),Te()}),[]);const we=()=>{const a=null===Y||void 0===Y?void 0:Y.data;null!==a&&void 0!==a&&a.length?T(a):e(D.vd.getDepartmentListRequest())};(0,n.useEffect)((()=>{if(!xe){if(fe)return;if(he&&200==(null===he||void 0===he?void 0:he.code)){const e=null===he||void 0===he?void 0:he.data;I(e)}}}),[he,fe,xe]);const Pe=()=>{e(D.mM.getAllEmployeeRequest())};(0,n.useEffect)((()=>{if(!je){if(De)return;if(be&&200==(null===be||void 0===be?void 0:be.code)){const e=null===be||void 0===be?void 0:be.data;H(e)}}}),[be,De,je]),(0,n.useEffect)((()=>{if(!ce){if(ue)return;me&&200==(null===me||void 0===me?void 0:me.code)&&(console.log(me,"getSelfRatingPermissionRes----------"),J(null===me||void 0===me?void 0:me.data))}}),[ce,me,ue]),(0,n.useEffect)((()=>{if(!de){if(oe)return;re&&200==(null===re||void 0===re?void 0:re.code)&&(_([]),Re(),u(!1))}}),[de,re,oe]),(0,n.useEffect)((()=>{if(!Q){if(G)return;if(Y&&200===(null===Y||void 0===Y?void 0:Y.code)){const e=null===Y||void 0===Y?void 0:Y.data;T(e)}}}),[Y,G,Q]),(0,n.useEffect)((()=>{if(!ae){if(ne)return;if(te&&200===(null===te||void 0===te?void 0:te.code)){const e=null===te||void 0===te?void 0:te.data;L(e),C([])}}}),[te,ne,ae]),(0,n.useEffect)((()=>{if(!se){if(le)return void e(D.u7.handleClearPMSStore("HANDLE_CLEAR_DELETE_KRA_RATING_TYPE_FOR_DEPARTMENT_STORE"));ie&&200==(null===ie||void 0===ie?void 0:ie.code)&&(e(D.u7.handleClearPMSStore("HANDLE_CLEAR_DELETE_KRA_RATING_TYPE_FOR_DEPARTMENT_STORE")),Ae())}}),[se,ie,le]);const Ae=()=>{e(D.u7.getAllKraRatingTypeForDepartmentRequest())};(0,n.useEffect)((()=>{if(!Z){if(ee)return;if(z&&200===(null===z||void 0===z?void 0:z.code)){const e=null===z||void 0===z?void 0:z.data;N(e)}}}),[z,ee,Z]);const Ce=a=>{const t={department_id:a};e(D.vd.getSubDepartmentByDepartmentRequest(t))};(0,n.useEffect)((()=>{if(!X){if(W)return;V&&200===(null===V||void 0===V?void 0:V.code)&&C(null===V||void 0===V?void 0:V.data)}}),[V,W,X]);(0,n.useEffect)((()=>{if(!pe){if(ge)return void e(D.u7.handleClearPMSStore("HANDLE_CLEAR_UPDATE_SELF_RATING_PERMISSION_STORE"));ve&&200===(null===ve||void 0===ve?void 0:ve.code)&&(e(D.u7.handleClearPMSStore("HANDLE_CLEAR_UPDATE_SELF_RATING_PERMISSION_STORE")),_e(),Te())}}),[ve,ge,pe]);const ke=e=>{e&&B(e),q(!K)},Te=()=>{e(D.u7.getSelfRatingPermissionRequest())};return(0,l.jsxs)("div",{className:"tab-pane fade show active",id:"receivedFeedback",children:[(0,l.jsxs)("div",{className:"cardBox myRequest mb-3",children:[(0,l.jsx)("div",{className:"cardHead d-flex justify-content-between",children:(0,l.jsxs)("div",{className:"d-flex align-items-center",children:[(0,l.jsx)("img",{src:"images/kpi-guidline.svg",alt:"",width:40,className:"me-2 fw-bold"}),(0,l.jsx)("div",{className:"",children:(0,l.jsx)("h3",{children:"PMS Admin"})})]})}),(0,l.jsx)(s.QE,{tabs:Ne,type:"pmsAdmin"}),(0,l.jsxs)("div",{className:"tab-content mykpiMain",children:[(0,l.jsx)("div",{className:"tab-pane fade active show",id:"kra_management",children:(0,l.jsx)(f,{allDepartmentList:k,getSubDepartmentByDepartment:Ce,subDepartmentByDepartmentData:A,handleCreateKraRatingTypeForDepartment:a=>{a&&e(D.u7.createKraRatingTypeForDepartmentRequest(a))},allKraRatingTypeForDepartment:F,toggleDeleteModal:ke})}),(0,l.jsx)("div",{className:"tab-pane fade",id:"rating_duration",children:(0,l.jsx)(j,{toggleUpdateRatingDurationModal:Ee,allEmployeeListData:U,currentPage:t,setCurrentPage:i})}),(0,l.jsx)("div",{className:"tab-pane fade",id:"self_rating_permissions",children:(0,l.jsx)(y,{toggleSelfRatingPermissionModal:_e,getSelfRatingPermissionData:O})})]})]}),d&&(0,l.jsx)(v,{openModel:d,handleOpenClose:Se}),d&&(0,l.jsx)(v,{openModel:d,handleOpenClose:Se}),p&&(0,l.jsx)(R,{openModel:p,handleOpenClose:_e,allEmployeeData:$,updateSelfRatingPermission:a=>{e(D.u7.updateSelfRatingPermissionRequest(a))},selectedSelfRating:w}),c&&(0,l.jsx)(b,{openModel:c,handleOpenClose:Ee,allDepartmentList:k,allDepartmentWiseDesignation:h,handleDesignationByDepartment:a=>{const t={department_id:a};e(D.EU.getDesignationsByDepartmentRequest(t))},setSelectedRatingDurationEmp:_,subDepartmentByDepartmentData:A,selectedRatingDurationEmp:E,updateRatingDuration:a=>{e(null===D.u7||void 0===D.u7?void 0:D.u7.updateRatingDurationRequest(a))},getSubDepartmentByDepartment:Ce}),K&&(0,l.jsx)(S.A,{onApproveReject:a=>{if(a){const a={_id:M._id};e(null===D.u7||void 0===D.u7?void 0:D.u7.deleteKraRatingTypeForDepartmentRequest(a))}ke()},isShow:K,desc:a("alerts.deletePopup.desc").replace("$1","Filed"),btnRightLoading:se,btnTextRight:a("btns.delete"),btnTextLeft:a("btns.cancel")})]})}}}]);
//# sourceMappingURL=5824.8d967ace.chunk.js.map