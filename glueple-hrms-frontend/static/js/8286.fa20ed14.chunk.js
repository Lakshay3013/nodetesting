"use strict";(self.webpackChunkglueple_user=self.webpackChunkglueple_user||[]).push([[8286],{18286:(e,a,n)=>{n.r(a),n.d(a,{default:()=>m});var i=n(65043),s=n(29829),d=n(49985),l=n(92250),t=n(70579);const o=e=>{const{currentPage:a,setCurrentPage:n,earningTypeData:l,toggleEarningTypeModal:o}=e,c=(0,i.useMemo)((()=>({sn:(e,a)=>(0,t.jsx)("span",{children:a+1}),is_active:e=>(0,t.jsx)("span",{className:`badge ${(0,d.XN)(e.is_active?"Active":"Inactive")}`,children:e.is_active?"Active":"Inactive"}),action:e=>(0,t.jsxs)("div",{className:"btn-group actionDrp",children:[(0,t.jsx)("button",{type:"button",className:"btn dropdown-toggle-split","data-bs-toggle":"dropdown","aria-expanded":"false",children:(0,t.jsx)("i",{className:"bi bi-three-dots-vertical"})}),(0,t.jsx)("ul",{className:"dropdown-menu",children:(0,t.jsx)("li",{children:(0,t.jsx)("span",{className:"dropdown-item",onClick:()=>o("earningsType",e),children:"Update"})})})]})})),[l,a]);return(0,t.jsx)("div",{children:(0,t.jsx)(s.Ak,{data:null===l||void 0===l?void 0:l.data,fields:[{key:"sn",label:"S.N"},{key:"earning_type_name",label:"Earning Type Name"},{key:"calculation_type",label:"Calculation Type"},{key:"is_included_in_epf",label:"EPF Contribution"},{key:"is_included_in_esi",label:"ESI Contribution"},{key:"show_in_payslip",label:"Payslip"},{key:"is_active",label:"Status"},{key:"action",label:"Action"}],pagination:!0,setCurrentPage:n,totalPages:null===l||void 0===l?void 0:l.totalPages,isHeader:!1,tableStyle:{padding:"0px",boxShadow:"none"},scopedSlots:c})})};var c=n(22166),r=n(94174),p=n(45531),u=(n(56462),n(90607)),y=n(52027);const v=e=>{const{t:a}=(0,u.K)(),{selectedEarningTypeData:n,openModel:s,handleOpenClose:d,addEarningTypes:o,updateEarningTypes:c,isOpenModalType:r,updateDeductionTypes:v,addDeductionTypes:g}=e,[m,h]=(0,i.useState)({}),[x,T]=(0,i.useState)({earningTypeName:"",calculationType:"",isActive:!0,showInPayslip:"",canIncludeAsFbp:"",isProRata:"",isIncludedInEpf:"",isIncludedInEsi:""}),_=(e,a)=>{var n;const i=a||(null===(n=e.target)||void 0===n?void 0:n.name),{value:s,type:d,checked:l}=null!==e&&void 0!==e&&e.target?null===e||void 0===e?void 0:e.target:{value:e};T((e=>({...e,[i]:"checkbox"===d?l:s}))),h((e=>({...e,[i]:void 0})))};(0,i.useEffect)((()=>()=>{E()}),[s]),(0,i.useEffect)((()=>{n&&n&&T({earningTypeName:["earningsType"===r?null===n||void 0===n?void 0:n.earning_type_name:null===n||void 0===n?void 0:n.deduction_type_name],calculationType:null===n||void 0===n?void 0:n.calculation_type,isActive:null===n||void 0===n?void 0:n.is_active,showInPayslip:null===n||void 0===n?void 0:n.show_in_payslip,canIncludeAsFbp:null===n||void 0===n?void 0:n.can_include_as_fbp,isProRata:null===n||void 0===n?void 0:n.is_pro_rata,isIncludedInEpf:null===n||void 0===n?void 0:n.is_included_in_epf,isIncludedInEsi:n.is_included_in_esi})}),[n]);const E=()=>{T({earningTypeName:"",calculationType:"",isActive:!0,showInPayslip:"",canIncludeAsFbp:"",isProRata:"",isIncludedInEpf:"",isIncludedInEsi:""}),h({})};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"offcanvas offcanvas-end  "+(s?"show":""),tabIndex:-1,style:{visibility:s?"visible":"hidden",width:"800px"},id:"interviewDetail",children:[(0,t.jsxs)("div",{className:"offcanvas-header",children:[(0,t.jsx)("h5",{className:"offcanvas-title  fs-5 fw-bold text-primary",children:`${{true:"Update",false:"Create"}[!!n]} ${{earningsType:"Earning Types",deductionType:"Deduction Types"}[r]||"Types"}`}),(0,t.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close",onClick:()=>d()})]}),(0,t.jsx)("div",{className:"offcanvas-body myRequest ",children:(0,t.jsx)("div",{className:"formPanel",children:(0,t.jsxs)("div",{className:"row reviewsComment",children:[(0,t.jsx)("div",{className:"col-md-12",children:(0,t.jsxs)("div",{className:"form-group mb-2",children:[(0,t.jsx)(p.L1,{text:a("earningsType"===r?"labels.earningTypeName":"labels.deductionTypeName"),required:!0}),(0,t.jsx)(p.pd,{type:"text",placeholder:a("earningsType"===r?"placeholders.earningTypeName":"placeholders.deductionTypeName"),value:null===x||void 0===x?void 0:x.earningTypeName,name:"earningTypeName",onChange:e=>_(e)}),(null===m||void 0===m?void 0:m.earningTypeName)&&(0,t.jsx)(l.eo,{text:m.earningTypeName})]})}),(0,t.jsx)("div",{className:"col-md-12",children:(0,t.jsxs)("div",{className:"form-group mb-2",children:[(0,t.jsx)(p.L1,{text:a("labels.calculationType"),required:!0}),(0,t.jsx)(p.rD,{data:y.r4,name:"calculationType",handleChange:_,selectedValue:null===x||void 0===x?void 0:x.calculationType})]})}),(0,t.jsx)("div",{className:"col-md-12",children:(0,t.jsxs)("div",{className:"form-group mb-2",children:[(0,t.jsx)(p.L1,{text:"Calculate on pro-rata basis."}),(0,t.jsx)("p",{children:"( Pay will be adjusted based on employee working days.)"}),(0,t.jsx)(p.rD,{data:y.y3,name:"isProRata",handleChange:_,selectedValue:null===x||void 0===x?void 0:x.isProRata})]})}),(0,t.jsx)("div",{className:"col-md-12",children:(0,t.jsxs)("div",{className:"form-group mb-2",children:[(0,t.jsx)(p.L1,{text:"Include this as a Flexible Benefit Plan component."}),(0,t.jsx)("p",{children:"( FBP allows your employees to personalise their salary structure by choosing how much they want to receive under each FBP component.)"}),(0,t.jsx)(p.rD,{data:y.y3,name:"canIncludeAsFbp",handleChange:_,selectedValue:null===x||void 0===x?void 0:x.canIncludeAsFbp})]})}),(0,t.jsx)("div",{className:"col-md-12",children:(0,t.jsxs)("div",{className:"form-group mb-2",children:[(0,t.jsx)(p.L1,{text:"Consider for EPF Contribution."}),(0,t.jsx)(p.rD,{data:y.y3,name:"isIncludedInEpf",handleChange:_,selectedValue:null===x||void 0===x?void 0:x.isIncludedInEpf})]})}),(0,t.jsx)("div",{className:"col-md-12",children:(0,t.jsxs)("div",{className:"form-group mb-2",children:[(0,t.jsx)(p.L1,{text:"Consider for ESI Contribution."}),(0,t.jsx)(p.rD,{data:y.y3,name:"isIncludedInEsi",handleChange:_,selectedValue:null===x||void 0===x?void 0:x.isIncludedInEsi})]})}),(0,t.jsx)("div",{className:"col-md-12",children:(0,t.jsxs)("div",{className:"form-group mb-2",children:[(0,t.jsx)(p.L1,{text:"Show this component in payslip"}),(0,t.jsx)(p.rD,{data:y.y3,name:"showInPayslip",handleChange:_,selectedValue:null===x||void 0===x?void 0:x.showInPayslip})]})}),(0,t.jsxs)("div",{className:"col-md-12 d-flex",children:[(0,t.jsx)("div",{className:"form-group mb-3",children:(0,t.jsx)(p.P_,{id:"isActive",checked:null===x||void 0===x?void 0:x.isActive,handleChange:e=>_(e),name:"isActive"},"isActive")}),(0,t.jsx)("div",{className:"form-group mb-3",children:(0,t.jsx)(p.L1,{text:a("labels.isActive"),className:"text-primary"})})]})]})})}),(0,t.jsx)("div",{className:"offcanvas-footer",children:(0,t.jsx)("div",{className:"d-flex align-items-center justify-content-end gap-3",children:(0,t.jsx)(l.Sv,{text:a(n?"btns.update":"btns.submit"),classNames:"btn btn-org-gradient",handleClick:()=>(async()=>{let e={["earningsType"===r?"earning_type_name":"deduction_type_name"]:null===x||void 0===x?void 0:x.earningTypeName,calculation_type:null===x||void 0===x?void 0:x.calculationType,is_active:null===x||void 0===x?void 0:x.isActive,show_in_payslip:null===x||void 0===x?void 0:x.showInPayslip,can_include_as_fbp:null===x||void 0===x?void 0:x.canIncludeAsFbp,is_pro_rata:null===x||void 0===x?void 0:x.isProRata,is_included_in_epf:null===x||void 0===x?void 0:x.isIncludedInEpf,is_included_in_esi:null===x||void 0===x?void 0:x.isIncludedInEsi};n?(e._id=null===n||void 0===n?void 0:n._id,"earningsType"===r?c(e):v(e)):"earningsType"===r?o(e):g(e)})()})})})]}),s&&(0,t.jsx)("div",{className:"modal-backdrop fade show"})]})},g=e=>{const{currentPage:a,setCurrentPage:n,deductionTypeData:l,toggleEarningTypeModal:o}=e,c=(0,i.useMemo)((()=>({sn:(e,a)=>(0,t.jsx)("span",{children:a+1}),is_active:e=>(0,t.jsx)("span",{className:`badge ${(0,d.XN)(e.is_active?"Active":"Inactive")}`,children:e.is_active?"Active":"Inactive"}),action:e=>(0,t.jsxs)("div",{className:"btn-group actionDrp",children:[(0,t.jsx)("button",{type:"button",className:"btn dropdown-toggle-split","data-bs-toggle":"dropdown","aria-expanded":"false",children:(0,t.jsx)("i",{className:"bi bi-three-dots-vertical"})}),(0,t.jsx)("ul",{className:"dropdown-menu",children:(0,t.jsx)("li",{children:(0,t.jsx)("span",{className:"dropdown-item",onClick:()=>o("deductionType",e),children:"Update"})})})]})})),[l,a]);return(0,t.jsx)("div",{children:(0,t.jsx)(s.Ak,{data:null===l||void 0===l?void 0:l.data,fields:[{key:"sn",label:"S.N"},{key:"deduction_type_name",label:"Deduction Type Name"},{key:"calculation_type",label:"Calculation Type"},{key:"is_included_in_epf",label:"EPF Contribution"},{key:"is_included_in_esi",label:"ESI Contribution"},{key:"show_in_payslip",label:"Payslip"},{key:"is_active",label:"Status"},{key:"action",label:"Action"}],pagination:!0,setCurrentPage:n,totalPages:null===l||void 0===l?void 0:l.totalPages,isHeader:!1,tableStyle:{padding:"0px",boxShadow:"none"},scopedSlots:c})})},m=()=>{const e=(0,c.wA)(),{getEarningTypePending:a,getEarningTypeRes:n,getEarningTypeError:d,addEarningTypesRes:l,addEarningTypesError:p,addEarningTypesPending:u,updateEarningTypesRes:y,updateEarningTypesError:m,updateEarningTypesPending:h,getDeductionTypePending:x,getDeductionTypeRes:T,getDeductionTypeError:_,addDeductionTypesRes:E,addDeductionTypesError:b,addDeductionTypesPending:j,updateDeductionTypesRes:N,updateDeductionTypesError:f,updateDeductionTypesPending:D}=(0,c.d4)((e=>e.payroll)),[P,C]=(0,i.useState)(""),[A,I]=(0,i.useState)(""),[w,R]=(0,i.useState)(!1),[S,k]=(0,i.useState)(""),[L,V]=(0,i.useState)("earningsType"),[O,F]=(0,i.useState)("");(0,i.useEffect)((()=>{H(),q()}),[]);const H=a=>{e(r.Vg.getEarningTypeRequest(a))};(0,i.useEffect)((()=>{if(!a){if(d)return;n&&200===(null===n||void 0===n?void 0:n.code)&&C(null===n||void 0===n?void 0:n.data)}}),[n,d,a]);(0,i.useEffect)((()=>{if(!u){if(p)return void e(r.Vg.handleClearPayrollStore("HANDLE_CLEAR_ADD_EARNING_TYPE_STORE"));l&&200===(null===l||void 0===l?void 0:l.code)&&(M(),H(),e(r.Vg.handleClearPayrollStore("HANDLE_CLEAR_ADD_EARNING_TYPE_STORE")))}}),[l,p,u]);(0,i.useEffect)((()=>{if(!h){if(m)return void e(r.Vg.handleClearPayrollStore("HANDLE_CLEAR_UPDATE_EARNING_TYPE_STORE"));y&&200===(null===y||void 0===y?void 0:y.code)&&(M(),H(),e(r.Vg.handleClearPayrollStore("HANDLE_CLEAR_UPDATE_EARNING_TYPE_STORE")))}}),[y,m,h]);const q=a=>{e(r.Vg.getDeductionTypeRequest(a))};(0,i.useEffect)((()=>{if(!x){if(_)return;T&&200===(null===T||void 0===T?void 0:T.code)&&I(null===T||void 0===T?void 0:T.data)}}),[T,_,x]);(0,i.useEffect)((()=>{if(!j){if(b)return void e(r.Vg.handleClearPayrollStore("HANDLE_CLEAR_ADD_DEDUCTION_TYPE_STORE"));E&&200===(null===E||void 0===E?void 0:E.code)&&(M(),q(),e(r.Vg.handleClearPayrollStore("HANDLE_CLEAR_ADD_DEDUCTION_TYPE_STORE")))}}),[E,b,j]);(0,i.useEffect)((()=>{if(!D){if(f)return void e(r.Vg.handleClearPayrollStore("HANDLE_CLEAR_UPDATE_DEDUCTION_TYPE_STORE"));N&&200===(null===N||void 0===N?void 0:N.code)&&(M(),q(),e(r.Vg.handleClearPayrollStore("HANDLE_CLEAR_UPDATE_DEDUCTION_TYPE_STORE")))}}),[N,f,D]);const M=(e,a)=>{k(a||""),R(!w),V(e)};return(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"cardBox myRequest mb-3 employeeHistory",children:[(0,t.jsxs)("div",{className:"cardHead  justify-content-between",children:[(0,t.jsxs)("div",{className:"d-flex",children:[(0,t.jsx)("img",{src:"/images/myrequest-icon.svg",alt:"",width:"35"}),(0,t.jsx)("h3",{className:"ms-2 mt-2",children:" Types"})]}),(0,t.jsx)("div",{children:(0,t.jsxs)("div",{className:"dropdown payrollSetting",children:[(0,t.jsx)("button",{className:"btn btn-primary",type:"button","data-bs-toggle":"dropdown","aria-expanded":"true",children:"Add Types"}),(0,t.jsxs)("ul",{className:"dropdown-menu dropdownLeft","data-popper-placement":"top-end",children:[(0,t.jsx)("li",{className:"dropdown-item",onClick:()=>M("earningsType"),children:(0,t.jsx)("span",{children:"Add Earnings Types"})}),(0,t.jsx)("li",{className:"dropdown-item",onClick:()=>M("deductionType"),children:(0,t.jsx)("span",{children:"Add Deduction Types"})})]})]})})]}),(0,t.jsx)(s.QE,{tabs:[{name:"Earnings Type",id:"earnings-type"},{name:"Deductions Type",id:"deductions-type"}],type:"employeeHistory"}),(0,t.jsxs)("div",{className:"tab-content mykpiMain",children:[(0,t.jsx)("div",{className:"tab-pane fade active show",id:"earnings-type",children:(0,t.jsx)(o,{toggleEarningTypeModal:M,currentPage:O,setCurrentPage:F,earningTypeData:P})}),(0,t.jsx)("div",{className:"tab-pane fade",id:"deductions-type",children:(0,t.jsx)(g,{toggleEarningTypeModal:M,currentPage:O,setCurrentPage:F,deductionTypeData:A})})]})]}),w&&(0,t.jsx)(v,{openModel:w,handleOpenClose:M,addEarningTypes:a=>{e(r.Vg.addEarningTypesRequest(a))},selectedEarningTypeData:S,updateEarningTypes:a=>{e(r.Vg.updateEarningTypesRequest(a))},addDeductionTypes:a=>{e(r.Vg.addDeductionTypesRequest(a))},updateDeductionTypes:a=>{e(r.Vg.updateDeductionTypesRequest(a))},isOpenModalType:L})]})}}}]);
//# sourceMappingURL=8286.fa20ed14.chunk.js.map