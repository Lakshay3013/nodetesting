"use strict";(self.webpackChunkglueple_user=self.webpackChunkglueple_user||[]).push([[2786],{96816:(e,l,a)=>{a.d(l,{A:()=>d});a(65043);var t=a(70579);const d=()=>(0,t.jsx)("div",{children:(0,t.jsxs)("svg",{version:"1.1",id:"Layer_1",x:0,y:0,viewBox:"0 0 512 512",xmlSpace:"preserve",className:"icon icon-xlg me-2",style:{height:"23px",width:"23px",cursor:"pointer"},children:[(0,t.jsx)("circle",{id:"Oval-3",opacity:".1",fill:"#2B76D2",cx:256,cy:256,r:256}),(0,t.jsx)("path",{fill:"#2B76D2",d:"M277.3 362.7c-5.3 0-10.6-2-14.7-5.9l-85.3-81.5c-4.1-3.9-6.5-9.3-6.6-15-.1-5.7 2-11.1 5.9-15.2l85.3-89.1c8.1-8.5 21.7-8.8 30.2-.7 8.5 8.1 8.8 21.6.7 30.2l-70.6 73.7 69.9 66.8c8.5 8.1 8.8 21.6.7 30.1-4.2 4.4-9.8 6.6-15.5 6.6z"})]})})},72786:(e,l,a)=>{a.r(l),a.d(l,{default:()=>m});var t=a(65043),d=a(26362),i=a(90607),n=a(68939),o=a(92250),r=(a(56462),a(96816)),s=a(35475),v=a(22166),c=(a(52027),a(94174)),u=a(70579);const m=()=>{var e;const l=(0,v.wA)(),{getDepartmentListRes:a,getDepartmentListError:m,getDepartmentListPending:y}=(0,v.d4)((e=>e.department)),{getAllEmployeePending:p,getAllEmployeeRes:g,getAllEmployeeError:h}=(0,v.d4)((e=>e.employee)),{getEmployeeSalaryPending:x,getEmployeeSalaryRes:f,getEmployeeSalaryError:_,addPayRunPending:S,addPayRunRes:E,addPayRunError:j}=(0,v.d4)((e=>e.payroll)),{t:N}=(0,i.K)(),[b,k]=(0,t.useState)(1),[A,D]=(0,t.useState)(""),[C,P]=(0,t.useState)(!0),[R,w]=(0,t.useState)(""),[L,V]=(0,t.useState)(""),[F,H]=(0,t.useState)(""),[B,O]=(0,t.useState)({employeeName:"",department:""}),M=(0,t.useMemo)((()=>({sn:(e,l)=>(0,u.jsx)("span",{children:l+1}),hold_salary:e=>(0,u.jsx)("span",{children:(0,u.jsx)(n.P_,{id:"is_hold",checked:null===e||void 0===e?void 0:e.is_hold,handleChange:l=>q(l,null,e),name:"is_hold"},"is_hold")}),create_salary:e=>(0,u.jsx)("span",{children:(0,u.jsx)(n.P_,{id:"create_salary",checked:null===e||void 0===e?void 0:e.create_salary,handleChange:l=>q(l,null,e),name:"create_salary"},"create_salary")})})),[C,A]);(0,t.useEffect)((()=>{I()}),[]);const T=[{name:"employeeName",label:"Select Employee / ID",type:"select",value:B.employeeName,data:F,placeholder:"Enter Employee Name",isMulti:!0},{name:"department",label:"Department",type:"select",data:L,value:B.department,placeholder:"Select Department"}],q=(e,l,a)=>{var t;const d=l||(null===(t=e.target)||void 0===t?void 0:t.name),{value:i,type:n,checked:o}=null!==e&&void 0!==e&&e.target?e.target:{value:e};D((e=>{var l;const t=null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.map((e=>(null===a||void 0===a?void 0:a._id)===(null===e||void 0===e?void 0:e._id)?{...e,[d]:"checkbox"===n?o:i}:e)),r=t.every((e=>e.create_salary));return P(r),{...e,data:t}}))};(0,t.useEffect)((()=>{z()}),[b]);const z=()=>{l(null===c.Vg||void 0===c.Vg?void 0:c.Vg.getEmployeeSalaryRequest())};(0,t.useEffect)((()=>{if(!x){if(_)return;f&&200===(null===f||void 0===f?void 0:f.code)&&(D(null===f||void 0===f?void 0:f.data),w(null===f||void 0===f?void 0:f.data))}}),[f,_,x]);const I=()=>{var e;null!==a&&void 0!==a&&null!==(e=a.data)&&void 0!==e&&e.length?V(null===a||void 0===a?void 0:a.data):l(c.vd.getDepartmentListRequest())};(0,t.useEffect)((()=>{if(!y){if(m)return;if(a&&200===(null===a||void 0===a?void 0:a.code)){const e=null===a||void 0===a?void 0:a.data;V(e)}}}),[a,m,y]);(0,t.useEffect)((()=>{if(!p){if(h)return;g&&200===(null===g||void 0===g?void 0:g.code)&&H(null===g||void 0===g?void 0:g.data)}}),[g,h,p]);return(0,t.useEffect)((()=>{if(!S){if(j)return void l(null===c.Vg||void 0===c.Vg?void 0:c.Vg.handleClearPayrollStore("HANDLE_CLEAR_ADD_PAY_RUN_STORE"));E&&200===(null===E||void 0===E?void 0:E.code)&&l(null===c.Vg||void 0===c.Vg?void 0:c.Vg.handleClearPayrollStore("HANDLE_CLEAR_ADD_PAY_RUN_STORE"))}}),[E,j,S]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"cardBox  creatNewTicketOff ",children:[(0,u.jsxs)("div",{className:"header d-flex",children:[(0,u.jsx)(s.N_,{to:"/pay-runs",children:(0,u.jsx)(r.A,{})}),(0,u.jsx)("h5",{className:"title  fs-5 fw-bold text-primary",children:"Create Pay Run "})]}),(0,u.jsxs)("div",{className:"body ",children:[(0,u.jsx)(n.Cs,{filters:T,handleFilterFormData:(e,l)=>{var a;const t=l||(null===(a=e.target)||void 0===a?void 0:a.name),{value:d,type:i,checked:n}=null!==e&&void 0!==e&&e.target?e.target:{value:e};O((e=>({...e,[t]:"checkbox"===i?n:d})))},onSubmitHandleFilter:()=>{var e,l,a,t;const d={};null!==B&&void 0!==B&&null!==(e=B.department)&&void 0!==e&&e.value&&(d.department_id=null===B||void 0===B||null===(l=B.department)||void 0===l?void 0:l.value),null!==B&&void 0!==B&&null!==(a=B.designation)&&void 0!==a&&a.value&&(d.designation_id=null===B||void 0===B||null===(t=B.designation)||void 0===t?void 0:t.value),null!==B&&void 0!==B&&B.employeeName&&(d.employee_name=null===B||void 0===B?void 0:B.employeeName),console.log(d,"filterFields---------")}}),(0,u.jsxs)("div",{className:"mt-3",children:[(0,u.jsx)("div",{className:"row ms-2",children:(0,u.jsx)(n.P_,{id:"allActiveCreatedSalary",checked:C,handleChange:e=>(e=>{const{type:l,checked:a}=null===e||void 0===e?void 0:e.target;P(a),D((e=>({...e,data:e.data.map((e=>({...e,create_salary:a})))})))})(e),name:"allActiveCreatedSalary",label:"Create Salary For All"},"allActiveCreatedSalary")}),(0,u.jsx)("div",{style:(null===A||void 0===A||null===(e=A.data)||void 0===e?void 0:e.length)>9?{height:"539px",overflowX:"scroll"}:{},children:(0,u.jsx)(d.Ak,{data:null===A||void 0===A?void 0:A.data,fields:[{key:"sn",label:"S.N"},{key:"hold_salary",label:"Hold Salary"},{key:"create_salary",label:"Create Salary"},{key:"emp_code",label:"Emp ID"},{key:"employee_name",label:"Emp Name"},{key:"email",label:"Email"},{key:"department",label:"Department  "},{key:"designation",label:"Designation"}],isLoading:x,totalPages:null===A||void 0===A?void 0:A.totalPages,isHeader:!1,tableStyle:{padding:"0px",boxShadow:"none"},scopedSlots:M})})]})]}),(0,u.jsx)("div",{className:"footer",children:(0,u.jsx)("div",{className:"d-flex align-items-center justify-content-end gap-3",children:(0,u.jsx)(o.Sv,{text:"Submit",classNames:"btn btn-org-gradient",handleClick:()=>(()=>{var e;null===A||void 0===A||null===(e=A.data)||void 0===e||e.filter((e=>!0===(null===e||void 0===e?void 0:e.create_salary)))})()})})})]}),S&&(0,u.jsx)(o.L,{isShow:S,size:"lg"})]})}}}]);
//# sourceMappingURL=2786.35752465.chunk.js.map