"use strict";(self.webpackChunkglueple_user=self.webpackChunkglueple_user||[]).push([[7646],{17646:(e,a,t)=>{t.r(a),t.d(a,{default:()=>U});var s=t(65043),n=t(70579);const l=[{label:"Department",value:"department",totalCount:2,imgUrl:"networking.png"},{label:"Functions",value:"functions",totalCount:2,imgUrl:"settings.png"},{label:"Projects",value:"projects",totalCount:1,imgUrl:"projectIcon.png"},{label:"Designation",value:"designation",totalCount:1,imgUrl:"designation.png"},{label:"Skills",value:"skills",totalCount:1,imgUrl:"skills.png"}],i=e=>{let{setIsActiveTab:a,isActiveTab:t}=e;return(0,n.jsx)("div",{className:"row px-md-1 mb-3",children:null===l||void 0===l?void 0:l.map(((e,s)=>(0,n.jsx)("div",{className:"col px-md-2 mb-3",children:(0,n.jsxs)("div",{className:"cardBox h-100 daysBox ",style:{minHeight:"80px",background:"#D8E8F7",...(null===e||void 0===e?void 0:e.value)==t&&{border:"1px solid #60848d"}},onClick:()=>a(null===e||void 0===e?void 0:e.value),children:[(0,n.jsx)("figure",{children:(0,n.jsx)("img",{width:30,src:`images/${null===e||void 0===e?void 0:e.imgUrl}`,alt:""})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:"d-block ",style:{fontSize:"16px"},children:null===e||void 0===e?void 0:e.label}),(0,n.jsx)("strong",{className:"d-block ",style:{float:"inline-end"},children:null===e||void 0===e?void 0:e.totalCount})]})]})})))})};var d=t(92250),o=t(22166),r=t(94174),c=t(52027),m=t(35685),v=t(90607),u=t(49985),p=t(56462),h=t(45531),x=t(26181),g=t(80728);const _=e=>{const{addFunctionPending:a,updateFunctionPending:t}=(0,o.d4)((e=>null===e||void 0===e?void 0:e.position)),{t:l}=(0,v.K)(),{selectedFunctionData:i,openModel:r,handleOpenClose:c,allDepartments:m,allEmployeeList:_,handleCreateUpdateFunction:j}=e,[f,N]=(0,s.useState)({}),[b,E]=(0,s.useState)({department:null,functional_head:null,name:"",short_name:"",is_active:!0}),D=(e,a)=>{var t;const s=a||(null===(t=e.target)||void 0===t?void 0:t.name),{value:n,type:l,checked:i}=e.target?e.target:{value:e};E((e=>{const a={...e,[s]:"checkbox"===l?i:n};return"name"===s&&(a.short_name=(0,u.aF)(n)),a})),N((e=>({...e,[s]:void 0})))};(0,s.useEffect)((()=>()=>{S()}),[r]),(0,s.useEffect)((()=>{i&&E({department:{value:null===i||void 0===i?void 0:i.department_id,label:null===i||void 0===i?void 0:i.department_name},functional_head:{value:null===i||void 0===i?void 0:i.function_head_id,label:null===i||void 0===i?void 0:i.function_head_name},name:null===i||void 0===i?void 0:i.name,short_name:null===i||void 0===i?void 0:i.short_name,is_active:null===i||void 0===i?void 0:i.is_active})}),[i]);const S=()=>{E({department:null,name:"",short_name:"",functional_head:null,is_active:!0}),N({})};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"offcanvas offcanvas-end  "+(r?"show":""),tabIndex:-1,style:{visibility:r?"visible":"hidden",width:"800px"},id:"interviewDetail",children:[(0,n.jsxs)("div",{className:"offcanvas-header",children:[(0,n.jsx)("h5",{className:"offcanvas-title  fs-5 fw-bold text-primary",children:l(i?"headings.updateFunction":"headings.createFunction")}),(0,n.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close",onClick:()=>c()})]}),(0,n.jsx)("div",{className:"offcanvas-body myRequest ",children:(0,n.jsxs)("div",{className:"formPanel",children:[(0,n.jsxs)("div",{className:"row",children:[(0,n.jsx)("div",{className:"col-md-3",children:(0,n.jsx)("div",{className:"form-group mb-3",children:(0,n.jsx)(h.JU,{text:l("labels.selectDepartment"),required:!0})})}),(0,n.jsx)("div",{className:"col-md-9",children:(0,n.jsxs)("div",{className:"form-group mb-3",children:[(0,n.jsx)(p.A,{data:m,placeholder:l("placeholders.selectDepartment"),value:(null===b||void 0===b?void 0:b.department)||"",handleChange:e=>D(e,"department"),name:"department"}),(null===f||void 0===f?void 0:f.department)&&(0,n.jsx)(d.eo,{text:f.department})]})}),(0,n.jsx)("div",{className:"col-md-3",children:(0,n.jsx)("div",{className:"form-group mb-3",children:(0,n.jsx)(h.JU,{text:l("labels.functionName"),required:!0})})}),(0,n.jsx)("div",{className:"col-md-9",children:(0,n.jsxs)("div",{className:"form-group mb-3",children:[(0,n.jsx)(h.pd,{type:"text",placeholder:l("placeholders.functionName"),value:null===b||void 0===b?void 0:b.name,name:"name",onChange:e=>D(e)}),(null===f||void 0===f?void 0:f.name)&&(0,n.jsx)(d.eo,{text:f.name})]})})]}),(0,n.jsxs)("div",{className:"row",children:[(0,n.jsx)("div",{className:"col-md-3",children:(0,n.jsx)("div",{className:"form-group mb-3",children:(0,n.jsx)(h.JU,{text:l("labels.shortName"),required:!0})})}),(0,n.jsx)("div",{className:"col-md-9",children:(0,n.jsxs)("div",{className:"form-group mb-3",children:[(0,n.jsx)(h.pd,{type:"text",placeholder:l("placeholders.shortName"),value:null===b||void 0===b?void 0:b.short_name,name:"short_name",onChange:e=>D(e)}),(null===f||void 0===f?void 0:f.short_name)&&(0,n.jsx)(d.eo,{text:f.short_name})]})}),(0,n.jsx)("div",{className:"col-md-3",children:(0,n.jsx)("div",{className:"form-group mb-3",children:(0,n.jsx)(h.JU,{text:l("labels.selectFunctionalHead"),required:!0})})}),(0,n.jsx)("div",{className:"col-md-9",children:(0,n.jsxs)("div",{className:"form-group mb-3",children:[(0,n.jsx)(p.A,{data:_,placeholder:l("placeholders.selectDesignation"),value:(null===b||void 0===b?void 0:b.functional_head)||"",handleChange:e=>D(e,"functional_head"),name:"functional_head"}),(null===f||void 0===f?void 0:f.functional_head)&&(0,n.jsx)(d.eo,{text:f.functional_head})]})})]}),(0,n.jsxs)("div",{className:"row",children:[(0,n.jsx)("div",{className:"col-md-3",children:(0,n.jsx)("div",{className:"form-group mb-3",children:(0,n.jsx)(h.JU,{text:l("labels.isActive")})})}),(0,n.jsx)("div",{className:"col-md-9",children:(0,n.jsx)("div",{className:"form-group mb-3",children:(0,n.jsx)(h.P_,{id:"is_active",checked:null===b||void 0===b?void 0:b.is_active,handleChange:e=>D(e),name:"is_active"},"is_active")})})]})]})}),(0,n.jsx)("div",{className:"offcanvas-footer",children:(0,n.jsx)("div",{className:"d-flex align-items-center justify-content-end gap-3",children:(0,n.jsx)(d.Sv,{text:l(i?"btns.update":"btns.submit"),classNames:"btn btn-org-gradient",handleClick:()=>(async()=>{const e=await(0,x.i6)(g.uF,b);if(e.isValid){const{department:e,name:a,short_name:t,is_active:s,functional_head:n}=b,l={name:a,short_name:t,is_active:s,department_id:null===e||void 0===e?void 0:e.value,function_head_id:null===n||void 0===n?void 0:n.value};N({}),j(l)}else N(e.errors)})(),isLoading:i?t:a})})})]}),r&&(0,n.jsx)("div",{className:"modal-backdrop fade show"})]})};var j=t(29829);const f=e=>{const{allDepartments:a,allEmployeeList:t}=e,l=(0,o.wA)(),{t:i}=(0,v.K)(),{createSubDepartmentPending:p,createSubDepartmentRes:x,createSubDepartmentError:g,getSubDepartmentPending:f,getSubDepartmentRes:N,getSubDepartmentError:b,updateSubDepartmentPending:E,updateSubDepartmentRes:D,updateSubDepartmentError:S,deleteFunctionPending:A,deleteFunctionRes:C,deleteFunctionError:R}=(0,o.d4)((e=>e.department)),[L,y]=(0,s.useState)(!1),[T,P]=(0,s.useState)(""),[k,w]=(0,s.useState)(1),[U,I]=(0,s.useState)({}),[O,q]=(0,s.useState)(!1),[H,M]=(0,s.useState)(""),F=e=>{P(e||""),y(!L)};(0,s.useEffect)((()=>{if(!p){if(g)return void l(r.vd.handleClearDepartmentStore("HANDLE_CLEAR_CREATE_SUB_DEPARTMENT_STORE"));x&&200===(null===x||void 0===x?void 0:x.code)&&(l(r.vd.handleClearDepartmentStore("HANDLE_CLEAR_CREATE_SUB_DEPARTMENT_STORE")),l(r.vd.handleClearDepartmentStore("HANDLE_CLEAR_GET_SUB_DEPARTMENT_STORE")),l(r.vd.handleClearDepartmentStore("HANDLE_CLEAR_GET_ALL_SUB_DEPARTMENT_LIST_STORE")),J(),F())}}),[x,g,p]),(0,s.useEffect)((()=>{if(!E){if(S)return void l(r.vd.handleClearDepartmentStore("HANDLE_CLEAR_UPDATE_SUB_DEPARTMENT_STORE"));D&&200===(null===D||void 0===D?void 0:D.code)&&(l(r.vd.handleClearDepartmentStore("HANDLE_CLEAR_UPDATE_SUB_DEPARTMENT_STORE")),l(r.vd.handleClearDepartmentStore("HANDLE_CLEAR_GET_SUB_DEPARTMENT_STORE")),l(r.vd.handleClearDepartmentStore("HANDLE_CLEAR_GET_ALL_SUB_DEPARTMENT_LIST_STORE")),J(),F())}}),[D,S,E]),(0,s.useEffect)((()=>{J()}),[k]);const J=()=>{const e={page:k,limit:c.X$.limit};l(r.vd.getSubDepartmentRequest(e))};(0,s.useEffect)((()=>{if(!f){if(b)return;if(N&&200===(null===N||void 0===N?void 0:N.code)){const e=null===N||void 0===N?void 0:N.data;I(e)}}}),[N,b,f]);const B=e=>{e&&M(e),q(!O)};(0,s.useEffect)((()=>{if(!A){if(R)return;var e;if(C)if(200===(null===C||void 0===C?void 0:C.code))B(),k>1&&1===(null===U||void 0===U||null===(e=U.data)||void 0===e?void 0:e.length)?w((e=>e-1)):J()}}),[C,R,A]);const $=(0,s.useMemo)((()=>({sn:(e,a)=>(0,n.jsx)("span",{children:a+1}),is_active:e=>(0,n.jsx)("span",{className:`badge ${(0,u.XN)(e.is_active?"Active":"Inactive")}`,children:e.is_active?"Active":"Inactive"}),created_at:e=>(0,u.N_)(e.created_at),action:e=>(0,n.jsxs)("div",{className:"btn-group actionDrp",children:[(0,n.jsx)("button",{type:"button",className:"btn dropdown-toggle-split","data-bs-toggle":"dropdown","aria-expanded":"false",children:(0,n.jsx)("i",{className:"bi bi-three-dots-vertical"})}),(0,n.jsx)("ul",{className:"dropdown-menu",children:(0,n.jsx)("li",{children:(0,n.jsxs)("span",{className:"dropdown-item",onClick:()=>F(e),children:[(0,n.jsx)(h.In,{className:"bi bi-pencil-square me-1"}),"Update"]})})})]})})),[F]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"cardBox myRequest mb-3 employeeHistory",children:[(0,n.jsxs)("div",{className:"d-flex align-items-center justify-content-between gap-3",children:[(0,n.jsxs)("div",{className:"cardHead d-flex",children:[(0,n.jsx)("img",{src:"images/myrequest-icon.svg",alt:"",width:35}),(0,n.jsx)("h4",{className:"ms-2 ",children:"Functions"})]}),(0,n.jsx)("div",{children:(0,n.jsx)(d.Sv,{classNames:"btn btn-primary gradientBg",handleClick:()=>F(),text:i("btns.createNewFunction"),icon:(0,n.jsx)(h.In,{className:"fa fa-plus"})})})]}),(0,n.jsx)(j.Ak,{data:null===U||void 0===U?void 0:U.data,fields:[{key:"sn",label:"S.N"},{key:"department_name",label:"Departments"},{key:"name",label:"Function Name"},{key:"short_name",label:"Short Name"},{key:"emp_count",label:"Total Employees"},{key:"is_active",label:"Status"},{key:"created_at",label:"Created At"},{key:"action",label:"Action"}],isLoading:f,pagination:!0,currentPage:k,setCurrentPage:w,totalPages:null===U||void 0===U?void 0:U.totalPages,isHeader:!1,tableStyle:{padding:"0px",boxShadow:"none"},scopedSlots:$})]}),(0,n.jsx)(_,{openModel:L,handleOpenClose:F,handleCreateUpdateFunction:e=>{T?(e._id=(null===T||void 0===T?void 0:T._id)||(null===T||void 0===T?void 0:T.id),l(r.vd.updateSubDepartmentRequest(e))):l(r.vd.createSubDepartmentRequest(e))},selectedFunctionData:T,allDepartments:a,allEmployeeList:t}),O&&(0,n.jsx)(m.A,{onApproveReject:e=>{if(e){}else B()},isShow:O,desc:i("alerts.deletePopup.desc").replace("$1","Function"),btnRightLoading:A,btnTextRight:i("btns.delete"),btnTextLeft:i("btns.cancel")})]})},N=e=>{const{createProjectPending:a,updateProjectPending:t}=(0,o.d4)((e=>null===e||void 0===e?void 0:e.department)),{t:l}=(0,v.K)(),{selectedProjectData:i,openModel:r,handleOpenClose:c,allDepartments:m,allEmployeeList:_,getSubDepartmentByDepartment:j,subDepartmentByDepartmentData:f,handleCreateUpdateProject:N}=e,[b,E]=(0,s.useState)({}),[D,S]=(0,s.useState)({department:null,sub_department:null,project_manager:null,function_head:null,name:"",short_name:"",is_active:!0}),A=(e,a)=>{var t;const s=a||(null===(t=e.target)||void 0===t?void 0:t.name),{value:n,type:l,checked:i}=e.target?e.target:{value:e};"department"===s&&j(null===n||void 0===n?void 0:n.value),S((e=>{const a={...e,[s]:"checkbox"===l?i:n};return"name"===s&&(a.short_name=(0,u.aF)(n)),a})),E((e=>({...e,[s]:void 0})))};(0,s.useEffect)((()=>()=>{C()}),[r]),(0,s.useEffect)((()=>{i&&S({department:{value:null===i||void 0===i?void 0:i.department_id,label:null===i||void 0===i?void 0:i.department_name},function_head:{value:null===i||void 0===i?void 0:i.function_head_id,label:null===i||void 0===i?void 0:i.function_head_name},name:null===i||void 0===i?void 0:i.name,short_name:null===i||void 0===i?void 0:i.short_name,is_active:null===i||void 0===i?void 0:i.is_active,sub_department:{value:null===i||void 0===i?void 0:i.function_id,label:null===i||void 0===i?void 0:i.function_name},project_manager:{value:null===i||void 0===i?void 0:i.project_manager_id,label:null===i||void 0===i?void 0:i.project_manager_name}})}),[i]);const C=()=>{S({department:null,sub_department:null,project_manager:null,function_head:null,name:"",short_name:"",is_active:!0}),E({})};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"offcanvas offcanvas-end  "+(r?"show":""),tabIndex:-1,style:{visibility:r?"visible":"hidden",width:"800px"},id:"interviewDetail",children:[(0,n.jsxs)("div",{className:"offcanvas-header",children:[(0,n.jsx)("h5",{className:"offcanvas-title  fs-5 fw-bold text-primary",children:l(i?"headings.updateProject":"headings.createProject")}),(0,n.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close",onClick:()=>c()})]}),(0,n.jsx)("div",{className:"offcanvas-body myRequest ",children:(0,n.jsxs)("div",{className:"formPanel",children:[(0,n.jsxs)("div",{className:"row",children:[(0,n.jsxs)("div",{className:"col-md-6",children:[(0,n.jsx)(h.JU,{text:l("labels.selectDepartment"),required:!0}),(0,n.jsxs)("div",{className:"form-group mb-3",children:[(0,n.jsx)(p.A,{data:m,placeholder:l("placeholders.selectDepartment"),value:(null===D||void 0===D?void 0:D.department)||"",handleChange:e=>A(e,"department"),name:"department"}),(null===b||void 0===b?void 0:b.department)&&(0,n.jsx)(d.eo,{text:b.department})]})]}),(0,n.jsxs)("div",{className:"col-md-6",children:[(0,n.jsx)(h.JU,{text:l("labels.selectFunction"),required:!0}),(0,n.jsxs)("div",{className:"form-group mb-3",children:[(0,n.jsx)(p.A,{data:f,placeholder:l("placeholders.selectFunction"),value:(null===D||void 0===D?void 0:D.sub_department)||"",handleChange:e=>A(e,"sub_department"),name:"sub_department"}),(null===b||void 0===b?void 0:b.sub_department)&&(0,n.jsx)(d.eo,{text:b.sub_department})]})]}),(0,n.jsxs)("div",{className:"col-md-6",children:[(0,n.jsx)(h.JU,{text:l("labels.projectName"),required:!0}),(0,n.jsxs)("div",{className:"form-group mb-3",children:[(0,n.jsx)(h.pd,{type:"text",placeholder:l("placeholders.projectName"),value:null===D||void 0===D?void 0:D.name,name:"name",onChange:e=>A(e)}),(null===b||void 0===b?void 0:b.name)&&(0,n.jsx)(d.eo,{text:b.name})]})]}),(0,n.jsxs)("div",{className:"col-md-6",children:[(0,n.jsx)(h.JU,{text:l("labels.shortName"),required:!0}),(0,n.jsxs)("div",{className:"form-group mb-3",children:[(0,n.jsx)(h.pd,{type:"text",placeholder:l("placeholders.shortName"),value:null===D||void 0===D?void 0:D.short_name,name:"short_name",onChange:e=>A(e)}),(null===b||void 0===b?void 0:b.short_name)&&(0,n.jsx)(d.eo,{text:b.short_name})]})]}),(0,n.jsxs)("div",{className:"col-md-6",children:[(0,n.jsx)(h.JU,{text:l("labels.projectManager"),required:!0}),(0,n.jsxs)("div",{className:"form-group mb-3",children:[(0,n.jsx)(p.A,{data:_,placeholder:l("placeholders.projectManager"),value:(null===D||void 0===D?void 0:D.project_manager)||"",handleChange:e=>A(e,"project_manager"),name:"project_manager"}),(null===b||void 0===b?void 0:b.project_manager)&&(0,n.jsx)(d.eo,{text:b.project_manager})]})]}),(0,n.jsxs)("div",{className:"col-md-6",children:[(0,n.jsx)(h.JU,{text:l("labels.functionalManager"),required:!0}),(0,n.jsxs)("div",{className:"form-group mb-3",children:[(0,n.jsx)(p.A,{data:_,placeholder:l("placeholders.functionalManager"),value:(null===D||void 0===D?void 0:D.function_head)||"",handleChange:e=>A(e,"function_head"),name:"function_head"}),(null===b||void 0===b?void 0:b.function_head)&&(0,n.jsx)(d.eo,{text:b.function_head})]})]})]}),(0,n.jsxs)("div",{className:"row",children:[(0,n.jsx)("div",{className:"col-md-3",children:(0,n.jsx)("div",{className:"form-group mb-3",children:(0,n.jsx)(h.JU,{text:l("labels.isActive")})})}),(0,n.jsx)("div",{className:"col-md-9",children:(0,n.jsx)("div",{className:"form-group mb-3",children:(0,n.jsx)(h.P_,{id:"is_active",checked:null===D||void 0===D?void 0:D.is_active,handleChange:e=>A(e),name:"is_active"},"is_active")})})]})]})}),(0,n.jsx)("div",{className:"offcanvas-footer",children:(0,n.jsx)("div",{className:"d-flex align-items-center justify-content-end gap-3",children:(0,n.jsx)(d.Sv,{text:l(i?"btns.update":"btns.submit"),classNames:"btn btn-org-gradient",handleClick:()=>(async()=>{const e=await(0,x.i6)(g.vz,D);if(e.isValid){const{department:e,name:a,short_name:t,is_active:s,sub_department:n,project_manager:l,function_head:i}=D,d={name:a,short_name:t,department_id:null===e||void 0===e?void 0:e.value,sub_department_id:null===n||void 0===n?void 0:n.value,project_manager_id:null===l||void 0===l?void 0:l.value,function_head_id:null===i||void 0===i?void 0:i.value,is_active:s};E({}),N(d)}else E(e.errors)})(),isLoading:i?t:a})})})]}),r&&(0,n.jsx)("div",{className:"modal-backdrop fade show"})]})},b=e=>{const{allDepartments:a,allEmployeeList:t,getSubDepartmentByDepartment:l,subDepartmentByDepartmentData:i}=e,p=(0,o.wA)(),{t:x}=(0,v.K)(),{createProjectPending:g,createProjectRes:_,createProjectError:f,addProjectPending:b,getProjectRes:E,getProjectError:D,updateProjectPending:S,updateProjectRes:A,updateProjectError:C,deleteProjectPending:R,deleteProjectRes:L,deleteProjectError:y}=(0,o.d4)((e=>e.department)),[T,P]=(0,s.useState)(!1),[k,w]=(0,s.useState)(""),[U,I]=(0,s.useState)(1),[O,q]=(0,s.useState)({}),[H,M]=(0,s.useState)(!1),[F,J]=(0,s.useState)(""),B=e=>{w(e||""),P(!T)};(0,s.useEffect)((()=>{if(!g){if(f)return void p(r.vd.handleClearDepartmentStore("HANDLE_CLEAR_CREATE_PROJECT_STORE"));_&&200===(null===_||void 0===_?void 0:_.code)&&(p(r.vd.handleClearDepartmentStore("HANDLE_CLEAR_CREATE_PROJECT_STORE")),p(r.vd.handleClearDepartmentStore("HANDLE_CLEAR_GET_ALL_PROJECT_LIST_STORE")),p(r.vd.handleClearDepartmentStore("HANDLE_CLEAR_GET_PROJECT_STORE")),B(),$())}}),[_,f,g]),(0,s.useEffect)((()=>{if(!S){if(C)return void p(r.vd.handleClearDepartmentStore("HANDLE_CLEAR_UPDATE_PROJECT_STORE"));A&&200===(null===A||void 0===A?void 0:A.code)&&(p(r.vd.handleClearDepartmentStore("HANDLE_CLEAR_UPDATE_PROJECT_STORE")),p(r.vd.handleClearDepartmentStore("HANDLE_CLEAR_CREATE_PROJECT_STORE")),p(r.vd.handleClearDepartmentStore("HANDLE_CLEAR_GET_PROJECT_STORE")),$(),B())}}),[A,C,S]),(0,s.useEffect)((()=>{$()}),[U]);const $=()=>{const e={page:U,limit:c.X$.limit};p(r.vd.getProjectRequest(e))};(0,s.useEffect)((()=>{if(!b){if(D)return;if(E&&200===(null===E||void 0===E?void 0:E.code)){const e=null===E||void 0===E?void 0:E.data;q(e)}}}),[E,D,b]);const G=e=>{e&&J(e),M(!H)};(0,s.useEffect)((()=>{if(!R){if(y)return;var e;if(L)if(200===(null===L||void 0===L?void 0:L.code))G(),U>1&&1===(null===O||void 0===O||null===(e=O.data)||void 0===e?void 0:e.length)?I((e=>e-1)):$()}}),[L,y,R]);const K=(0,s.useMemo)((()=>({sn:(e,a)=>(0,n.jsx)("span",{children:a+1}),is_active:e=>(0,n.jsx)("span",{className:`badge ${(0,u.XN)(e.is_active?"Active":"Inactive")}`,children:e.is_active?"Active":"Inactive"}),created_at:e=>(0,u.N_)(e.created_at),action:e=>(0,n.jsxs)("div",{className:"btn-group actionDrp",children:[(0,n.jsx)("button",{type:"button",className:"btn dropdown-toggle-split","data-bs-toggle":"dropdown","aria-expanded":"false",children:(0,n.jsx)("i",{className:"bi bi-three-dots-vertical"})}),(0,n.jsxs)("ul",{className:"dropdown-menu",children:[(0,n.jsx)("li",{children:(0,n.jsxs)("span",{className:"dropdown-item",onClick:()=>B(e),children:[(0,n.jsx)(h.In,{className:"bi bi-pencil-square me-1"}),"Update"]})}),0===(null===e||void 0===e?void 0:e.emp_count)&&(0,n.jsx)("li",{children:(0,n.jsxs)("span",{className:"dropdown-item",onClick:()=>G(e._id),children:[(0,n.jsx)(h.In,{className:"bi bi-trash me-1"}),"Delete"]})})]})]})})),[B]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"cardBox myRequest mb-3 employeeHistory",children:[(0,n.jsxs)("div",{className:"d-flex align-items-center justify-content-between gap-3",children:[(0,n.jsxs)("div",{className:"cardHead d-flex",children:[(0,n.jsx)("img",{src:"images/myrequest-icon.svg",alt:"",width:35}),(0,n.jsx)("h4",{className:"ms-2 ",children:"Projects"})]}),(0,n.jsx)("div",{children:(0,n.jsx)(d.Sv,{classNames:"btn btn-primary gradientBg",handleClick:()=>B(),text:x("btns.createNewProject"),icon:(0,n.jsx)(h.In,{className:"fa fa-plus"})})})]}),(0,n.jsx)(j.Ak,{data:null===O||void 0===O?void 0:O.data,fields:[{key:"sn",label:"S.N"},{key:"department_name",label:"Departments"},{key:"name",label:"Project Name"},{key:"short_name",label:"Short Name"},{key:"emp_count",label:"Total Employees"},{key:"is_active",label:"Status"},{key:"created_at",label:"Created At"},{key:"action",label:"Action"}],isLoading:b,pagination:!0,currentPage:U,setCurrentPage:I,totalPages:null===O||void 0===O?void 0:O.totalPages,isHeader:!1,tableStyle:{padding:"0px",boxShadow:"none"},scopedSlots:K})]}),(0,n.jsx)(N,{openModel:T,handleOpenClose:B,handleCreateUpdateProject:e=>{k?(e._id=(null===k||void 0===k?void 0:k._id)||(null===k||void 0===k?void 0:k.id),p(r.vd.updateProjectRequest(e))):p(r.vd.createProjectRequest(e))},selectedProjectData:k,allDepartments:a,allEmployeeList:t,getSubDepartmentByDepartment:l,subDepartmentByDepartmentData:i}),H&&(0,n.jsx)(m.A,{onApproveReject:e=>{if(e){}else G()},isShow:H,desc:x("alerts.deletePopup.desc").replace("$1","Project"),btnRightLoading:R,btnTextRight:x("btns.delete"),btnTextLeft:x("btns.cancel")})]})},E=e=>{const{createSkillPending:a,updateSkillPending:t}=(0,o.d4)((e=>null===e||void 0===e?void 0:e.department)),{t:l}=(0,v.K)(),{selectedSkillData:i,openModel:r,handleOpenClose:c,handleCreateUpdateSkill:m}=e,[p,_]=(0,s.useState)({}),[j,f]=(0,s.useState)({name:"",short_name:"",is_active:!0}),N=(e,a)=>{var t;const s=a||(null===(t=e.target)||void 0===t?void 0:t.name),{value:n,type:l,checked:i}=e.target?e.target:{value:e};f((e=>{const a={...e,[s]:"checkbox"===l?i:n};return"name"===s&&(a.short_name=(0,u.aF)(n)),a})),_((e=>({...e,[s]:void 0})))};(0,s.useEffect)((()=>()=>{b()}),[r]),(0,s.useEffect)((()=>{i&&f({name:null===i||void 0===i?void 0:i.name,short_name:null===i||void 0===i?void 0:i.short_name,is_active:null===i||void 0===i?void 0:i.is_active})}),[i]);const b=()=>{f({name:"",short_name:"",is_active:!0}),_({})};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"offcanvas offcanvas-end  "+(r?"show":""),tabIndex:-1,style:{visibility:r?"visible":"hidden",width:"800px"},id:"interviewDetail",children:[(0,n.jsxs)("div",{className:"offcanvas-header",children:[(0,n.jsx)("h5",{className:"offcanvas-title  fs-5 fw-bold text-primary",children:l(i?"headings.updateSkill":"headings.createSkill")}),(0,n.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close",onClick:()=>c()})]}),(0,n.jsx)("div",{className:"offcanvas-body myRequest ",children:(0,n.jsxs)("div",{className:"formPanel",children:[(0,n.jsxs)("div",{className:"row",children:[(0,n.jsx)("div",{className:"col-md-3",children:(0,n.jsx)("div",{className:"form-group mb-3",children:(0,n.jsx)(h.JU,{text:l("labels.skillName"),required:!0})})}),(0,n.jsx)("div",{className:"col-md-9",children:(0,n.jsxs)("div",{className:"form-group mb-3",children:[(0,n.jsx)(h.pd,{type:"text",placeholder:l("placeholders.skillName"),value:null===j||void 0===j?void 0:j.name,name:"name",onChange:e=>N(e)}),(null===p||void 0===p?void 0:p.name)&&(0,n.jsx)(d.eo,{text:p.name})]})})]}),(0,n.jsxs)("div",{className:"row",children:[(0,n.jsx)("div",{className:"col-md-3",children:(0,n.jsx)("div",{className:"form-group mb-3",children:(0,n.jsx)(h.JU,{text:l("labels.shortName"),required:!0})})}),(0,n.jsx)("div",{className:"col-md-9",children:(0,n.jsxs)("div",{className:"form-group mb-3",children:[(0,n.jsx)(h.pd,{type:"text",placeholder:l("placeholders.shortName"),value:null===j||void 0===j?void 0:j.short_name,name:"short_name",onChange:e=>N(e)}),(null===p||void 0===p?void 0:p.short_name)&&(0,n.jsx)(d.eo,{text:p.short_name})]})})]}),(0,n.jsxs)("div",{className:"row",children:[(0,n.jsx)("div",{className:"col-md-3",children:(0,n.jsx)("div",{className:"form-group mb-3",children:(0,n.jsx)(h.JU,{text:l("labels.isActive")})})}),(0,n.jsx)("div",{className:"col-md-9",children:(0,n.jsx)("div",{className:"form-group mb-3",children:(0,n.jsx)(h.P_,{id:"is_active",checked:null===j||void 0===j?void 0:j.is_active,handleChange:e=>N(e),name:"is_active"},"is_active")})})]})]})}),(0,n.jsx)("div",{className:"offcanvas-footer",children:(0,n.jsx)("div",{className:"d-flex align-items-center justify-content-end gap-3",children:(0,n.jsx)(d.Sv,{text:l(i?"btns.update":"btns.submit"),classNames:"btn btn-org-gradient",handleClick:()=>(async()=>{const e=await(0,x.i6)(g.Tb,j);if(e.isValid){const{name:e,short_name:a,is_active:t}=j,s={name:e,short_name:a,is_active:t};_({}),m(s)}else _(e.errors)})(),isLoading:i?t:a})})})]}),r&&(0,n.jsx)("div",{className:"modal-backdrop fade show"})]})},D=e=>{const{allDepartments:a}=e,t=(0,o.wA)(),{t:l}=(0,v.K)(),{createSkillPending:i,createSkillRes:p,createSkillError:x,getSkillPending:g,getSkillRes:_,getSkillError:f,updateSkillPending:N,updateSkillRes:b,updateSkillError:D,deleteSkillPending:S,deleteSkillRes:A,deleteSkillError:C}=(0,o.d4)((e=>e.department)),[R,L]=(0,s.useState)(!1),[y,T]=(0,s.useState)(""),[P,k]=(0,s.useState)(1),[w,U]=(0,s.useState)({}),[I,O]=(0,s.useState)(!1),[q,H]=(0,s.useState)(""),M=e=>{T(e||""),L(!R)};(0,s.useEffect)((()=>{if(!i){if(x)return void t(r.vd.handleClearDepartmentStore("HANDLE_CLEAR_CREATE_SKILL_STORE"));p&&200===(null===p||void 0===p?void 0:p.code)&&(t(r.vd.handleClearDepartmentStore("HANDLE_CLEAR_CREATE_SKILL_STORE")),t(r.vd.handleClearDepartmentStore("HANDLE_CLEAR_GET_SKILL_STORE")),t(r.vd.handleClearDepartmentStore("HANDLE_CLEAR_GET_ALL_SKILL_LIST_STORE")),M(),F())}}),[i,p,x]),(0,s.useEffect)((()=>{if(!N){if(D)return void t(r.vd.handleClearDepartmentStore("HANDLE_CLEAR_UPDATE_SKILL_STORE"));b&&200===(null===b||void 0===b?void 0:b.code)&&(t(r.vd.handleClearDepartmentStore("HANDLE_CLEAR_UPDATE_SKILL_STORE")),t(r.vd.handleClearDepartmentStore("HANDLE_CLEAR_GET_SKILL_STORE")),t(r.vd.handleClearDepartmentStore("HANDLE_CLEAR_GET_ALL_SKILL_LIST_STORE")),F(),M())}}),[b,D,N]),(0,s.useEffect)((()=>{F()}),[P]);const F=()=>{const e={page:P,limit:c.X$.limit};t(r.vd.getSkillRequest(e))};(0,s.useEffect)((()=>{if(!g){if(f)return;if(_&&200===(null===_||void 0===_?void 0:_.code)){const e=null===_||void 0===_?void 0:_.data;U(e)}}}),[g,_,f]);const J=e=>{e&&H(e),O(!I)};(0,s.useEffect)((()=>{if(!S){if(C)return;A&&200===(null===A||void 0===A?void 0:A.code)&&J()}}),[A,C,S]);const B=(0,s.useMemo)((()=>({sn:(e,a)=>(0,n.jsx)("span",{children:a+1}),is_active:e=>(0,n.jsx)("span",{className:`badge ${(0,u.XN)(e.is_active?"Active":"Inactive")}`,children:e.is_active?"Active":"Inactive"}),created_at:e=>(0,u.N_)(e.created_at),action:e=>(0,n.jsxs)("div",{className:"btn-group actionDrp",children:[(0,n.jsx)("button",{type:"button",className:"btn dropdown-toggle-split","data-bs-toggle":"dropdown","aria-expanded":"false",children:(0,n.jsx)("i",{className:"bi bi-three-dots-vertical"})}),(0,n.jsx)("ul",{className:"dropdown-menu",children:(0,n.jsx)("li",{children:(0,n.jsxs)("span",{className:"dropdown-item",onClick:()=>M(e),children:[(0,n.jsx)(h.In,{className:"bi bi-pencil-square me-1"}),"Update"]})})})]})})),[M]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"cardBox myRequest mb-3 employeeHistory",children:[(0,n.jsxs)("div",{className:"d-flex align-items-center justify-content-between gap-3",children:[(0,n.jsxs)("div",{className:"cardHead d-flex",children:[(0,n.jsx)("img",{src:"images/myrequest-icon.svg",alt:"",width:35}),(0,n.jsx)("h4",{className:"ms-2 ",children:"Skills"})]}),(0,n.jsx)("div",{children:(0,n.jsx)(d.Sv,{classNames:"btn btn-primary gradientBg",handleClick:()=>M(),text:l("btns.createNewSkill"),icon:(0,n.jsx)(h.In,{className:"fa fa-plus"})})})]}),(0,n.jsx)(j.Ak,{data:null===w||void 0===w?void 0:w.data,fields:[{key:"sn",label:"S.N"},{key:"name",label:"Skill Name"},{key:"short_name",label:"Short Name"},{key:"is_active",label:"Status"},{key:"created_at",label:"Created At"},{key:"action",label:"Action"}],isLoading:g,pagination:!0,currentPage:P,setCurrentPage:e=>k(e),totalPages:null===w||void 0===w?void 0:w.totalPages,isHeader:!1,tableStyle:{padding:"0px",boxShadow:"none"},scopedSlots:B})]}),R&&(0,n.jsx)(E,{openModel:R,handleOpenClose:M,handleCreateUpdateSkill:e=>{y?(e._id=(null===y||void 0===y?void 0:y._id)||(null===y||void 0===y?void 0:y.id),t(r.vd.updateSkillRequest(e))):t(r.vd.createSkillRequest(e))},selectedSkillData:y,allDepartments:a}),I&&(0,n.jsx)(m.A,{onApproveReject:e=>{if(e){}else J()},isShow:I,desc:l("alerts.deletePopup.desc").replace("$1","Skill"),btnRightLoading:S,btnTextRight:l("btns.delete"),btnTextLeft:l("btns.cancel")})]})};var S=t(34348),A=t.n(S),C=t(82149);const R=e=>{const{t:a}=(0,v.K)(),{departmentList:t,isLoading:l,setSelectedDepartmentData:i,toggleDepartmentModal:d,toggleDeleteModal:o,currentPage:r,setCurrentPage:c}=e,[m,p]=(0,s.useState)(t);(0,s.useEffect)((()=>{p(t)}),[t]);const x=(0,s.useMemo)((()=>({sn:(e,a)=>(0,n.jsx)("span",{children:a+1}),is_active:e=>(0,n.jsx)("span",{className:`badge ${(0,u.XN)(e.is_active?"Active":"Inactive")}`,children:e.is_active?"Active":"Inactive"}),created_at:e=>A()(e.created_at).format("DD-MM-YYYY"),action:e=>(0,n.jsxs)("div",{className:"btn-group actionDrp",children:[(0,n.jsx)("button",{type:"button",className:"btn dropdown-toggle-split","data-bs-toggle":"dropdown","aria-expanded":"false",children:(0,n.jsx)("i",{className:"bi bi-three-dots-vertical"})}),(0,n.jsxs)("ul",{className:"dropdown-menu",children:[(0,n.jsx)("li",{children:(0,n.jsxs)("span",{className:"dropdown-item",onClick:()=>{d(e)},children:[(0,n.jsx)(h.In,{className:"bi bi-pencil-square me-1"}),"Update"]})}),0===(null===e||void 0===e?void 0:e.emp_count)&&(0,n.jsx)("li",{children:(0,n.jsxs)("span",{className:"dropdown-item",onClick:()=>o(e._id),children:[(0,n.jsx)(h.In,{className:"bi bi-trash me-1"}),"Delete"]})})]})]})})),[i,d,o]);return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(C.A,{data:null===m||void 0===m?void 0:m.data,fields:[{key:"sn",label:"S.N"},{key:"name",label:"Name"},{key:"short_name",label:"Short Name"},{key:"emp_count",label:"Total Employees"},{key:"is_active",label:"Status"},{key:"created_at",label:"Created At"},{key:"action",label:"Action"}],isLoading:l,pagination:!0,currentPage:r,setCurrentPage:c,totalPages:null===m||void 0===m?void 0:m.totalPages,tableName:"Department",scopedSlots:x})})};var L=t(33474);const y=e=>{const{t:a}=(0,v.K)(),{openCreateUpdateDepModal:t,toggleDepartmentModal:l,selectedDepartmentData:i,handleCreateUpdateDepartment:r}=e,[c,m]=(0,s.useState)({}),{addDepartmentPending:u,updateDepartmentPending:p}=(0,o.d4)((e=>e.department)),[_,j]=(0,s.useState)(!0),[f,N]=(0,s.useState)({depName:"",shortName:""}),b=e=>{c&&m({});const{name:a,value:t}=e.target;N({...f,[a]:t})};(0,s.useEffect)((()=>{i&&(N({depName:(null===i||void 0===i?void 0:i.name)||"",shortName:(null===i||void 0===i?void 0:i.short_name)||""}),j(null===i||void 0===i?void 0:i.is_active))}),[i]),(0,s.useEffect)((()=>()=>{E()}),[t]);const E=()=>{N({depName:"",shortName:""}),m({})};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"offcanvas offcanvas-end creatNewTicketOff "+(t?"show":""),tabIndex:-1,style:{visibility:t?"visible":"hidden",width:"800px"},children:[(0,n.jsxs)("div",{className:"offcanvas-header",children:[(0,n.jsxs)("h5",{className:"offcanvas-title  fs-5 fw-bold text-primary",children:[" ",i?"Update":"Create New"," Department"]}),(0,n.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close",onClick:()=>l()})]}),(0,n.jsx)("div",{className:"offcanvas-body",children:(0,n.jsxs)("div",{className:"formPanel",children:[(0,n.jsxs)("div",{className:"row",children:[(0,n.jsx)("div",{className:"col-md-3",children:(0,n.jsx)("div",{className:"form-group mb-3",children:(0,n.jsx)(h.JU,{text:a("labels.name"),required:!0})})}),(0,n.jsx)("div",{className:"col-md-9",children:(0,n.jsxs)("div",{className:"form-group mb-3",children:[(0,n.jsx)(h.pd,{type:"text",placeholder:a("placeholders.departmentName"),value:(null===f||void 0===f?void 0:f.depName)||"",name:"depName",onChange:e=>b(e)}),(null===c||void 0===c?void 0:c.depName)&&(0,n.jsx)(L.A,{text:c.depName})]})})]}),(0,n.jsxs)("div",{className:"row",children:[(0,n.jsx)("div",{className:"col-md-3",children:(0,n.jsx)("div",{className:"form-group",children:(0,n.jsx)(h.JU,{text:a("labels.shortName"),required:!0})})}),(0,n.jsx)("div",{className:"col-md-9",children:(0,n.jsxs)("div",{className:"form-group mb-3",children:[(0,n.jsx)(h.pd,{type:"text",placeholder:a("placeholders.shortName"),value:null===f||void 0===f?void 0:f.shortName,name:"shortName",onChange:e=>b(e)}),(null===c||void 0===c?void 0:c.shortName)&&(0,n.jsx)(L.A,{text:c.shortName})]})})]}),(0,n.jsxs)("div",{className:"row",children:[(0,n.jsx)("div",{className:"col-md-3",children:(0,n.jsx)("div",{className:"form-group mb-3",children:(0,n.jsx)(h.JU,{text:a("labels.isActive")})})}),(0,n.jsx)("div",{className:"col-md-9",children:(0,n.jsx)("div",{className:"form-group mb-3",children:(0,n.jsx)(h.P_,{id:"is_active",checked:_,handleChange:e=>j(!_),name:"is_active"},"is_active")})})]})]})}),(0,n.jsx)("div",{className:"offcanvas-footer",children:(0,n.jsx)("div",{className:"d-flex align-items-center justify-content-end gap-3",children:(0,n.jsx)(d.Sv,{text:a(i?"btns.update":"btns.submit"),classNames:"btn btn-org-gradient",handleClick:()=>(async()=>{const e=await(0,x.i6)(g.JU,f);if(e.isValid){m({});const e={name:(null===f||void 0===f?void 0:f.depName)||"",short_name:(null===f||void 0===f?void 0:f.shortName)||"",is_active:!!_};r(e)}else m(e.errors)})(),isLoading:i?p:u})})})]}),t&&(0,n.jsx)("div",{className:"modal-backdrop fade show"})]})},T=()=>{const{t:e}=(0,v.K)(),a=(0,o.wA)(),{getAllDepartmentRes:t,getAllDepartmentError:l,getAllDepartmentPending:i,deleteDepartmentPending:u,deleteDepartmentRes:p,deleteDepartmentError:h,addDepartmentPending:x,addDepartmentRes:g,addDepartmentError:_,updateDepartmentPending:j,updateDepartmentRes:f,updateDepartmentError:N}=(0,o.d4)((e=>e.department)),[b,E]=(0,s.useState)(""),[D,S]=(0,s.useState)(""),[A,C]=(0,s.useState)(!1),[L,T]=(0,s.useState)(),[P,k]=(0,s.useState)(!1),[w,U]=(0,s.useState)(1),I=e=>{S(e||""),C(!A)};(0,s.useEffect)((()=>{if(!x){if(_)return void a(r.vd.handleClearDepartmentStore("HANDLE_CLEAR_ADD_DEPARTMENT_STORE"));g&&200==(null===g||void 0===g?void 0:g.code)&&(a(r.vd.handleClearDepartmentStore("HANDLE_CLEAR_ADD_DEPARTMENT_STORE")),a(r.vd.handleClearDepartmentStore("HANDLE_CLEAR_GET_DEPARTMENT_LIST_STORE")),I(),O())}}),[x,g,_]),(0,s.useEffect)((()=>{if(!j){if(N)return void a(r.vd.handleClearDepartmentStore("HANDLE_CLEAR_UPDATE_DEPARTMENT_STORE"));f&&200==(null===f||void 0===f?void 0:f.code)&&(a(r.vd.handleClearDepartmentStore("HANDLE_CLEAR_UPDATE_DEPARTMENT_STORE")),a(r.vd.handleClearDepartmentStore("HANDLE_CLEAR_GET_DEPARTMENT_LIST_STORE")),O(),I())}}),[j,f,N]),(0,s.useEffect)((()=>{O()}),[w]);const O=()=>{const e={page:w,limit:c.X$.limit};a(r.vd.getAllDepartmentRequest(e))};(0,s.useEffect)((()=>{if(!i){if(l)return;t&&200===(null===t||void 0===t?void 0:t.code)&&E(null===t||void 0===t?void 0:t.data)}}),[t,l,i]);const q=e=>{e&&T(e),k(!P)};return(0,s.useEffect)((()=>{if(!u){if(h)return void a(r.vd.handleClearDepartmentStore("HANDLE_CLEAR_DELETE_DEPARTMENT_STORE"));var e;if(p)if(200==(null===p||void 0===p?void 0:p.code))a(r.vd.handleClearDepartmentStore("HANDLE_CLEAR_DELETE_DEPARTMENT_STORE")),a(r.vd.handleClearDepartmentStore("HANDLE_CLEAR_GET_DEPARTMENT_LIST_STORE")),q(),w>1&&1===(null===b||void 0===b||null===(e=b.data)||void 0===e?void 0:e.length)?U((e=>e-1)):O()}}),[p,h,u]),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"d-flex  justify-content-end ",children:(0,n.jsx)(d.Sv,{classNames:"btn btn-primary gradientBg",handleClick:()=>I(),text:e("btns.createDepartment")})}),(0,n.jsx)(R,{isLoading:i,toggleDepartmentModal:I,setSelectedDepartmentData:S,toggleDeleteModal:q,currentPage:w,setCurrentPage:U,departmentList:b}),A&&(0,n.jsx)(y,{getAllDepartments:O,openCreateUpdateDepModal:A,toggleDepartmentModal:I,selectedDepartmentData:D,handleCreateUpdateDepartment:e=>{D?(e._id=null===D||void 0===D?void 0:D._id,a(r.vd.updateDepartmentRequest(e))):a(r.vd.addDepartmentRequest(e))}}),P&&(0,n.jsx)(m.A,{onApproveReject:e=>{if(e){const e={_id:L};a(null===r.vd||void 0===r.vd?void 0:r.vd.deleteDepartmentRequest(e))}else q()},isShow:P,desc:e("alerts.deletePopup.desc").replace("$1","Department"),btnRightLoading:u,btnTextRight:e("btns.delete"),btnTextLeft:e("btns.cancel")})]})};var P=t(43123);const k=e=>{const{t:a}=(0,v.K)(),{getAllDesignation:t,setSelectedDesignation:l,isOpen:i,toggleDesignation:c,selectedDesignation:m}=e,[p,_]=(0,s.useState)({}),j=(0,o.wA)(),{addDesignationPending:f,addDesignationRes:N,addDesignationError:b}=(0,o.d4)((e=>e.designation)),{getDepartmentListPending:E,getDepartmentListRes:D,getDepartmentListError:S}=(0,o.d4)((e=>e.department)),{updateDesignationPending:A,updateDesignationRes:C,updateDesignationError:R}=(0,o.d4)((e=>e.designation)),[L,y]=(0,s.useState)([]),[T,P]=(0,s.useState)(!0),[k,w]=(0,s.useState)(""),[U,I]=(0,s.useState)({departmentId:"",designationName:"",shortName:""});(0,s.useEffect)((()=>{O()}),[]);const O=()=>{j(r.vd.getDepartmentListRequest())};(0,s.useEffect)((()=>{if(!E){if(S)return;if(D&&200===(null===D||void 0===D?void 0:D.code)){const e=null===D||void 0===D?void 0:D.data;y(e)}}}),[D,S,E]);(0,s.useEffect)((()=>{if(!f){if(b)return void j(r.EU.handleClearDesignationStore("HANDLE_CLEAR_ADD_DESIGNATION_STORE"));N&&200==(null===N||void 0===N?void 0:N.code)&&(j(r.EU.handleClearDesignationStore("HANDLE_CLEAR_ADD_DESIGNATION_STORE")),c(),t())}}),[f,N,b]);const q=e=>{p&&_({});const{name:a,value:t}=e.target;I((e=>{const s={...e,[a]:t};return"designationName"===a&&(s.shortName=(0,u.aF)(t)),s}))};return(0,s.useEffect)((()=>{I({departmentId:null===m||void 0===m?void 0:m.department_id,designationName:(null===m||void 0===m?void 0:m.name)||"",shortName:(null===m||void 0===m?void 0:m.short_name)||""}),P(null===m||void 0===m?void 0:m.is_active),w(null===m||void 0===m?void 0:m._id)}),[m]),(0,s.useEffect)((()=>{if(!A){if(R)return void j(r.EU.handleClearDesignationStore("HANDLE_CLEAR_UPDATE_DESIGNATION_STORE"));C&&200==(null===C||void 0===C?void 0:C.code)&&(j(r.EU.handleClearDesignationStore("HANDLE_CLEAR_UPDATE_DESIGNATION_STORE")),c(),t())}}),[A,C,R]),(0,s.useEffect)((()=>{0==i&&(I({departmentId:"",designationName:"",shortName:""}),l(""),_({}))}),[i]),(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"offcanvas offcanvas-end creatNewTicketOff "+(i?"show":""),tabIndex:-1,style:{visibility:i?"visible":"hidden"},children:[(0,n.jsxs)("div",{className:"offcanvas-header",children:[(0,n.jsxs)("h5",{className:"offcanvas-title  fs-5 fw-bold text-primary",children:[m?"Update":"Create New"," Designation"]}),(0,n.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close",onClick:()=>c()})]}),(0,n.jsx)("div",{className:"offcanvas-body",children:(0,n.jsxs)("div",{className:"formPanel",children:[(0,n.jsxs)("div",{className:"row",children:[(0,n.jsx)("div",{className:"col-md-3",children:(0,n.jsx)("div",{className:"form-group mb-3",children:(0,n.jsx)(h.JU,{text:a("labels.selectDepartment"),required:!0})})}),(0,n.jsx)("div",{className:"col-md-9",children:(0,n.jsxs)("div",{className:"form-group mb-3",children:[(0,n.jsxs)("select",{className:"form-select",name:"departmentId",value:null===U||void 0===U?void 0:U.departmentId,onChange:e=>q(e),disabled:"",children:[(0,n.jsx)("option",{value:"",hidden:!0,selected:!0,children:"Select Department..."}),L&&(null===L||void 0===L?void 0:L.length)>0&&(null===L||void 0===L?void 0:L.map(((e,a)=>(0,n.jsx)("option",{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.name}))))]}),(null===p||void 0===p?void 0:p.departmentId)&&(0,n.jsx)(d.eo,{text:p.departmentId})]})}),(0,n.jsx)("div",{className:"col-md-3",children:(0,n.jsx)("div",{className:"form-group mb-3",children:(0,n.jsx)(h.JU,{text:a("labels.name"),required:!0})})}),(0,n.jsx)("div",{className:"col-md-9",children:(0,n.jsxs)("div",{className:"form-group mb-3",children:[(0,n.jsx)(h.pd,{type:"text",placeholder:a("placeholders.designationName"),value:(null===U||void 0===U?void 0:U.designationName)||"",name:"designationName",onChange:e=>q(e)}),(null===p||void 0===p?void 0:p.designationName)&&(0,n.jsx)(d.eo,{text:p.designationName})]})})]}),(0,n.jsxs)("div",{className:"row",children:[(0,n.jsx)("div",{className:"col-md-3",children:(0,n.jsx)("div",{className:"form-group mb-3",children:(0,n.jsx)(h.JU,{text:a("labels.shortName"),required:!0})})}),(0,n.jsx)("div",{className:"col-md-9",children:(0,n.jsxs)("div",{className:"form-group mb-3",children:[(0,n.jsx)(h.pd,{type:"text",placeholder:a("placeholders.shortName"),value:null===U||void 0===U?void 0:U.shortName,name:"shortName",onChange:e=>q(e)}),(null===p||void 0===p?void 0:p.shortName)&&(0,n.jsx)(d.eo,{text:p.shortName})]})})]}),(0,n.jsxs)("div",{className:"row",children:[(0,n.jsx)("div",{className:"col-md-3",children:(0,n.jsx)("div",{className:"form-group mb-3",children:(0,n.jsx)(h.JU,{text:a("labels.isActive")})})}),(0,n.jsx)("div",{className:"col-md-9",children:(0,n.jsx)("div",{className:"form-group mb-3",children:(0,n.jsx)(h.P_,{id:"is_active",checked:T,handleChange:e=>P(!T),name:"is_active"},"is_active")})})]})]})}),(0,n.jsx)("div",{className:"offcanvas-footer",children:(0,n.jsx)("div",{className:"d-flex align-items-center justify-content-end gap-3",children:(0,n.jsx)(d.Sv,{text:a(m?"btns.update":"btns.submit"),classNames:"btn btn-org-gradient",handleClick:()=>(async()=>{const e=await(0,x.i6)(g.Mv,U);if(e.isValid){_({});let e={department_id:null===U||void 0===U?void 0:U.departmentId,name:(null===U||void 0===U?void 0:U.designationName)||"",short_name:(null===U||void 0===U?void 0:U.shortName)||"",is_active:T};m?(e._id=k,j(r.EU.updateDesignationRequest(e))):j(r.EU.addDesignationRequest(e))}else _(e.errors)})(),isLoading:m?A:f})})})]})})},w=()=>{const{t:e}=(0,v.K)(),a=(0,o.wA)(),{getAllDesignationRes:t,getAllDesignationError:l,getAllDesignationPending:i,deleteDesignationPending:u,deleteDesignationRes:p,deleteDesignationError:h}=(0,o.d4)((e=>e.designation)),[x,g]=(0,s.useState)(""),[_,j]=(0,s.useState)(""),[f,N]=(0,s.useState)(!1),[b,E]=(0,s.useState)(!1),[D,S]=(0,s.useState)(),[A,C]=(0,s.useState)(null===c.X$||void 0===c.X$?void 0:c.X$.page);(0,s.useEffect)((()=>{L()}),[A]);const R=()=>{N(!f)},L=()=>{const e={page:A,limit:null===c.X$||void 0===c.X$?void 0:c.X$.limit};a(r.EU.getAllDesignationRequest(e))};(0,s.useEffect)((()=>{if(!i){if(l)return;t&&200==(null===t||void 0===t?void 0:t.code)&&g(null===t||void 0===t?void 0:t.data)}}),[t,l,i]);return(0,s.useEffect)((()=>{if(!u){if(h)return void a(r.EU.handleClearDesignationStore("HANDLE_CLEAR_DELETE_DESIGNATION_STORE"));var e;if(p)if(200==(null===p||void 0===p?void 0:p.code))a(r.EU.handleClearDesignationStore("HANDLE_CLEAR_DELETE_DESIGNATION_STORE")),A>1&&1===(null===x||void 0===x||null===(e=x.data)||void 0===e?void 0:e.length)?C((e=>e-1)):L()}}),[p,h,u]),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:" d-flex  justify-content-end ",children:(0,n.jsx)(d.Sv,{classNames:"btn btn-primary gradientBg",handleClick:()=>R(),text:e("btns.createDesignation")})}),(0,n.jsx)(P.A,{designationList:x,isLoading:i,setSelectedDesignation:j,toggleDesignation:R,onHandleDeleteModal:e=>{E(!b),S(e)},currentPage:A,setCurrentPage:C}),(0,n.jsx)(k,{getAllDesignation:L,setSelectedDesignation:j,isOpen:f,toggleDesignation:R,selectedDesignation:_}),b&&(0,n.jsx)(m.A,{onApproveReject:(e,t)=>{if(e){let e={_id:D};a(null===r.EU||void 0===r.EU?void 0:r.EU.deleteDesignationRequest(e))}E(!b)},isShow:b,desc:e("alerts.deletePopup.desc").replace("$1","Designation"),btnRightLoading:u})]})},U=()=>{const e=(0,o.wA)(),[a,t]=(0,s.useState)("department"),[l,d]=(0,s.useState)([]),[c,m]=(0,s.useState)([]),[v,u]=(0,s.useState)([]),{getDepartmentListRes:p,getDepartmentListError:h,getDepartmentListPending:x,getSubDepartmentByDepartmentRes:g,getSubDepartmentByDepartmentError:_,getSubDepartmentByDepartmentPending:j}=(0,o.d4)((e=>e.department)),{getAllEmployeeRes:N,getAllEmployeeError:E,getAllEmployeePending:S}=(0,o.d4)((e=>e.employee));(0,s.useEffect)((()=>{A(),C()}),[]);const A=()=>{const a=null===p||void 0===p?void 0:p.data;null!==a&&void 0!==a&&a.length?d(a):e(r.vd.getDepartmentListRequest())};(0,s.useEffect)((()=>{if(!x){if(h)return;if(p&&200===(null===p||void 0===p?void 0:p.code)){const e=null===p||void 0===p?void 0:p.data;d(e)}}}),[p,h,x]);const C=()=>{e(r.mM.getAllEmployeeRequest())};(0,s.useEffect)((()=>{if(!S){if(E)return;N&&200===(null===N||void 0===N?void 0:N.code)&&u(null===N||void 0===N?void 0:N.data)}}),[N,E,S]);return(0,s.useEffect)((()=>{if(!j){if(_)return;g&&200===(null===g||void 0===g?void 0:g.code)&&m(null===g||void 0===g?void 0:g.data)}}),[g,_,j]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i,{isActiveTab:a,setIsActiveTab:t}),"department"===a&&(0,n.jsx)(T,{}),"functions"===a&&(0,n.jsx)(f,{allDepartments:l,allEmployeeList:v}),"projects"===a&&(0,n.jsx)(b,{allDepartments:l,allEmployeeList:v,getSubDepartmentByDepartment:a=>{const t={department_id:a};e(r.vd.getSubDepartmentByDepartmentRequest(t))},subDepartmentByDepartmentData:c}),"designation"===a&&(0,n.jsx)(w,{allDepartments:l}),"skills"===a&&(0,n.jsx)(D,{})]})}},43123:(e,a,t)=>{t.d(a,{A:()=>m});var s=t(65043),n=(t(92250),t(34348)),l=t.n(n),i=t(49985),d=t(29829),o=t(90607),r=t(45531),c=t(70579);const m=e=>{const{t:a}=(0,o.K)(),{designationList:t,isLoading:n,setSelectedDesignation:m,toggleDesignation:v,onHandleDeleteModal:u,setCurrentPage:p,currentPage:h}=e,[x,g]=(0,s.useState)();(0,s.useEffect)((()=>{g(t)}),[t]);const _=(0,s.useMemo)((()=>({sn:(e,a)=>(0,c.jsx)("span",{children:a+1}),is_active:e=>(0,c.jsx)("span",{className:`badge ${(0,i.XN)(e.is_active?"Active":"Inactive")}`,children:e.is_active?"Active":"Inactive"}),created_at:e=>l()(e.created_at).format("DD-MM-YYYY"),action:e=>(0,c.jsxs)("div",{className:"btn-group actionDrp",children:[(0,c.jsx)("button",{type:"button",className:"btn dropdown-toggle-split","data-bs-toggle":"dropdown","aria-expanded":"false",children:(0,c.jsx)("i",{className:"bi bi-three-dots-vertical"})}),(0,c.jsxs)("ul",{className:"dropdown-menu",children:[(0,c.jsx)("li",{children:(0,c.jsxs)("span",{className:"dropdown-item",onClick:()=>(m(e),void v()),children:[(0,c.jsx)(r.In,{className:"bi bi-pencil-square me-1"}),"Update"]})}),0===(null===e||void 0===e?void 0:e.emp_count)&&(0,c.jsx)("li",{children:(0,c.jsxs)("span",{className:"dropdown-item",onClick:()=>u(e._id),children:[(0,c.jsx)(r.In,{className:"bi bi-trash me-1"}),"Delete"]})})]})]})})),[m,v,u]);return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(d.Ak,{data:null===x||void 0===x?void 0:x.data,fields:[{key:"sn",label:"S.N"},{key:"department_name",label:"Department Name"},{key:"name",label:"Name"},{key:"short_name",label:"Short Name"},{key:"emp_count",label:"Total Employees"},{key:"is_active",label:"Status"},{key:"created_at",label:"Created At"},{key:"action",label:"Action"}],isLoading:n,pagination:!0,currentPage:h,setCurrentPage:p,totalPages:null===x||void 0===x?void 0:x.totalPages,tableName:"Designation",scopedSlots:_})})}}}]);
//# sourceMappingURL=7646.d9175433.chunk.js.map