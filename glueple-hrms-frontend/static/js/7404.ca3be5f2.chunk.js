"use strict";(self.webpackChunkglueple_user=self.webpackChunkglueple_user||[]).push([[7404],{57404:(e,i,l)=>{l.r(i),l.d(i,{default:()=>_});var a=l(65043),n=l(22166),t=l(94174),d=l(92250),s=l(80728),o=l(26181),r=l(33474),v=l(60708),c=l(56462),u=l(68939),m=l(90607),p=l(70579);const g=e=>{const{t:i}=(0,m.K)(),{handleOpenClose:l,openModel:n,filteredDropdownData:t,allLocationsData:g,mrfIdsData:f,handleCreateCandidate:x,isLoadingCandidateCreate:h}=e,[w,b]=(0,a.useState)({}),[j,y]=(0,a.useState)({mrf_id:"",employeeName:"",employeeEmail:"",employeeMobile:"",location:null,source:null,experience:null,address:"",pincode:"",skills:""}),[_,A]=(0,a.useState)(""),[C,N]=(0,a.useState)(""),[S,D]=(0,a.useState)(""),[E,I]=(0,a.useState)("");(0,a.useEffect)((()=>{if(t){const{year_of_experience:e,skills:i,source:l}=t;A(e),N(i),D(l)}}),[t]),(0,a.useEffect)((()=>{g&&I(g)}),[g]),(0,a.useEffect)((()=>{!1===n&&T()}),[n]);const T=()=>{y({mrf_id:"",employeeName:"",employeeEmail:"",employeeMobile:"",location:null,source:null,experience:null,address:"",pincode:"",skills:""})},k=async(e,i)=>{const l=i||e.target.name,a=e.target?e.target.value:e;b((e=>({...e,[l]:void 0}))),y((e=>({...e,[l]:a})))};return(0,p.jsx)("div",{children:(0,p.jsxs)("div",{className:"offcanvas offcanvas-end  "+(n?"show":""),tabIndex:-1,style:{visibility:n?"visible":"hidden",width:"800px"},id:"interviewDetail",children:[(0,p.jsxs)("div",{className:"offcanvas-header",children:[(0,p.jsxs)("h5",{className:"offcanvas-title  fs-5 fw-bold text-primary",children:[i("headings.createCandidate")," "]}),(0,p.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close",onClick:()=>l()})]}),(0,p.jsx)("div",{className:"offcanvas-body",children:(0,p.jsx)("div",{className:"formPanel",children:(0,p.jsxs)("div",{className:"row",children:[(0,p.jsxs)("div",{className:"col-md-6 form-group mb-3",children:[(0,p.jsx)(u.JU,{text:i("labels.mrfId")}),(0,p.jsx)(c.A,{data:f,placeholder:i("placeholders.selectMrfId"),value:j.mrf_id||"",handleChange:e=>k(e,"mrf_id"),name:"mrf_id"})]}),(0,p.jsxs)("div",{className:"col-md-6 form-group mb-3",children:[(0,p.jsx)(u.JU,{text:i("labels.employeeName"),required:!0}),(0,p.jsx)(v.A,{type:"text",name:"employeeName",placeholder:i("placeholders.name"),value:j.employeeName||"",id:"other_skills",onChange:e=>k(e)}),w.employeeName&&(0,p.jsx)(r.A,{text:w.employeeName})]}),(0,p.jsxs)("div",{className:" col-md-6 form-group mb-3",children:[(0,p.jsx)(u.JU,{text:i("labels.employeeEmail"),required:!0}),(0,p.jsx)(v.A,{type:"text",name:"employeeEmail",placeholder:i("placeholders.email"),value:j.employeeEmail||"",onChange:k}),w.employeeEmail&&(0,p.jsx)(r.A,{text:w.employeeEmail})]}),(0,p.jsxs)("div",{className:"col-md-6 form-group mb-3",children:[(0,p.jsx)(u.JU,{text:i("labels.employeeMobile"),required:!0}),(0,p.jsx)(v.A,{type:"number",name:"employeeMobile",placeholder:i("placeholders.employeeMobile"),value:j.employeeMobile||"",onChange:k}),w.employeeMobile&&(0,p.jsx)(r.A,{text:w.employeeMobile})]}),(0,p.jsxs)("div",{className:"col-md-6 form-group mb-3",children:[(0,p.jsx)(u.JU,{text:i("labels.source"),required:!0}),(0,p.jsx)(c.A,{data:S,placeholder:i("placeholders.selectSource"),value:j.source||"",handleChange:e=>k(e,"source"),name:"source"}),w.source&&(0,p.jsx)(r.A,{text:w.source})]}),(0,p.jsxs)("div",{className:" col-md-6 form-group mb-3",children:[(0,p.jsx)(u.JU,{text:i("labels.yearOfExperience"),required:!0}),(0,p.jsx)(c.A,{data:_,placeholder:i("placeholders.yearOfExperience"),value:(null===j||void 0===j?void 0:j.experience)||"",handleChange:e=>k(e,"experience"),name:"experience"}),w.experience&&(0,p.jsx)(r.A,{text:w.experience})]}),(0,p.jsxs)("div",{className:"col-md-12 form-group mb-3",children:[(0,p.jsx)(u.JU,{text:i("labels.skills")}),(0,p.jsx)(c.A,{data:C,placeholder:i("placeholders.selectSkills"),value:j.skills||"",handleChange:e=>k(e,"skills"),name:"skills",isMulti:!0})]}),(0,p.jsxs)("div",{className:" col-md-6 form-group mb-3",children:[(0,p.jsx)(u.JU,{text:i("labels.location"),required:!0}),(0,p.jsx)(c.A,{data:E,placeholder:i("placeholders.selectLocation"),value:j.location||"",handleChange:e=>k(e,"location"),name:"location"}),w.location&&(0,p.jsx)(r.A,{text:w.location})]}),(0,p.jsxs)("div",{className:" col-md-6 form-group mb-3",children:[(0,p.jsx)(u.JU,{text:i("labels.pinCode")}),(0,p.jsx)(v.A,{type:"number",name:"pincode",placeholder:i("placeholders.pinCode"),value:j.pincode||"",onChange:k}),w.pincode&&(0,p.jsx)(r.A,{text:w.pincode})]}),(0,p.jsxs)("div",{className:"col-md-12 form-group mb-3",children:[(0,p.jsx)(u.JU,{text:i("labels.address")}),(0,p.jsx)("textarea",{id:"",className:"w-100 form-control",placeholder:i("placeholders.address"),name:"address",value:null===j||void 0===j?void 0:j.address,onChange:e=>k(e)})]})]})})}),(0,p.jsx)("div",{className:"offcanvas-footer",children:(0,p.jsxs)("div",{className:"d-flex align-items-center justify-content-end gap-3",children:[(0,p.jsx)(d.Sv,{text:i("btns.create"),handleClick:()=>(async()=>{const e=await(0,o.i6)(s.HL,j);if(e.isValid){var i,l,a,n;const e=null===j||void 0===j?void 0:j.skills.filter((e=>e.is_active)).map((e=>e.id)),t={mrf_id:null===j||void 0===j||null===(i=j.mrf_id)||void 0===i?void 0:i.value,name:null===j||void 0===j?void 0:j.employeeName,email:null===j||void 0===j?void 0:j.employeeEmail,mobile:null===j||void 0===j?void 0:j.employeeMobile,location:null===j||void 0===j||null===(l=j.location)||void 0===l?void 0:l.value,source:null===j||void 0===j||null===(a=j.source)||void 0===a?void 0:a.value,year_of_experience:null===j||void 0===j||null===(n=j.experience)||void 0===n?void 0:n.value,address:null===j||void 0===j?void 0:j.address,pincode:null===j||void 0===j?void 0:j.pincode,skills:e};x(t)}else b(e.errors)})(),classNames:"btn btn-primary gradientBg",isLoading:h}),(0,p.jsx)(d.Sv,{text:i("btns.reset"),handleClick:()=>T(),classNames:"btn btn-secondary"})]})})]})})};var f=l(82149),x=l(49985),h=l(62001);const w=e=>{const{allCandidatesData:i,setCurrentPage:l,currentPage:n,isLoading:t,onHandleAssignInterview:d}=e,{t:s}=(0,m.K)(),o=(0,a.useMemo)((()=>({sn:(e,i)=>(0,p.jsx)("span",{children:i+1}),assign_interview:e=>"accepted"!==(null===e||void 0===e?void 0:e.offer_letter_status)&&(0,p.jsx)("span",{onClick:()=>d(null===e||void 0===e?void 0:e.id,null===e||void 0===e?void 0:e.mrf_id),children:(0,p.jsx)(h.A,{imgSrc:"images/add-icon3.svg",altText:"",width:32})}),offer_letter_status:e=>(0,p.jsx)("span",{className:`badge ${(0,x.XN)(e.offer_letter_status)}`,children:e.offer_letter_status})})),[i]);return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(f.A,{data:null===i||void 0===i?void 0:i.data,fields:[{key:"sn",label:"S.N"},{key:"auto_id",label:"Candidate ID"},{key:"name",label:"Candidate Name"},{key:"mobile",label:"Mobile No."},{key:"offer_letter_status",label:"Offer Letter Status"},{key:"assign_interview",label:"Assign Interview"}],isLoading:t,pagination:!0,currentPage:n,setCurrentPage:l,totalPages:null===i||void 0===i?void 0:i.totalPages,tableName:s("headings.hrDashboard"),scopedSlots:o})})};var b=l(86178),j=l.n(b);const y=e=>{const{t:i}=(0,m.K)(),{openModel:l,handleOpenClose:n,interviewrData:t,filteredDropdownData:s,allDepartments:o,allDesignations:g,interviewListData:f,handleAssignedInterviews:x}=e,[h,w]=(0,a.useState)([]),[b,y]=(0,a.useState)([{department:null,designation:null,interviewStage:null,interviewType:null,interviewer:null,interviewAssignedAt:"",interviewTypeValue:"",disabled:!1,interviewStatus:"",mrf_id:"",id:""}]);(0,a.useEffect)((()=>{if(t&&null!==t&&void 0!==t&&t.length){const e=t;Array.isArray(e)&&e.length>0?y(e.map((e=>({department:{value:null===e||void 0===e?void 0:e.department,label:null===e||void 0===e?void 0:e.interviewer_name}||null,designation:{value:null===e||void 0===e?void 0:e.designation,label:null===e||void 0===e?void 0:e.designation_name}||null,interviewStage:{value:null===e||void 0===e?void 0:e.interview_stage,label:null===e||void 0===e?void 0:e.interview_stage_name}||null,interviewType:{value:null===e||void 0===e?void 0:e.interview_type,label:null===e||void 0===e?void 0:e.interview_type_name}||null,interviewer:{value:null===e||void 0===e?void 0:e.interviewer,label:null===e||void 0===e?void 0:e.interviewer_name}||null,interviewAssignedAt:null===e||void 0===e?void 0:e.interview_assigned_at,interviewTypeValue:null===e||void 0===e?void 0:e.interview_type_value,disabled:"pending"!==(null===e||void 0===e?void 0:e.interview_status),interviewStatus:null===e||void 0===e?void 0:e.interview_status,mrf_id:null===e||void 0===e?void 0:e.mrf_id,id:null===e||void 0===e?void 0:e._id})))):y([{department:null,designation:null,interviewStage:null,interviewType:null,interviewer:null,interviewAssignedAt:"",interviewTypeValue:"",disabled:!1,interviewStatus:"",mrf_id:"",id:""}])}}),[t]);const _=(e,i,l)=>{const a=i||e.target.name,n=e.target?e.target.value:e;y((e=>{const i=[...e];return i[l]={...i[l],[a]:n},i})),w((e=>{const i=[...e];return i[l]&&delete i[l][a],i}))},A=e=>e.map((e=>{var i,l,a,n,t,d,s,o,r,v;return{department:(null===e||void 0===e||null===(i=e.department)||void 0===i?void 0:i._id)||(null===e||void 0===e||null===(l=e.department)||void 0===l?void 0:l.value),designation:(null===e||void 0===e||null===(a=e.designation)||void 0===a?void 0:a._id)||(null===e||void 0===e||null===(n=e.designation)||void 0===n?void 0:n.value),interview_stage:(null===e||void 0===e||null===(t=e.interviewStage)||void 0===t?void 0:t.id)||(null===e||void 0===e||null===(d=e.interviewStage)||void 0===d?void 0:d.value),interview_type:(null===e||void 0===e||null===(s=e.interviewType)||void 0===s?void 0:s.id)||(null===e||void 0===e||null===(o=e.interviewType)||void 0===o?void 0:o.value),interviewer:(null===e||void 0===e||null===(r=e.interviewer)||void 0===r?void 0:r._id)||(null===e||void 0===e||null===(v=e.interviewer)||void 0===v?void 0:v.value),interview_assigned_at:(null===e||void 0===e?void 0:e.interviewAssignedAt)||"",interview_type_value:(null===e||void 0===e?void 0:e.interviewTypeValue)||"",interview_status:(null===e||void 0===e?void 0:e.interviewStatus)||"",mrf_id:(null===e||void 0===e?void 0:e.mrf_id)||"",id:(null===e||void 0===e?void 0:e.id)||""}}));return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)("div",{children:(0,p.jsxs)("div",{className:"offcanvas offcanvas-end  "+(l?"show":""),tabIndex:-1,style:{visibility:l?"visible":"hidden",width:"800px"},id:"interviewDetail",children:[(0,p.jsxs)("div",{className:"offcanvas-header",children:[(0,p.jsx)("h5",{className:"offcanvas-title  fs-5 fw-bold text-primary",children:i("headings.assignInterview")}),(0,p.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close",onClick:()=>n()})]}),(0,p.jsx)("div",{className:"offcanvas-body",children:b.map(((e,l)=>{var a,n,t,d,m;return(0,p.jsxs)("div",{className:"row mt-3",children:[(0,p.jsxs)("div",{className:"col-md-6 form-group mb-3",children:[(0,p.jsx)(u.JU,{text:i("labels.selectDepartment"),required:!0}),(0,p.jsx)(c.A,{data:o||[],placeholder:i("placeholders.selectDepartment"),value:(null===e||void 0===e?void 0:e.department)||null,handleChange:e=>{_(e,"department",l)},name:"department",isDisabled:!0}),(null===(a=h[l])||void 0===a?void 0:a.department)&&(0,p.jsx)(r.A,{text:h[l].department})]}),(0,p.jsxs)("div",{className:"col-md-6 form-group mb-3",children:[(0,p.jsx)(u.JU,{text:i("labels.selectDesignation"),required:!0}),(0,p.jsx)(c.A,{data:g||[],placeholder:i("placeholders.selectDesignation"),value:(null===e||void 0===e?void 0:e.designation)||null,handleChange:e=>{_(e,"designation",l)},name:"designation",isDisabled:!0}),(null===(n=h[l])||void 0===n?void 0:n.designation)&&(0,p.jsx)(r.A,{text:h[l].designation})]}),(0,p.jsxs)("div",{className:"col-md-6 form-group mb-3",children:[(0,p.jsx)(u.JU,{text:i("labels.interviewStage"),required:!0}),(0,p.jsx)(c.A,{data:(null===s||void 0===s?void 0:s.interview_stage)||[],placeholder:i("placeholders.selectInterviewStage"),value:(null===e||void 0===e?void 0:e.interviewStage)||null,handleChange:e=>_(e,"interviewStage",l),name:"interviewStage",isDisabled:!0}),(null===(t=h[l])||void 0===t?void 0:t.interviewStage)&&(0,p.jsx)(r.A,{text:h[l].interviewStage})]}),(0,p.jsxs)("div",{className:"col-md-6 form-group mb-3",children:[(0,p.jsx)(u.JU,{text:i("labels.interviewType"),required:!0}),(0,p.jsx)(c.A,{data:(null===s||void 0===s?void 0:s.interview_type)||[],placeholder:i("placeholders.selectInterviewType"),value:(null===e||void 0===e?void 0:e.interviewType)||null,handleChange:e=>_(e,"interviewType",l),name:"interviewType",isDisabled:!0}),(null===(d=h[l])||void 0===d?void 0:d.interviewType)&&(0,p.jsx)(r.A,{text:h[l].interviewType})]}),(0,p.jsxs)("div",{className:"col-md-6 form-group mb-3",children:[(0,p.jsx)(u.JU,{text:i("labels.Interviewer"),required:!0}),(0,p.jsx)(c.A,{data:f||[],placeholder:i("placeholders.selectInterviewer"),value:(null===e||void 0===e?void 0:e.interviewer)||null,handleChange:e=>_(e,"interviewer",l),name:"interviewer",isDisabled:!0}),(null===(m=h[l])||void 0===m?void 0:m.interviewer)&&(0,p.jsx)(r.A,{text:h[l].interviewer})]}),(0,p.jsxs)("div",{className:"col-md-6 form-group mb-3",children:[(0,p.jsx)(u.JU,{text:i("labels.InterviewerAssign"),required:!0}),(0,p.jsx)(v.A,{type:"datetime-local",placeholder:i("placeholders.selectInterviewerAssign"),value:j()(null===e||void 0===e?void 0:e.interviewAssignedAt).format("YYYY-MM-DDTHH:mm")||null,onChange:e=>_(e,"interviewAssignedAt",l),name:"interviewAssignedAt",isDisabled:null===e||void 0===e?void 0:e.disabled})]}),(0,p.jsxs)("div",{className:"col-md-6 form-group mb-3",children:[(0,p.jsx)(u.JU,{text:i("labels.InterviewerType"),required:!0}),(0,p.jsx)(v.A,{type:"text",placeholder:i("placeholders.InterviewerType"),value:(null===e||void 0===e?void 0:e.interviewTypeValue)||null,onChange:e=>_(e,"interviewTypeValue",l),name:"interviewTypeValue"})]}),b.length-1!==l&&(0,p.jsx)("div",{children:(0,p.jsx)("hr",{})})]})}))}),(0,p.jsx)("div",{className:"offcanvas-footer",children:(0,p.jsx)("div",{className:"d-flex align-items-center justify-content-end gap-3",children:(0,p.jsx)(d.Sv,{text:i("btns.assign"),handleClick:()=>(async()=>{const e=A(b);x(e)})(),classNames:"btn btn-primary gradientBg"})})})]})})})},_=()=>{const e=(0,n.wA)(),{t:i}=(0,m.K)(),{getAllLocationsRes:l,getAllLocationsPending:s,getAllLocationsError:o}=(0,n.d4)((e=>e.location)),{getFilteredDropdownDataError:r,getFilteredDropdownDataRes:v,getFilteredDropdownDataPending:c}=(0,n.d4)((e=>e.dropdownMaster)),{getAllUserMrfPending:u,getAllUserMrfRes:f,getAllUserMrfError:x}=(0,n.d4)((e=>e.mrf)),{assignedInterviewPending:h,assignedInterviewRes:b,assignedInterviewError:j,getInterviewrPending:_,getInterviewrRes:A,getInterviewrError:C}=(0,n.d4)((e=>e.mrfInterview)),{createCandidatePending:N,createCandidateRes:S,createCandidateError:D,getAllCandidatePending:E,getAllCandidateRes:I,getAllCandidateError:T}=(0,n.d4)((e=>e.candidate)),[k,M]=(0,a.useState)(),[R,L]=(0,a.useState)(),[P,q]=(0,a.useState)(),[U,J]=(0,a.useState)(""),[O,V]=(0,a.useState)(""),[H,K]=(0,a.useState)(1),[B,F]=(0,a.useState)(!1),[Y,G]=(0,a.useState)(""),[W,X]=(0,a.useState)("");(0,a.useEffect)((()=>{z(),$(),Q(),Z()}),[]);const $=()=>{let i={category:""};["year_of_experience","skills","source"].forEach((l=>{i.category=l,e(t.dk.getFilteredDropdownDataRequest(i))}))};(0,a.useEffect)((()=>{if(!c){if(r)return;if(v&&200===(null===v||void 0===v?void 0:v.ode)){const e=null===v||void 0===v?void 0:v.data;let i=null===e||void 0===e?void 0:e.category;L((l=>({...l,[i]:(null===e||void 0===e?void 0:e.data)||[]})))}}}),[v,r,c]);const z=()=>{e(t.pK.getAllLocationsRequest())};(0,a.useEffect)((()=>{if(!s){if(o)return;if(l&&200===(null===l||void 0===l?void 0:l.code)){const e=null===l||void 0===l?void 0:l.data;q(e)}}}),[o,s,l]);const Q=i=>{const l={query_type:"user",type:i,limit:50};e(t.nY.getAllUserMrfRequest(l))};(0,a.useEffect)((()=>{if(!u){if(x)return;if(f&&200===(null===f||void 0===f?void 0:f.code)){const e=null===f||void 0===f?void 0:f.data,i=null===e||void 0===e?void 0:e.data,l=[];null===i||void 0===i||i.map((e=>{l.push({label:null===e||void 0===e?void 0:e.auto_id,value:null===e||void 0===e?void 0:e._id})})),J(l)}}}),[f,x,u]);(0,a.useEffect)((()=>{if(!N){if(D)return;S&&200===(null===S||void 0===S?void 0:S.code)&&(e(t.BK.handleClearCandidateStore("HANDLE_CLEAR_CREATE_CANDIDATE_STORE")),M(!k),Z())}}),[S,D,N]);const Z=i=>{e(t.BK.getAllCandidateRequest(i))};(0,a.useEffect)((()=>{if(!E){if(T)return;if(I&&200===(null===I||void 0===I?void 0:I.code)){const e=null===I||void 0===I?void 0:I.data;V(e)}}}),[I,T,E]);(0,a.useEffect)((()=>{if(!h){if(j)return;b&&200===(null===b||void 0===b?void 0:b.code)&&(X(""),F(!B),e(t.vP.handelClearMrfInterviewStore("HANDLE_CLEAR_ASSIGNED_INTERVIEW_STORE")))}}),[b,j,h]);(0,a.useEffect)((()=>{if(!_){if(C)return;if(A&&200===(null===A||void 0===A?void 0:A.code)){const e=null===A||void 0===A?void 0:A.data;(null===e||void 0===e?void 0:e.length)>0?G(e):G("")}}}),[_,C,A]);const ee=()=>{M(!k)},ie=(i,l)=>{i||l?(((i,l)=>{const a={candidate_id:i||"",mrf_id:l||""};e(t.vP.getInterviewrRequest(a))})(i,l),X(i)):(G(""),e(t.vP.handelClearMrfInterviewStore("HANDLE_CLEAR_GET_INTERVIEWR_STORE"))),F(!B)};return(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{className:"d-flex  justify-content-end ",children:(0,p.jsx)(d.Sv,{classNames:"btn btn-primary gradientBg me-2",text:i("btns.createCandidate"),handleClick:ee})}),(0,p.jsx)(g,{openModel:k,handleOpenClose:ee,filteredDropdownData:R,allLocationsData:P,mrfIdsData:U,handleCreateCandidate:i=>{e(t.BK.createCandidateRequest(i))},isLoadingCandidateCreate:N}),(0,p.jsx)(w,{allCandidatesData:O,currentPage:H,setCurrentPage:K,isLoading:E,onHandleAssignInterview:ie}),B&&(0,p.jsx)(y,{openModel:B,handleOpenClose:ie,interviewrData:Y,filteredDropdownData:R,handleAssignedInterviews:i=>{const l={candidate_id:W,interview_details:i};e(null===t.vP||void 0===t.vP?void 0:t.vP.assignedInterviewRequest(l))}})]})}}}]);
//# sourceMappingURL=7404.ca3be5f2.chunk.js.map