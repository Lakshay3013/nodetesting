"use strict";(self.webpackChunkglueple_user=self.webpackChunkglueple_user||[]).push([[5110],{45185:(e,s,a)=>{a.d(s,{A:()=>c});a(65043);var l=a(49985),d=a(86178),i=a.n(d),t=a(70579);const c=e=>{var s;const{openModel:a,handleOpenClose:d,progressData:c,processType:n}=e;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"offcanvas offcanvas-end applyLeaveCanvas "+(a?"show":""),tabIndex:-1,id:"attendanceCorrection",style:{visibility:a?"visible":"hidden",width:"800px"},children:[(0,t.jsxs)("div",{className:"offcanvas-header",children:[(0,t.jsxs)("h5",{className:"offcanvas-title  fs-5 fw-bold text-primary text-capitalize",children:[(0,l.Sn)(n)," Process"]}),(0,t.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close",onClick:()=>{d()}})]}),(0,t.jsx)("div",{className:"offcanvas-body",children:(0,t.jsx)("div",{className:"detailsCandidate",children:(0,t.jsxs)("ul",{className:"detailsList",children:[(0,t.jsxs)("li",{className:"select active",children:[(0,t.jsx)("figure",{className:"m-0",children:(0,t.jsx)("img",{src:"images/greenRight.svg",alt:"",width:45})}),(0,t.jsxs)("strong",{className:"text-capitalize",children:[(0,l.Sn)(n)," Applied",(0,t.jsx)("b",{children:c&&(null===c||void 0===c?void 0:c.length)>0&&(null===(s=c[0])||void 0===s?void 0:s.date)})]})]}),c&&(null===c||void 0===c?void 0:c.length)>0&&(()=>{var e,s;return null===(e=c[0])||void 0===e||null===(s=e.approver_data)||void 0===s?void 0:s.map(((e,s)=>{const a="approve"===e.action_type,l="reject"===e.action_type;return(0,t.jsxs)("li",{className:"select "+(a?"active":l?"nonactive":""),children:[(0,t.jsx)("figure",{className:"m-0",children:(0,t.jsx)("img",{src:a?"images/greenRight.svg":l?"images/redCross.svg":"images/greenRight.svg",alt:"",width:"45"})}),(0,t.jsxs)("strong",{children:[a?"Approved by ":l?"Rejected by ":"Pending by ",`${null===e||void 0===e?void 0:e.name} ( ${null===e||void 0===e?void 0:e.role_name} )`,(0,t.jsx)("b",{children:i()(null===e||void 0===e?void 0:e.date).format("DD-MM-YYYY LT")})," ",(0,t.jsx)("b",{children:null===e||void 0===e?void 0:e.comment})]})]},s)}))})()]})})}),(0,t.jsx)("div",{className:"offcanvas-footer",children:(0,t.jsx)("div",{className:"d-flex align-items-center justify-content-end gap-3"})})]}),a&&(0,t.jsx)("div",{className:"modal-backdrop fade show"})]})}},35110:(e,s,a)=>{a.r(s),a.d(s,{default:()=>p});var l=a(65043),d=a(92250),i=a(29829),t=a(45531),c=a(73216),n=a(22166),r=a(94174),o=a(52027),x=a(93957),v=a(90607),m=a(35685),h=a(45185),j=a(70579);const p=()=>{const{t:e}=(0,v.K)(),s=(0,c.Zp)(),a=(0,n.wA)(),[p,u]=(0,l.useState)(""),{getTravelRequestPending:N,getTravelRequestRes:g,getTravelRequestError:f,deleteTravelPending:_,deleteTravelRes:b,deleteTravelError:y}=(0,n.d4)((e=>e.travelAndClaim)),{getLeaveProgressPending:w,getLeaveProgressRes:T,getLeaveProgressError:k}=(0,n.d4)((e=>e.leave)),[D,C]=(0,l.useState)(1),[R,L]=(0,l.useState)(""),[A,E]=(0,l.useState)(!1),[S,P]=(0,l.useState)(!1),[U,q]=(0,l.useState)(""),[J,F]=(0,l.useState)(!1),[O,H]=(0,l.useState)(""),I=(0,l.useMemo)((()=>({sn:(e,s)=>(0,j.jsx)("span",{children:s+1}),travel_detail:e=>(0,j.jsx)("span",{onClick:()=>Y(e),children:(0,j.jsx)("img",{src:"images/view-icon.svg",alt:!0,width:"32"})}),action:e=>(0,j.jsxs)("div",{className:"btn-group actionDrp",children:[(0,j.jsx)("button",{type:"button",className:"btn dropdown-toggle-split","data-bs-toggle":"dropdown","aria-expanded":"false",children:(0,j.jsx)("i",{className:"bi bi-three-dots-vertical"})}),(0,j.jsxs)("ul",{className:"dropdown-menu",children:[(0,j.jsx)("li",{children:(0,j.jsxs)("span",{className:"dropdown-item",onClick:()=>{B("travel",null===e||void 0===e?void 0:e._id)},children:[(0,j.jsx)(t.In,{className:"fa fa-check me-1"}),"Approval Status"]})}),(0,j.jsx)("li",{children:(0,j.jsxs)("span",{className:"dropdown-item",onClick:()=>{M(e)},children:[(0,j.jsx)(t.In,{className:"fa fa-edit me-1"}),"Update"]})}),(0,j.jsx)("li",{children:(0,j.jsxs)("span",{className:"dropdown-item",onClick:()=>z(e._id),children:[(0,j.jsx)(t.In,{className:"bi bi-trash me-1"}),"Delete"]})})]})]})})),[]),M=e=>{a(r.o1.selectedTravelData(e)),s("/add-update-travel")},Y=e=>{E(!A),L(e)};(0,l.useEffect)((()=>{$()}),[D]);const $=()=>{const e={page:D,limit:o.X$.limit};a(r.o1.getTravelRequestRequest(e))};(0,l.useEffect)((()=>{if(!N){if(f)return;g&&200===(null===g||void 0===g?void 0:g.code)&&u(null===g||void 0===g?void 0:g.data)}}),[N,g,f]);const z=e=>{e&&q(e),P(!S)};(0,l.useEffect)((()=>{if(!_){if(y)return void a(r.o1.handleClearTravelStore("HANDLE_CLEAR_DELETE_TRAVEL_TYPE_STORE"));b&&200===(null===b||void 0===b?void 0:b.code)&&(a(r.o1.handleClearTravelStore("HANDLE_CLEAR_DELETE_TRAVEL_TYPE_STORE")),z(),$())}}),[_,b,y]);const B=(e,s)=>{if(e||s){const l={id:s||"",type:e||""};a(r.OH.getLeaveProgressRequest(l))}F(!J)};return(0,l.useEffect)((()=>{if(!w){if(k)return;T&&200===(null===T||void 0===T?void 0:T.code)&&H(null===T||void 0===T?void 0:T.data)}}),[T,k,w]),(0,j.jsxs)("div",{className:"cardBox myRequest mb-3 employeeHistory",children:[(0,j.jsxs)("div",{className:"d-flex align-items-center justify-content-between gap-3",children:[(0,j.jsxs)("div",{className:"cardHead d-flex",children:[(0,j.jsx)("img",{src:"images/myrequest-icon.svg",alt:"",width:35}),(0,j.jsx)("h4",{className:"ms-2 ",children:"Travel"})]}),(0,j.jsx)(d.Sv,{text:"New Travel",classNames:"btn btn-primary",icon:(0,j.jsx)(t.In,{className:"fa fa-plus"}),handleClick:()=>M()})]}),(0,j.jsx)(i.Ak,{data:null===p||void 0===p?void 0:p.data,fields:[{key:"sn",label:"S.N"},{key:"name",label:"Name"},{key:"travel_type",label:"Travel Type"},{key:"purpose_of_travel",label:"Business Purpose"},{key:"travel_detail",label:"Travel Detail"},{key:"action",label:"Action"}],isLoading:N,pagination:!0,currentPage:D,setCurrentPage:C,totalPages:null===p||void 0===p?void 0:p.totalPages,isHeader:!1,tableStyle:{padding:"0px",boxShadow:"none"},scopedSlots:I}),A&&(0,j.jsx)(x.A,{openModel:A,handleOpenClose:Y,travelDetailData:null===R||void 0===R?void 0:R.travel_details}),S&&(0,j.jsx)(m.A,{onApproveReject:e=>{if(e){const e={_id:U};a(null===r.o1||void 0===r.o1?void 0:r.o1.deleteTravelRequest(e))}else z()},isShow:S,desc:e("alerts.deletePopup.desc").replace("$1","Trip"),btnRightLoading:_,btnTextRight:e("btns.delete"),btnTextLeft:e("btns.cancel")}),J&&(0,j.jsx)(h.A,{openModel:J,handleOpenClose:B,progressData:O,processType:"Travel & Claim"})]})}},93957:(e,s,a)=>{a.d(s,{A:()=>c});a(65043),a(29829);var l=a(45531),d=(a(56462),a(94140)),i=a(49985),t=a(70579);const c=e=>{let{openModel:s,handleOpenClose:a,travelDetailData:c}=e;const n=(e,s)=>{switch(null===e||void 0===e?void 0:e.travel_type_id){case"67ce8ba9bf80dc2154daa3fc":return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{style:{borderRadius:"50%",padding:"4px",background:"#cdcdd3e0",width:"44px"},children:(0,t.jsx)("figure",{className:"m-0",children:(0,t.jsx)("img",{src:"images/airplane.png",alt:"",width:"35",height:"35"})})}),(0,t.jsx)("div",{className:"text-center",children:"Flight"})]}),(0,t.jsx)("div",{className:"container ",children:(0,t.jsx)("div",{className:"card ",children:(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsx)("div",{className:"d-flex justify-content-between ",children:(0,t.jsx)("h5",{children:"Flight Detail"})}),(0,t.jsxs)("div",{className:"row g-3 align-items-end mt-2",children:[(0,t.jsx)("div",{className:"col-md-4",children:(0,t.jsxs)("div",{className:"d-flex gap-2",children:[(0,t.jsx)(l.JU,{text:"Departure From:"}),(0,t.jsx)("span",{children:null===e||void 0===e?void 0:e.flight_departure_from})]})}),(0,t.jsx)("div",{className:"col-md-4",children:(0,t.jsxs)("div",{className:"d-flex gap-2",children:[(0,t.jsx)(l.JU,{text:"Arrive At:"}),(0,t.jsx)("span",{children:null===e||void 0===e?void 0:e.flight_arrive_at})]})}),(0,t.jsx)("div",{className:"col-md-4",children:(0,t.jsxs)("div",{className:"d-flex gap-2",children:[(0,t.jsx)(l.JU,{text:"Departure Date:"}),(0,t.jsx)("span",{children:(0,i.N_)(null===e||void 0===e?void 0:e.flight_departure_date)})]})}),(0,t.jsx)("div",{className:"col-md-4",children:(0,t.jsxs)("div",{className:"d-flex gap-2",children:[(0,t.jsx)(l.JU,{text:"Departure Time:"}),(0,t.jsx)("span",{children:null===e||void 0===e?void 0:e.flight_departure_time})]})}),(0,t.jsx)("div",{className:"col-md-4",children:(0,t.jsxs)("div",{className:"d-flex gap-2",children:[(0,t.jsx)(l.JU,{text:"Travel Class:"}),(0,t.jsx)("span",{children:null===e||void 0===e?void 0:e.flight_travel_class})]})})]})]})})})]});case"67ce8aa7bf80dc2154daa32f":return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{style:{borderRadius:"50%",padding:"4px",background:"#cdcdd3e0",width:"44px"},children:(0,t.jsx)("figure",{className:"m-0",children:(0,t.jsx)("img",{src:"images/sedan.png",alt:"",width:"35",height:"35"})})}),(0,t.jsx)("div",{className:"text-center",children:"Car"})]}),(0,t.jsx)("div",{className:"container ",children:(0,t.jsxs)("div",{className:"card p-4",children:[(0,t.jsx)("div",{className:"d-flex justify-content-between mb-3",children:(0,t.jsx)("h5",{children:"Car Detail"})}),(0,t.jsxs)("div",{className:"row  align-items-end",children:[(0,t.jsxs)("div",{className:"col-md-6 row",children:[(0,t.jsx)(l.JU,{text:"PICK-UP",required:!0,className:"mb-2"}),(0,t.jsx)("div",{className:"col-md-6",children:(0,t.jsxs)("div",{className:"d-flex gap-2",children:[(0,t.jsx)(l.L1,{text:"Date:",className:"text-primary"}),(0,t.jsx)("span",{children:(0,i.N_)(null===e||void 0===e?void 0:e.car_pick_up_date)})]})}),(0,t.jsx)("div",{className:"col-md-6",children:(0,t.jsxs)("div",{className:"d-flex gap-2",children:[(0,t.jsx)(l.L1,{text:"Time:",className:"text-primary"}),(0,t.jsx)("span",{children:null===e||void 0===e?void 0:e.car_pick_up_time})]})}),(0,t.jsx)("div",{className:"mt-2",children:(0,t.jsxs)("div",{className:"d-flex gap-2",children:[(0,t.jsx)(l.L1,{text:"Address:",className:"text-primary"}),(0,t.jsx)("span",{children:null===e||void 0===e?void 0:e.car_pick_up_address})]})})]}),(0,t.jsxs)("div",{className:"col-md-6 row",children:[(0,t.jsx)(l.JU,{text:"DROP-OFF",required:!0,className:"mb-2"}),(0,t.jsx)("div",{className:"col-md-6",children:(0,t.jsxs)("div",{className:"d-flex gap-2",children:[(0,t.jsx)(l.L1,{text:"Date:",className:"text-primary"}),(0,t.jsx)("span",{children:(0,i.N_)(null===e||void 0===e?void 0:e.car_drop_of_date)})]})}),(0,t.jsx)("div",{className:"col-md-6",children:(0,t.jsxs)("div",{className:"d-flex gap-2",children:[(0,t.jsx)(l.L1,{text:"Time:",className:"text-primary"}),(0,t.jsx)("span",{children:null===e||void 0===e?void 0:e.car_drop_of_time})]})}),(0,t.jsx)("div",{className:"mt-2",children:(0,t.jsxs)("div",{className:"d-flex gap-2",children:[(0,t.jsx)(l.L1,{text:"Address:",className:"text-primary"}),(0,t.jsx)("span",{children:null===e||void 0===e?void 0:e.car_drop_of_address})]})})]})]}),(0,t.jsx)("div",{className:"row mt-2",children:(0,t.jsx)("div",{className:"col-md-5 row ",children:(0,t.jsxs)("div",{className:"d-flex gap-2 mt-3",children:[(0,t.jsx)(l.JU,{text:"Car Type:",required:!0,className:"mb-2"}),(0,t.jsx)("span",{children:null===e||void 0===e?void 0:e.car_type})]})})})]})})]});case"67ce8c7fbf80dc2154daa546":return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{style:{borderRadius:"50%",padding:"4px",background:"#cdcdd3e0",width:"44px"},children:(0,t.jsx)("figure",{className:"m-0",children:(0,t.jsx)("img",{src:"images/hotel.png",alt:"",width:"35",height:"35"})})}),(0,t.jsx)("div",{className:"text-center",children:"Hotel"})]}),(0,t.jsx)("div",{className:"container ",children:(0,t.jsx)("div",{className:"card ",children:(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsx)("div",{className:"d-flex justify-content-between mb-3",children:(0,t.jsx)("h5",{children:"Hotel Detail"})}),(0,t.jsxs)("div",{className:"row g-3 align-items-end",children:[(0,t.jsxs)("div",{className:"col-md-6 ",children:[(0,t.jsx)(l.JU,{text:"Check-In",required:!0}),(0,t.jsxs)("div",{className:"row ",children:[(0,t.jsx)("div",{className:"col-md-6 mt-2",children:(0,t.jsxs)("div",{className:"d-flex gap-2",children:[(0,t.jsx)(l.L1,{text:"Date:",className:"text-primary"}),(0,t.jsx)("span",{children:(0,i.N_)(null===e||void 0===e?void 0:e.hotel_check_in_date)})]})}),(0,t.jsx)("div",{className:"col-md-6  mt-2",children:(0,t.jsxs)("div",{className:"d-flex gap-2",children:[(0,t.jsx)(l.L1,{text:"Time:",className:"text-primary"}),(0,t.jsx)("span",{children:null===e||void 0===e?void 0:e.hotel_check_in_time})]})})]})]}),(0,t.jsxs)("div",{className:"col-md-6 ",children:[(0,t.jsx)(l.JU,{text:"Check-Out",required:!0}),(0,t.jsxs)("div",{className:"row ",children:[(0,t.jsx)("div",{className:"col-md-6 mt-2",children:(0,t.jsxs)("div",{className:"d-flex gap-2",children:[(0,t.jsx)(l.L1,{text:"Date:",className:"text-primary"}),(0,t.jsx)("span",{children:(0,i.N_)(null===e||void 0===e?void 0:e.hotel_check_out_date)})]})}),(0,t.jsx)("div",{className:"col-md-6  mt-2",children:(0,t.jsxs)("div",{className:"d-flex gap-2",children:[(0,t.jsx)(l.L1,{text:"Time:",className:"text-primary"}),(0,t.jsx)("span",{children:(0,i.N_)(null===e||void 0===e?void 0:e.hotel_check_out_time)})]})})]})]}),(0,t.jsx)("div",{className:"col-md-4",children:(0,t.jsxs)("div",{className:"d-flex gap-2",children:[(0,t.jsx)(l.JU,{text:"Location:"}),(0,t.jsx)("span",{children:null===e||void 0===e?void 0:e.hotel_location})]})})]})]})})})]});default:return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{style:{borderRadius:"50%",padding:"4px",background:"#cdcdd3e0",width:"44px"},children:(0,t.jsx)("figure",{className:"m-0",children:(0,t.jsx)("img",{src:"images/trevel and tour.png",alt:"",width:"35",height:"35"})})}),(0,t.jsx)("div",{className:"text-center",children:null===e||void 0===e?void 0:e.travel_type_name})]}),(0,t.jsx)("div",{className:"container ",children:(0,t.jsx)("div",{className:"card ",children:(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsx)("div",{className:"d-flex justify-content-between ",children:(0,t.jsx)("h5",{children:null===e||void 0===e?void 0:e.travel_type_name})}),(0,t.jsxs)("div",{className:"row g-3 align-items-end mt-2",children:[(0,t.jsx)("div",{className:"col-md-4",children:(0,t.jsxs)("div",{className:"d-flex gap-2",children:[(0,t.jsx)(l.JU,{text:"Departure From:"}),(0,t.jsx)("span",{children:null===e||void 0===e?void 0:e.departure_from})]})}),(0,t.jsx)("div",{className:"col-md-4",children:(0,t.jsxs)("div",{className:"d-flex gap-2",children:[(0,t.jsx)(l.JU,{text:"Arrive At:"}),(0,t.jsx)("span",{children:null===e||void 0===e?void 0:e.arrive_at})]})}),(0,t.jsx)("div",{className:"col-md-4",children:(0,t.jsxs)("div",{className:"d-flex gap-2",children:[(0,t.jsx)(l.JU,{text:"Departure Date:"}),(0,t.jsx)("span",{children:(0,i.N_)(null===e||void 0===e?void 0:e.departure_date)})]})})]})]})})})]})}};return(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"offcanvas offcanvas-end  "+(s?"show":""),tabIndex:-1,style:{visibility:s?"visible":"hidden",width:"800px"},id:"interviewDetail",children:[(0,t.jsxs)("div",{className:"offcanvas-header",children:[(0,t.jsx)("h5",{className:"offcanvas-title  fs-5 fw-bold text-primary",children:" Travel Detail"}),(0,t.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close",onClick:()=>a()})]}),(0,t.jsx)("div",{className:"offcanvas-body myRequest ",children:(0,t.jsx)("div",{class:"modal-body",children:(0,t.jsx)("div",{className:"trip-itinerary",children:(0,t.jsx)("ul",{className:"trip-detail",children:(null===c||void 0===c?void 0:c.length)>0?c&&(null===c||void 0===c?void 0:c.length)>0&&(null===c||void 0===c?void 0:c.map(((e,s)=>(0,t.jsx)("li",{className:"select",children:n(e,s)},s)))):(0,t.jsxs)("div",{className:"d-flex justify-content-center",children:[" ",(0,t.jsx)(d.A,{text:"No Travel Detail Available"})]})})})})})]}),s&&(0,t.jsx)("div",{className:"modal-backdrop fade show"})]})}}}]);
//# sourceMappingURL=5110.1e96256b.chunk.js.map