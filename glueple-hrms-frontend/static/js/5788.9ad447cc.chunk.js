"use strict";(self.webpackChunkglueple_user=self.webpackChunkglueple_user||[]).push([[5788],{55788:(e,a,s)=>{s.r(a),s.d(a,{default:()=>w});var l=s(65043),i=s(22166),t=s(94174),n=s(52027),r=s(92250),d=s(70579);const o=e=>{const{title:a,onApproveReject:s,isShow:l,isLoading:i,btnTextLeft:t,btnTextRight:n,setComment:o,id:c,appliedFor:m,comment:v}=e;return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("div",{className:"modal fade correctionAprovel",id:"mrfApproval",style:{display:l?"unset !important":"none !important",opacity:l?"unset":"0"},children:(0,d.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:(0,d.jsxs)("div",{className:"modal-content rounded-0 border-0",children:[(0,d.jsxs)("div",{className:"modal-header border-0",children:[(0,d.jsx)("h1",{className:"modal-title fs-5 fw-bold text-primary",children:a}),(0,d.jsx)(r.Sv,{classNames:"btn-close",handleClick:()=>s(!1)})]}),(0,d.jsxs)("div",{className:"modal-body pt-0",children:[(0,d.jsxs)("div",{className:"d-flex align-items-center justify-content-between mb-4",children:[c&&(0,d.jsxs)("strong",{className:"fs-7 text-light",children:["MRF ID",(0,d.jsx)("span",{className:"text-primary fw-bolder d-block",children:c})]}),m&&(0,d.jsxs)("strong",{className:"fs-7 text-light text-end",children:["Applied For",(0,d.jsx)("span",{className:"text-primary fw-bolder d-block",children:m})]})]}),(0,d.jsx)("span",{className:"text-primary fw-semibold mb-2 d-block fs-8",children:"Enter Reason"}),(0,d.jsx)("div",{className:"form-group mb-3",children:(0,d.jsx)("textarea",{className:"form-control",placeholder:"Enter Reason",value:v,style:{height:"70px"},onChange:e=>o(e.target.value)})}),(0,d.jsxs)("div",{className:"my-3 d-flex justify-content-center gap-3",children:[(0,d.jsx)(r.Sv,{classNames:"btn btn-danger",isLoading:i,text:t||"Reject",handleClick:()=>s("reject")}),(0,d.jsx)(r.Sv,{classNames:"btn btn-success",isLoading:i,text:n||"Approve",handleClick:()=>s("approve")})]})]})]})})})})};var c=s(35685),m=s(49985),v=s(73216);const p=e=>{var a,s,i,t,n,o;const{openModel:c,handleSubmissionViewModal:p,mrfByIdData:u}=e,x=(0,v.Zp)(),[h,j]=(0,l.useState)("mrfDetails"),[f,b]=(0,l.useState)([]),[g,N]=(0,l.useState)([{Department:"",Designation:"","Interview Stage":"","Interview Type":"",Interviewer:""}]),y=e=>{j(e)};(0,l.useEffect)((()=>{if(null!==u&&void 0!==u&&u.data){var e;const a=null===u||void 0===u?void 0:u.data[0];b(a),Array.isArray(null===a||void 0===a?void 0:a.interview_data)&&(null===a||void 0===a||null===(e=a.interview_data)||void 0===e?void 0:e.length)>0&&N(null===a||void 0===a?void 0:a.interview_data.map((e=>({Department:null===e||void 0===e?void 0:e.department_name,Designation:(null===e||void 0===e?void 0:e.designation_name)||null,"Interview Stage":(null===e||void 0===e?void 0:e.interview_stage_name)||null,"Interview Type":(null===e||void 0===e?void 0:e.interview_type_name)||null,Interviewer:(null===e||void 0===e?void 0:e.interviewer_name)||null}))))}}),[u]);return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:"offcanvas offcanvas-end creatNewTicketOff "+(c?"show":""),tabIndex:-1,style:{visibility:c?"visible":"hidden",width:"800px"},children:[(0,d.jsxs)("div",{className:"offcanvas-header",children:[(0,d.jsx)("h5",{className:"offcanvas-title  fs-5 fw-bold text-primary",children:"Mrf Draft Details"}),(0,d.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close",onClick:()=>p()})]}),(0,d.jsx)("div",{className:"offcanvas-body myRequest ",children:(0,d.jsxs)("div",{className:"formPanel mrfMain",children:[(0,d.jsxs)("ul",{className:"nav nav-tabs leaveTabs mb-4",children:[(0,d.jsx)("li",{className:"nav-item",children:(0,d.jsx)("button",{className:"nav-link "+("mrfDetails"===h?"active":""),"data-bs-toggle":"tab","data-bs-target":"#mrfDetails",type:"button",onClick:()=>y("mrfDetails"),children:"MRF Detail"})}),(0,d.jsx)("li",{className:"nav-item",children:(0,d.jsx)("button",{className:"nav-link "+("jobDescription"===h?"active":""),"data-bs-toggle":"tab","data-bs-target":"#jobDescription",type:"button",onClick:()=>y("jobDescription"),children:"Job Description"})}),(0,d.jsx)("li",{className:"nav-item",children:(0,d.jsx)("button",{className:"nav-link "+("interviewrDetails"===h?"active":""),"data-bs-toggle":"tab","data-bs-target":"#interviewrDetails",type:"button",onClick:()=>y("interviewrDetails"),children:"Interviewr Details"})})]}),(0,d.jsxs)("div",{className:"tab-content",children:[(0,d.jsx)("div",{className:"tab-pane fade "+("mrfDetails"===h?"show active":""),id:"mrfDetails",children:(0,d.jsxs)("div",{className:"row",children:[(0,d.jsxs)("div",{className:"col-md-6 form-group mb-3",children:[(0,d.jsxs)("label",{children:[" Department ",(0,d.jsx)("span",{className:"text-danger",children:"*"})]}),(0,d.jsx)("input",{type:"text",className:"form-control",value:null===f||void 0===f?void 0:f.department_name,name:"",id:"",disabled:!0})]}),(0,d.jsxs)("div",{className:"col-md-6 form-group mb-3",children:[(0,d.jsxs)("label",{children:[" Designation ",(0,d.jsx)("span",{className:"text-danger",children:"*"})]}),(0,d.jsx)("input",{type:"text",className:"form-control",value:null===f||void 0===f?void 0:f.designation_name,name:"",id:"",disabled:!0})]}),(0,d.jsxs)("div",{className:"col-md-6 form-group mb-3",children:[(0,d.jsxs)("label",{children:["Position ",(0,d.jsx)("span",{className:"text-danger",children:"*"})]}),(0,d.jsx)("input",{type:"text",className:"form-control",value:null===f||void 0===f?void 0:f.position_name,name:"",id:"",disabled:!0})]}),(0,d.jsxs)("div",{className:"col-md-6 form-group mb-3",children:[(0,d.jsxs)("label",{children:["Priority ",(0,d.jsx)("span",{className:"text-danger",children:"*"})]}),(0,d.jsx)("input",{type:"text",className:"form-control",value:null===f||void 0===f?void 0:f.priority_name,name:"",id:"",disabled:!0})]}),"replacement"===(null===f||void 0===f?void 0:f.type)?(0,d.jsxs)("div",{className:"col-md-6 form-group mb-3",children:[(0,d.jsxs)("label",{children:["Emp ID ",(0,d.jsx)("span",{className:"text-danger",children:"*"})]}),(0,d.jsx)("input",{type:"text",className:"form-control",value:null===f||void 0===f?void 0:f.emp_id_name,name:"",id:"",disabled:!0})]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"col-md-6 form-group mb-3",children:[(0,d.jsxs)("label",{children:["Min Qualification ",(0,d.jsx)("span",{className:"text-danger",children:"*"})]}),(0,d.jsx)("input",{type:"text",className:"form-control",value:null===f||void 0===f?void 0:f.min_qualififcation_name,name:"",id:"",disabled:!0})]}),(0,d.jsxs)("div",{className:"col-md-6 form-group mb-3",children:[(0,d.jsxs)("label",{children:["Business Impact ",(0,d.jsx)("span",{className:"text-danger",children:"*"})]}),(0,d.jsx)("input",{type:"text",className:"form-control",value:null===f||void 0===f?void 0:f.business_impact_name,name:"",id:"",disabled:!0})]}),(0,d.jsxs)("div",{className:"col-md-6 form-group mb-3",children:[(0,d.jsx)("label",{children:"Total Vacant Position:"}),(0,d.jsx)("input",{type:"text",className:"form-control",value:null===f||void 0===f||null===(a=f.type_of_appointment)||void 0===a?void 0:a.type,name:"",id:"",disabled:!0})]}),(0,d.jsxs)("div",{className:"col-md-6 form-group mb-3",children:[(0,d.jsxs)("label",{children:[" Year Of Experience ",(0,d.jsx)("span",{className:"text-danger",children:"*"})]}),(0,d.jsx)("input",{type:"text",className:"form-control",value:null===f||void 0===f?void 0:f.year_of_experience_name,name:"",id:"",disabled:!0})]}),(0,d.jsxs)("div",{className:"col-md-6 form-group mb-3",children:[(0,d.jsx)("label",{children:"Learning & Development Cost"}),(0,d.jsx)("input",{type:"text",className:"form-control",value:null===f||void 0===f||null===(s=f.learning_development_cost)||void 0===s?void 0:s.is_cost,name:"",id:"",disabled:!0})]}),(0,d.jsxs)("div",{className:"col-md-6 form-group mb-3",children:[(0,d.jsx)("label",{children:"Min Learning & Development Cost"}),(0,d.jsx)("input",{type:"text",className:"form-control",value:null===f||void 0===f||null===(i=f.learning_development_cost)||void 0===i?void 0:i.is_cost,name:"",id:"",disabled:!0})]}),(0,d.jsxs)("div",{className:"col-md-6 form-group mb-3",children:[(0,d.jsx)("label",{children:"Max Learning & Development Cost"}),(0,d.jsx)("input",{type:"text",className:"form-control",value:null===f||void 0===f||null===(t=f.learning_development_cost)||void 0===t?void 0:t.max_cost,name:"",id:"",disabled:!0})]}),(0,d.jsxs)("div",{className:"col-md-6 form-group mb-3",children:[(0,d.jsx)("label",{children:"Type Of Appointment"}),(0,d.jsx)("input",{type:"text",className:"form-control",value:null===f||void 0===f||null===(n=f.type_of_appointment)||void 0===n?void 0:n.type,name:"",id:"",disabled:!0})]}),(0,d.jsxs)("div",{className:"col-md-6 form-group mb-3",children:[(0,d.jsx)("label",{children:"Appointment Duration"}),(0,d.jsx)("input",{type:"text",className:"form-control",value:null===f||void 0===f||null===(o=f.type_of_appointment)||void 0===o?void 0:o.duration,name:"",id:"",disabled:!0})]}),(0,d.jsxs)("div",{className:"col-md-6 form-group mb-3",children:[(0,d.jsxs)("label",{children:["Office Location ",(0,d.jsx)("span",{className:"text-danger",children:"*"})]}),(0,d.jsx)("input",{type:"text",className:"form-control",value:null===f||void 0===f?void 0:f.hiring_for_name,name:"",id:"",disabled:!0})]}),(0,d.jsxs)("div",{className:"col-md-6 form-group mb-3",children:[(0,d.jsxs)("label",{children:[" Preferred Qualification ",(0,d.jsx)("span",{className:"text-danger",children:"*"})]}),(0,d.jsx)("input",{type:"text",className:"form-control",value:null===f||void 0===f?void 0:f.preferred_qualification_name,name:"",id:"",disabled:!0})]}),(0,d.jsxs)("div",{className:"col-md-12 form-group mb-3",children:[(0,d.jsxs)("label",{children:["Mrf justification ",(0,d.jsx)("span",{className:"text-danger",children:"*"})]}),(0,d.jsx)("textarea",{type:"text",className:"form-control",value:null===f||void 0===f?void 0:f.mrf_justification,name:"",id:"",disabled:!0})]})]})]})}),(0,d.jsx)("div",{className:"tab-pane fade "+("jobDescription"===h?"show active":""),id:"jobDescription",children:(0,d.jsxs)("div",{className:"row",children:[(0,d.jsxs)("div",{className:"col-md-6 form-group mb-3",children:[(0,d.jsx)("label",{children:"Responsiblities:"}),(0,d.jsx)("input",{type:"text",className:"form-control",value:null===f||void 0===f?void 0:f.responsiblities,name:"",id:"",disabled:!0})]}),(0,d.jsxs)("div",{className:"col-md-6 form-group mb-3",children:[(0,d.jsx)("label",{children:"Training Certificate:"}),(0,d.jsx)("input",{type:"text",className:"form-control",value:null===f||void 0===f?void 0:f.training_certificate_name,name:"",id:"",disabled:!0})]}),(0,d.jsxs)("div",{className:"col-md-6 form-group mb-3",children:[(0,d.jsx)("label",{children:"Domain Knowledge:"}),(0,d.jsx)("input",{type:"text",className:"form-control",value:null===f||void 0===f?void 0:f.domain_knowledge,name:"",id:"",disabled:!0})]}),(0,d.jsxs)("div",{className:"col-md-6 form-group mb-3",children:[(0,d.jsx)("label",{children:"Other Skills:"}),(0,d.jsx)("input",{type:"text",className:"form-control",value:null===f||void 0===f?void 0:f.other_skills,name:"",id:"",disabled:!0})]}),(0,d.jsxs)("div",{className:"col-md-12 form-group mb-3",children:[(0,d.jsx)("label",{children:"Role Summary:"}),(0,d.jsx)("textarea",{type:"text",className:"form-control",value:null===f||void 0===f?void 0:f.role_summary,name:"",id:"",disabled:!0})]})]})}),(0,d.jsx)("div",{className:"tab-pane fade "+("interviewrDetails"===h?"show active":""),id:"interviewrDetails",children:(0,d.jsx)("div",{className:"row",children:g&&(0,d.jsx)(d.Fragment,{children:null===g||void 0===g?void 0:g.map(((e,a)=>(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"row ",children:Object.entries(e).map((e=>{let[s,l]=e;return(0,d.jsxs)("div",{className:"col-md-6 form-group mb-3",children:[(0,d.jsxs)("label",{htmlFor:`staticEmail_${a}_${s}`,children:[(0,m.Yg)(s),":"]}),(0,d.jsx)("input",{type:"text",className:"form-control",value:l||"N/A",name:"",id:"",disabled:!0})]},`${a}-${s}`)}))},a),g.length-1!==a&&(0,d.jsx)("hr",{})]})))})})})]})]})}),(0,d.jsx)("div",{className:"offcanvas-footer",children:(0,d.jsx)("div",{className:"d-flex align-items-center justify-content-end gap-3",children:!(null!==f&&void 0!==f&&f.is_submitted)&&(0,d.jsx)(r.Sv,{text:"Update",classNames:"btn btn-oreang  me-2",handleClick:()=>{return e=null===f||void 0===f?void 0:f.type,a=null===f||void 0===f?void 0:f._id,void x(`/mrf-process-step/${e}/${a}`);var e,a}})})})]})})};var u=s(62001),x=s(86178),h=s.n(x);const j=e=>{const{handleOpenClose:a,openModel:s,mrfByIdData:i}=e,[t,n]=(0,l.useState)(""),[r,o]=(0,l.useState)("");return(0,l.useEffect)((()=>{var e;if(i&&(null===(e=Object.keys(i))||void 0===e?void 0:e.length)>0){const{approval_status:e,mrf_statuses:a}=null===i||void 0===i?void 0:i.data[0];n(e),o(a)}}),[i]),(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:"offcanvas offcanvas-end  "+(s?"show":""),tabIndex:-1,style:{visibility:s?"visible":"hidden",width:"800px"},id:"interviewDetail",children:[(0,d.jsxs)("div",{className:"offcanvas-header",children:[(0,d.jsx)("h5",{className:"offcanvas-title  fs-5 fw-bold text-primary",children:"Mrf Status"}),(0,d.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close",onClick:()=>a()})]}),(0,d.jsx)("div",{className:"offcanvas-body",children:(0,d.jsx)("div",{className:"detailsCandidate",children:(0,d.jsxs)("ul",{className:"detailsList",children:[(0,d.jsxs)("li",{className:"select active",children:[(0,d.jsx)("figure",{className:"m-0",children:(0,d.jsx)("img",{src:"images/greenRight.svg",alt:"",width:"45"})}),(0,d.jsx)("strong",{children:"MRF raised"})]}),t&&(null===t||void 0===t?void 0:t.map(((e,a)=>(0,d.jsxs)("li",{class:"select \n                                "+("approve"===e.action_type?"active":"reject"===e.action_type?"nonactive":""),children:[(0,d.jsx)("figure",{className:"m-0",children:(0,d.jsx)("img",{src:"approve"===(null===e||void 0===e?void 0:e.action_type)?"images/greenRight.svg":"images/redCross.svg",alt:"",width:"45"})}),(0,d.jsxs)("strong",{children:["approve"===e.action_type?"Approved by":"reject"===e.action_type?"Reject By":"Pending By"," ",null===e||void 0===e?void 0:e.role_name,(0,d.jsx)("b",{children:null===e||void 0===e?void 0:e.approver_name})]})]},a)))),(0,d.jsxs)("li",{class:"select "+(r["Assigned To Recruiter"]?"active":""),children:[(0,d.jsx)("figure",{className:"m-0",children:(0,d.jsx)("img",{src:r["Assigned To Recruiter"]?"images/greenRight.svg":"images/redCross.svg",alt:"",width:"45"})}),(0,d.jsx)("strong",{children:"Assigned To Recruiter"})]}),(0,d.jsxs)("li",{class:"select "+(r["Interview Ongoing"]?"active":""),children:[(0,d.jsx)("figure",{className:"m-0",children:(0,d.jsx)("img",{src:r["Interview Ongoing"]?"images/greenRight.svg":"images/redCross.svg",alt:"",width:"45"})}),(0,d.jsx)("strong",{children:"Interview Ongoing"})]}),(0,d.jsxs)("li",{class:"select "+(r["MRF Final"]?"active":""),children:[(0,d.jsx)("figure",{className:"m-0",children:(0,d.jsx)("img",{src:r["MRF Final"]?"images/greenRight.svg":"images/redCross.svg",alt:"",width:"45"})}),(0,d.jsx)("strong",{children:"MRF Final"})]})]})})})]})})},f=e=>{const{mrfDashboardAndHierarchyData:a}=e,[s,i]=(0,l.useState)({"Mrf Submitted":"","Mrf Completed":"","Approval Pending":"","Mrf Actioned":""});(0,l.useEffect)((()=>{if(a){const{dashboard_count:e}=a;i(e)}}),[a]);const t=(0,l.useMemo)((()=>Object.keys(s).map(((e,a)=>{const l=s[e]||0;return(0,d.jsx)("div",{className:"col-md-6 px-md-2 mb-3",children:(0,d.jsxs)("div",{className:"totalBx h-100 p-2",children:[(0,d.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[(0,d.jsx)("figure",{className:"mb-0",children:(0,d.jsx)("img",{src:"images/applyleavesIcon.svg",alt:"",width:"40"})}),(0,d.jsx)("h3",{className:"fw-bolder my-0",children:(0,m.Sn)(e)})]}),(0,d.jsx)("span",{className:"d-block text-end",children:l}),(0,d.jsx)("img",{src:"images/totalattendance.svg",className:"cornerLine",alt:"",width:"95"})]})},a)}))),[s]);return(0,d.jsxs)("div",{className:"row leavesMain mb-3",children:[(0,d.jsx)("div",{className:"col-md-5 pe-md-2 ticketScoreSection",children:(0,d.jsx)("div",{className:"row px-md-1",children:t})}),(0,d.jsx)("div",{className:"col-md-7 ps-md-2",children:(0,d.jsx)("div",{className:"cardBox h-100 newMrfProcess",children:(0,d.jsxs)("div",{className:"cardHead",children:[(0,d.jsxs)("h3",{children:["New ",(0,d.jsx)("span",{children:"MRF Process"})]}),(0,d.jsxs)("ul",{className:"tackList mt-5 pt-2 pe-4",children:[(0,d.jsx)("li",{children:"Create MRF"}),(0,d.jsx)("li",{children:"Add Job Description"}),(0,d.jsx)("li",{children:"Add Interviewer"}),(0,d.jsx)("li",{children:"Review & Submit"})]})]})})})]})};s(48334);var b=s(94097),g=s(85712);const N=e=>{const{mrfDashboardAndHierarchyData:a}=e,[s,i]=(0,l.useState)("");(0,l.useEffect)((()=>{if(a){const{approval_hierarchy:e}=a;i(e)}}),[a]);const t=(0,v.Zp)(),n=e=>{t(`/mrf-process-step/${e}`)};return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("div",{className:"cardBox mb-3 createNewMrf newMrfProcess ",children:(0,d.jsxs)("div",{className:"row align-items-center",children:[(0,d.jsx)("div",{className:"col-md-9 col-xl-10",children:(0,d.jsxs)("div",{className:"row align-items-center",children:[(0,d.jsx)("div",{className:"col-md-3",children:(0,d.jsx)(b.A,{loop:!0,animationData:g,background:"transparent",speed:"1",play:!0,style:{width:"100%",height:"124px"},autoPlay:!0})}),(0,d.jsx)("div",{className:"col-md-9",children:(0,d.jsxs)("div",{className:"cardHead",children:[(0,d.jsxs)("h3",{children:[" ",(0,d.jsx)("span",{children:"Approval Hierarchy"})]}),(0,d.jsxs)("ul",{className:"tackList apphierarchy mt-5 pt-2 pe-4 ",children:[s&&(null===s||void 0===s?void 0:s.length)>0&&(null===s||void 0===s?void 0:s.map((e=>(0,d.jsx)("li",{className:"text-capitalize",children:null===e||void 0===e?void 0:e.role_id},null===e||void 0===e?void 0:e.role_id)))),(0,d.jsx)("li",{children:"HR Recruiter"})]})]})})]})}),(0,d.jsxs)("div",{className:"col-md-3 col-xl-2",children:[(0,d.jsx)(r.Sv,{classNames:"btn btn-outline-primary w-100 mb-2",text:"New Hiring",handleClick:()=>n("vacancy")}),(0,d.jsx)(r.Sv,{classNames:"btn btn-primary gradientBg w-100",text:"Replacement",handleClick:()=>n("replacement")})]})]})})})};var y=s(82149),_=s(34348),D=s.n(_),S=s(56462);const M=e=>{const{allMrfListData:a,isLoading:s,currentPage:i,setCurrentPage:t,setSubmissionType:n,submissionType:o,getAllUserMrfData:c,onHandleSubmissionApproveReject:v,handleSubmissionViewModal:p,handleStatusModal:x,setApplyFor:h,setApprovalStatus:j,applyFor:f,approvalStatus:b,startDate:g,endDate:N,handleDateRangeChangeSubmission:_}=e,M=(0,l.useMemo)((()=>({sn:(e,a)=>(0,d.jsx)("span",{children:a+1}),created_at:e=>D()(e.created_at).format("DD-MM-YYYY"),mrf_status:e=>(0,d.jsx)("span",{className:`badge ${(0,m.XN)(e.mrf_status)}`,children:e.mrf_status}),approval_status_name:e=>(0,d.jsx)("span",{className:`badge ${(0,m.XN)(e.approval_status_name)}`,children:e.approval_status_name}),status:e=>(0,d.jsx)("span",{onClick:()=>x(null===e||void 0===e?void 0:e._id),children:(0,d.jsx)(u.A,{imgSrc:"images/info-orange-bg.svg",altText:"",width:32})}),action:e=>(0,d.jsxs)("div",{className:"actionGroup d-flex gap-2",children:[(0,d.jsx)("span",{onClick:()=>p(null===e||void 0===e?void 0:e._id),children:(0,d.jsx)(u.A,{imgSrc:"images/view-icon.svg",altText:"",width:32})}),!(null!==e&&void 0!==e&&e.is_submitted)&&(0,d.jsx)("span",{onClick:()=>v(null===e||void 0===e?void 0:e._id),children:(0,d.jsx)(u.A,{imgSrc:"images/nextaction-Icon.svg",altText:""})})]})})),[a]),A=(0,l.useMemo)((()=>({sn:(e,a)=>(0,d.jsx)("span",{children:a+1}),created_at:e=>D()(e.created_at).format("DD-MM-YYYY"),mrf_status:e=>(0,d.jsx)("span",{className:`badge ${(0,m.XN)(e.mrf_status)}`,children:e.mrf_status}),action:e=>(0,d.jsxs)("div",{className:"actionGroup d-flex gap-2",children:[(0,d.jsx)("span",{onClick:()=>p(null===e||void 0===e?void 0:e._id),children:(0,d.jsx)(u.A,{imgSrc:"images/view-icon.svg",altText:"",width:32})}),!(null!==e&&void 0!==e&&e.is_submitted)&&(0,d.jsx)("span",{onClick:()=>v(null===e||void 0===e?void 0:e._id),children:(0,d.jsx)(u.A,{imgSrc:"images/nextaction-Icon.svg",altText:""})})]})})),[a]),w=e=>{n(e),t(1),j(""),h("")};return(0,d.jsx)("div",{className:"tab-pane fade active show",id:"mrfSubmissionTb",children:(0,d.jsxs)("div",{className:"requestdata",children:[(0,d.jsx)("div",{className:"row",children:(0,d.jsx)("div",{className:"col-6",children:(0,d.jsxs)("div",{className:"d-flex align-items-center mb-4 ",children:[(0,d.jsx)("span",{className:"fw-bold fs-6 text-black",children:"MRF Submission Status"}),(0,d.jsxs)("ul",{className:"nav nav-tabs leaveTabs ms-3",children:[(0,d.jsx)("li",{className:"nav-item",children:(0,d.jsx)(r.Sv,{text:"Submitted",classNames:"nav-link px-4 "+("submit"===o?"active":""),handleClick:()=>w("submit")})}),(0,d.jsx)("li",{className:"nav-item",children:(0,d.jsx)(r.Sv,{text:"Draft",classNames:"nav-link px-4 "+("draft"==o?"active":""),handleClick:()=>w("draft")})})]})]})})}),(0,d.jsxs)("div",{className:"d-flex justify-content-end gap-3",children:[(0,d.jsx)("div",{className:"selectRect",children:(0,d.jsx)(S.A,{placeholder:"Filter Applied For...",data:[{value:"vacancy",label:"Vacancy"},{value:"replacement",label:"Replacement"}],value:f,handleChange:e=>{h(e)}})}),"submit"===o&&(0,d.jsx)("div",{className:"selectRect",children:(0,d.jsx)(S.A,{placeholder:"Filter Approval Status...",data:[{value:"pending",label:"Pending"},{value:"reject",label:"Reject"},{value:"approve",label:"Approve"}],value:b,handleChange:e=>{j(e)}})}),(0,d.jsx)("div",{className:"selectDate ",children:(0,d.jsx)(r.FC,{onDateRangeChange:e=>_(e),endDefaultDate:N,startDefaultDate:g})})]}),(0,d.jsx)("div",{className:"tab-content",children:(0,d.jsx)("div",{className:"tab-pane fade active show",id:"sumittedMrfStatus",children:(0,d.jsx)(y.A,{data:null===a||void 0===a?void 0:a.data,fields:"submit"===o?[{key:"sn",label:"S.N"},{key:"auto_id",label:"MRF ID"},{key:"hiring_for_name",label:"Location"},{key:"type",label:"Applied For"},{key:"action_by",label:"Approval To"},{key:"approval_status_name",label:"Approval Status"},{key:"mrf_status",label:"MRF Status"},{key:"status",label:"Status"},{key:"created_at",label:"Created Date"},{key:"action",label:"Action"}]:[{key:"sn",label:"S.N"},{key:"auto_id",label:"MRF ID"},{key:"hiring_for_name",label:"Location"},{key:"type",label:"Applied For"},{key:"mrf_status",label:"MRF Status"},{key:"created_at",label:"Created Date"},{key:"action",label:"Action"}],isLoading:s,pagination:!0,currentPage:i,setCurrentPage:t,totalPages:null===a||void 0===a?void 0:a.totalPages,isHeader:!1,tableStyle:{padding:"0px",boxShadow:"none"},scopedSlots:"submit"===o?M:A})})})]})})},A=e=>{const{mrfApprovalData:a,isLoading:s,currentPage:i,setApprovalCurrPage:t,setApprovalType:n,approvalType:o,getAllUserMrfData:c,onHandleApproveReject:m,handleSubmissionViewModal:v}=e,p=(0,l.useMemo)((()=>({sn:(e,a)=>(0,d.jsx)("span",{children:a+1}),created_at:e=>D()(e.created_at).format("DD-MM-YYYY"),action:e=>(0,d.jsxs)("div",{className:"actionGroup d-flex gap-2",children:[(0,d.jsx)("span",{onClick:()=>v(null===e||void 0===e?void 0:e.collection_id),children:(0,d.jsx)(u.A,{imgSrc:"images/view-icon.svg",altText:"",width:32})}),"pending"===(null===e||void 0===e?void 0:e.action_type)&&(0,d.jsx)("span",{onClick:()=>m(null===e||void 0===e?void 0:e._id,null===e||void 0===e?void 0:e.mrf_type),children:(0,d.jsx)(u.A,{imgSrc:"images/nextaction-Icon.svg",altText:""})})]})})),[a]),x=e=>{n(e),t(1)};return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("div",{className:"tab-pane fade",id:"mrfApprovalTb",children:(0,d.jsxs)("div",{className:"requestdata",children:[(0,d.jsxs)("div",{className:"d-flex align-items-center mb-4",children:[(0,d.jsx)("span",{className:"fw-bold fs-6 text-black",children:"MRF Approval Status"}),(0,d.jsxs)("ul",{className:"nav nav-tabs leaveTabs ms-3",children:[(0,d.jsx)("li",{className:"nav-item",children:(0,d.jsx)(r.Sv,{text:"Pending",classNames:"nav-link px-4 "+("pending"===o?"active":""),handleClick:()=>x("pending")})}),(0,d.jsx)("li",{className:"nav-item",children:(0,d.jsx)(r.Sv,{text:"Approved",classNames:"nav-link px-4 "+("approve"===o?"active":""),handleClick:()=>x("approve")})}),(0,d.jsx)("li",{className:"nav-item",children:(0,d.jsx)(r.Sv,{text:"Reject",classNames:"nav-link px-4 "+("reject"===o?"active":""),handleClick:()=>x("reject")})})]})]}),(0,d.jsx)("div",{className:"tab-content",children:(0,d.jsx)("div",{className:"tab-pane fade active show",id:"pendingMrfStatus",children:(0,d.jsx)("div",{className:"table-responsive tableDiv text-nowrap",children:(0,d.jsx)(y.A,{data:null===a||void 0===a?void 0:a.data,fields:[{key:"sn",label:"S.N"},{key:"auto_id",label:"MRF ID"},{key:"hiring_for_name",label:"Location"},{key:"department_name",label:"Department"},{key:"designation_name",label:"Designation"},{key:"priority_name",label:"Prority"},{key:"created_by_name",label:"Created By"},{key:"created_at",label:"Created At"},{key:"action",label:"Action"}],isLoading:s,pagination:!0,currentPage:i,setCurrentPage:t,totalPages:null===a||void 0===a?void 0:a.totalPages,isHeader:!1,tableStyle:{padding:"0px",boxShadow:"none"},scopedSlots:p})})})})]})})})},w=()=>{const e=(0,i.wA)(),{getAllUserMrfPending:a,getAllUserMrfRes:s,getAllUserMrfError:r,getMrfDashboardAndHierarchyPending:m,getMrfDashboardAndHierarchyRes:v,getMrfDashboardAndHierarchyError:u,getMrfForApprovalDataPending:x,getMrfForApprovalDataRes:b,getMrfForApprovalDataError:g,approveRejectMrfPending:y,approveRejectMrfRes:_,approveRejectMrfError:D,getMrfDataByIdError:S,getMrfDataByIdRes:w,getMrfDataByIdPending:R,submitDraftMrfPending:k,submitDraftMrfRes:C,submitDraftMrfError:F}=(0,i.d4)((e=>e.mrf)),[T,E]=(0,l.useState)(""),[Y,P]=(0,l.useState)(1),[I,L]=(0,l.useState)(1),[H,B]=(0,l.useState)("submit"),[O,q]=(0,l.useState)("pending"),[$,U]=(0,l.useState)(),[V,G]=(0,l.useState)([]),X=(0,l.useRef)(!1),[J,Q]=(0,l.useState)(!1),[Z,z]=(0,l.useState)(!1),[K,W]=(0,l.useState)(""),[ee,ae]=(0,l.useState)(""),[se,le]=(0,l.useState)(""),[ie,te]=(0,l.useState)(""),[ne,re]=(0,l.useState)(!1),[de,oe]=(0,l.useState)({}),[ce,me]=(0,l.useState)(!1),[ve,pe]=(0,l.useState)(""),[ue,xe]=(0,l.useState)(""),[he,je]=(0,l.useState)(h()().subtract(3,"months").format("YYYY-MM-DD")),[fe,be]=(0,l.useState)(h()().format("YYYY-MM-DD"));(0,l.useEffect)((()=>{Ne()}),[]),(0,l.useEffect)((()=>{ge()}),[Y,H,ue,ve,fe,he]);(0,l.useEffect)((()=>{if(!k){if(F)return;C&&200===(null===C||void 0===C?void 0:C.code)&&(e(t.nY.handleClearMrfStore("HANDLE_CLEAR_SUBMIT_DRAFT_MRF_STORE")),ge())}}),[k,F,C]);const ge=a=>{if(he&&fe){let s={query_type:"user",type:a||H,page:Y,limit:n.X$.limit,start_date:h()(he).format("YYYY-MM-DD"),end_date:h()(fe).format("YYYY-MM-DD")};ve&&(s.applied_for=null===ve||void 0===ve?void 0:ve.value),ue&&(s.approval_status=null===ue||void 0===ue?void 0:ue.value),e(t.nY.getAllUserMrfRequest(s))}};(0,l.useEffect)((()=>{if(!a){if(r)return;if(s&&200===(null===s||void 0===s?void 0:s.code)){const e=null===s||void 0===s?void 0:s.data;E(e)}}}),[s,r,a]);const Ne=()=>{e(t.nY.getMrfDashboardAndHierarchyRequest())};(0,l.useEffect)((()=>{if(!m){if(u)return;if(v&&200===(null===v||void 0===v?void 0:v.code)){const e=null===v||void 0===v?void 0:v.data;U(e)}}}),[v,u,m]),(0,l.useEffect)((()=>{X.current?ye():X.current=!0}),[I,O]);const ye=(a,s)=>{const l={action_type:a||O,page:I,limit:n.X$.limit};e(t.nY.getMrfForApprovalDataRequest(l))};(0,l.useEffect)((()=>{if(!x){if(g)return;if(b&&200===(null===b||void 0===b?void 0:b.code)){const e=null===b||void 0===b?void 0:b.data;G(e)}}}),[b,g,x]);const _e=e=>{"mrfApprovalTb"===e?ye():ge()};(0,l.useEffect)((()=>{if(!y){if(D)return Q(!J),void e(t.nY.handleClearMrfStore("HANDLE_CLEAR_APPROVE_REJECT_MRF_STORE"));_&&200===(null===_||void 0===_?void 0:_.code)&&(W(""),ae(""),le(""),ye(),e(t.nY.handleClearMrfStore("HANDLE_CLEAR_APPROVE_REJECT_MRF_STORE")),Q(!J))}}),[_,D,y]);const De=a=>{a&&(Se(a),re(!ne)),re(!ne),e(t.nY.handleClearMrfStore("HANDLE_CLEAR_GET_MRF_DATA_BY_ID_STORE"))},Se=a=>{const s={_id:a};e(t.nY.getMrfDataByIdRequest(s))};(0,l.useEffect)((()=>{if(!R){if(S)return;if(w&&200===(null===w||void 0===w?void 0:w.code)){const e=null===w||void 0===w?void 0:w.data;oe(e)}}}),[R,S,w]);const Me=a=>{a&&(Se(a),me(!ce)),me(!ce),e(t.nY.handleClearMrfStore("HANDLE_CLEAR_GET_MRF_DATA_BY_ID_STORE"))};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(f,{mrfDashboardAndHierarchyData:$}),(0,d.jsx)(N,{mrfDashboardAndHierarchyData:$}),(0,d.jsxs)("div",{class:"cardBox myRequest mb-3",children:[(0,d.jsxs)("div",{class:"cardHead",children:[(0,d.jsx)("img",{src:"images/myrequest-icon.svg",alt:"",width:"35"}),(0,d.jsx)("h3",{class:"ms-2",children:"MRF Status"})]}),(0,d.jsxs)("ul",{class:"nav nav-tabs leaveTabs mb-4",children:[(0,d.jsx)("li",{class:"nav-item",children:(0,d.jsx)("button",{class:"nav-link active","data-bs-toggle":"tab","data-bs-target":"#mrfSubmissionTb",type:"button",onClick:()=>_e("mrfSubmissionTb"),children:"MRF Submission"})}),(0,d.jsx)("li",{class:"nav-item",children:(0,d.jsx)("button",{class:"nav-link","data-bs-toggle":"tab","data-bs-target":"#mrfApprovalTb",type:"button",onClick:()=>_e("mrfApprovalTb"),children:"MRF Approval"})})]}),(0,d.jsxs)("div",{class:"tab-content",children:[(0,d.jsx)(M,{allMrfListData:T,isLoading:a,currentPage:Y,setCurrentPage:P,setSubmissionType:B,submissionType:H,getAllUserMrfData:ge,onHandleSubmissionApproveReject:e=>{te(e),z(!Z)},handleSubmissionViewModal:De,handleStatusModal:Me,setApplyFor:pe,setApprovalStatus:xe,applyFor:ve,approvalStatus:ue,endDate:fe,startDate:he,handleDateRangeChangeSubmission:e=>{je(e[0]),be(e[1])}}),(0,d.jsx)(A,{mrfApprovalData:V,isLoading:x,currentPage:I,setApprovalCurrPage:L,setApprovalType:q,approvalType:O,getAllUserMrfData:ge,onHandleApproveReject:(e,a)=>{W(e),ae(a),Q(!J)},handleSubmissionViewModal:De}),J&&(0,d.jsx)(o,{title:"MRF Approval",onApproveReject:a=>{if(a){const s={_id:K,action_type:a,comment:se};e(null===t.nY||void 0===t.nY?void 0:t.nY.approveRejectMrfRequest(s))}else Q(!J)},isShow:J,id:K,appliedFor:ee,setComment:le,comment:se}),Z&&(0,d.jsx)(c.A,{onApproveReject:a=>{if(a){const a={query_type:"submit",_id:ie};e(t.nY.submitDraftMrfRequest(a)),z(!Z)}else z(!Z)},isShow:Z,desc:"You want to Submit MRF ",btnTextLeft:"Cancel",btnTextRight:"Send"})]})]}),(0,d.jsx)(p,{handleSubmissionViewModal:De,openModel:ne,mrfByIdData:de}),(0,d.jsx)(j,{handleOpenClose:Me,openModel:ce,mrfByIdData:de})]})}}}]);
//# sourceMappingURL=5788.9ad447cc.chunk.js.map