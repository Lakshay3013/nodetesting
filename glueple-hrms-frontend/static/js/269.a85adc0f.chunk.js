"use strict";(self.webpackChunkglueple_user=self.webpackChunkglueple_user||[]).push([[269],{39956:(e,a,l)=>{l.d(a,{A:()=>m});var t=l(65043),i=l(26362),d=l(49985),s=l(92250),o=l(86178),n=l.n(o),r=l(90607),c=l(70579);const m=e=>{const{t:a}=(0,r.K)(),{setSelectedHolidayData:l,toggleCreateUpdateHolidayModal:o,currentPage:m,setCurrentPage:v,allHolidayListData:u,isLoading:x,toggleHolidayDeleteModal:h,viewType:p}=e,y=(0,t.useMemo)((()=>({sn:(e,a)=>(0,c.jsx)("span",{children:a+1}),is_active:e=>(0,c.jsx)("span",{className:`badge ${(0,d.XN)(e.is_active?"Active":"Inactive")}`,children:e.is_active?"Active":"Inactive"}),days:e=>n()(e.to_date).diff(n()(e.from_date),"days")+1,created_at:e=>n()(e.created_at).format("DD-MM-YYYY"),from_date:e=>n()(e.from_date).format("DD-MM-YYYY"),to_date:e=>n()(e.to_date).format("DD-MM-YYYY"),action:e=>(0,c.jsx)("div",{className:"actionGroup d-flex gap-2",children:"admin"===p&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(s.Sv,{text:a("btns.update"),classNames:"btn btn-primary",handleClick:()=>{o(e)}}),(0,c.jsx)(s.Sv,{text:a("btns.delete"),handleClick:()=>h(e._id),classNames:"btn btn-danger"})]})})})),[l,o]);return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(i.Ak,{data:u,fields:[{key:"sn",label:"S.N"},{key:"name",label:"Holiday Name"},{key:"from_date",label:"Holiday From"},{key:"to_date",label:"Holiday To"},{key:"days",label:"Days"},{key:"action",label:"Action"}],isLoading:x,pagination:!0,currentPage:m,setCurrentPage:v,tableName:"Holiday",scopedSlots:y})})}},30269:(e,a,l)=>{l.r(a),l.d(a,{default:()=>b});var t=l(65043),i=l(92250),d=l(22166),s=(l(52027),l(35685)),o=l(90607),n=l(49985),r=l(56462),c=l(68939),m=l(26181),v=l(80728),u=l(94174),x=l(86178),h=l.n(x),p=l(70579);const y=e=>{(0,d.wA)();const{createHolidayPending:a}=(0,d.d4)((e=>null===e||void 0===e?void 0:e.holiday)),{t:l}=(0,o.K)(),{selectedHolidayData:s,openModel:u,handleOpenClose:x,handleCreateUpdateHoliday:y,allCountriesListData:f,handleStateCity:j,allStateListData:b,allCityList:g,appConstantData:_,dateConstantData:N,allBranches:k,getAllHoliday:C,getAllStateFromCountryList:D,getAllBranches:S,getCityListFromState:A}=e,[E,H]=(0,t.useState)({}),[L,R]=(0,t.useState)([]),[w,Y]=(0,t.useState)(!1),[M,P]=(0,t.useState)({name:"",from_date:"",to_date:"",country:[],state:[],city:[],branch:[],gender:[],description:"",restricted:!1,notify_before_days:0,is_notify_to_employee:!1,is_reprocess_leave:!1}),T=(e,a)=>{var l;const t=a||(null===(l=e.target)||void 0===l?void 0:l.name),{value:i,type:d,checked:s}=null!==e&&void 0!==e&&e.target?null===e||void 0===e?void 0:e.target:{value:e};P((e=>{let a={...e,[t]:"checkbox"===d?s:i};if("name"===t&&(a={...a,short_name:(0,n.aF)(i)}),"country"===t&&(a={...a,state:[],city:[]},j(i,t)),"state"===t&&(a={...a,city:[]},j(i,t)),"city"===t&&(a={...a,branch:[]},j(i,t)),"from_date"===t&&(a={...a,to_date:""},R([])),"to_date"===t){a={...a};let e=U(null===M||void 0===M?void 0:M.from_date,i);R(e)}if("restricted"===t){a={...a};let e=U(null===M||void 0===M?void 0:M.from_date,null===M||void 0===M?void 0:M.to_date);R(e)}return a})),H((e=>({...e,[t]:void 0})))},B=e=>{const a=[];return e&&(null===e||void 0===e||e.map((e=>{a.push((null===e||void 0===e?void 0:e.value)||e)}))),a};(0,t.useEffect)((()=>()=>{O()}),[u]),(0,t.useEffect)((()=>{}),[b]),(0,t.useEffect)((()=>{if(s){D(null===s||void 0===s?void 0:s.state),A(null===s||void 0===s?void 0:s.city),S(null===s||void 0===s?void 0:s.branch);const e=(0,n.RL)(f,null===s||void 0===s?void 0:s.country),a=(0,n.RL)(b,null===s||void 0===s?void 0:s.state),l=(0,n.RL)(g,null===s||void 0===s?void 0:s.city),t=(0,n.RL)(k,null===s||void 0===s?void 0:s.branch),i=(0,n.RL)(null===_||void 0===_?void 0:_.gender,null===s||void 0===s?void 0:s.gender);R(null===s||void 0===s?void 0:s.holiday_data),P({name:null===s||void 0===s?void 0:s.name,from_date:null===s||void 0===s?void 0:s.from_date,to_date:null===s||void 0===s?void 0:s.to_date,country:e,state:a,city:l,branch:t,gender:i,description:null===s||void 0===s?void 0:s.description,restricted:null===s||void 0===s?void 0:s.restricted,notify_before_days:{value:null===s||void 0===s?void 0:s.notify_before_days,label:null===s||void 0===s?void 0:s.notify_before_days},is_notify_to_employee:null===s||void 0===s?void 0:s.is_notify_to_employee,is_reprocess_leave:null===s||void 0===s?void 0:s.is_reprocess_leave})}}),[s]);const O=()=>{P({name:"",from_date:"",to_date:"",country:[],state:[],city:[],branch:[],gender:"",description:"",restricted:!1,notify_before_days:0,is_notify_to_employee:!1,is_reprocess_leave:!1}),H({}),R([])},U=(e,a)=>{const l=[];let t=h()(e).format("YYYY-MM-DD");for(;t<=h()(a).format("YYYY-MM-DD");)l.push({date:h()(t).format("ddd DD-MMM-YYYY"),apply_for:null===_||void 0===_?void 0:_.dayType[0]}),t=h()(t).add(1,"day").format("YYYY-MM-DD");return l},K=e=>{const a=[];return null===e||void 0===e||e.map(((e,l)=>{var t;a.push({date:h()(null===e||void 0===e?void 0:e.date).format("YYYY-MM-DD"),apply_for:null===e||void 0===e||null===(t=e.apply_for)||void 0===t?void 0:t.value})})),a};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:"offcanvas offcanvas-end  "+(u?"show":""),tabIndex:-1,style:{visibility:u?"visible":"hidden",width:"800px"},id:"interviewDetail",children:[(0,p.jsxs)("div",{className:"offcanvas-header",children:[(0,p.jsx)("h5",{className:"offcanvas-title  fs-5 fw-bold text-primary",children:l(s?"headings.updateHoliday":"headings.addHoliday")}),(0,p.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close",onClick:()=>x()})]}),(0,p.jsx)("div",{className:"offcanvas-body myRequest ",children:(0,p.jsxs)("div",{className:"formPanel",children:[(0,p.jsxs)("div",{className:"row",children:[(0,p.jsx)("div",{className:"col-md-3",children:(0,p.jsx)("div",{className:"form-group mb-3",children:(0,p.jsx)(c.JU,{text:l("labels.holidayName"),required:!0})})}),(0,p.jsx)("div",{className:"col-md-9",children:(0,p.jsxs)("div",{className:"form-group mb-3",children:[(0,p.jsx)(c.pd,{type:"text",placeholder:l("placeholders.name"),value:null===M||void 0===M?void 0:M.name,name:"name",onChange:e=>T(e)}),(null===E||void 0===E?void 0:E.name)&&(0,p.jsx)(i.eo,{text:E.name})]})})]}),(0,p.jsxs)("div",{className:"row",children:[(0,p.jsx)("div",{className:"col-md-3",children:(0,p.jsx)("div",{className:"form-group mb-3",children:(0,p.jsx)(c.JU,{text:l("labels.fromDate"),required:!0})})}),(0,p.jsx)("div",{className:"col-md-9",children:(0,p.jsxs)("div",{className:"form-group mb-3",children:[(0,p.jsx)(c.pd,{type:"date",placeholder:l("placeholders.fromDate"),value:null===M||void 0===M?void 0:M.from_date,name:"from_date",onChange:e=>T(e)}),(null===E||void 0===E?void 0:E.from_date)&&(0,p.jsx)(i.eo,{text:E.from_date})]})})]}),(0,p.jsxs)("div",{className:"row",children:[(0,p.jsx)("div",{className:"col-md-3",children:(0,p.jsx)("div",{className:"form-group mb-3",children:(0,p.jsx)(c.JU,{text:l("labels.toDate"),required:!0})})}),(0,p.jsx)("div",{className:"col-md-9",children:(0,p.jsxs)("div",{className:"form-group mb-3",children:[(0,p.jsx)(c.pd,{type:"date",value:null===M||void 0===M?void 0:M.to_date,name:"to_date",onChange:e=>T(e),min:null===M||void 0===M?void 0:M.from_date}),(null===E||void 0===E?void 0:E.to_date)&&(0,p.jsx)(i.eo,{text:E.to_date}),(null===L||void 0===L?void 0:L.length)>0&&(0,p.jsx)("div",{style:{display:"inline-flex",marginTop:"5px"},children:(0,p.jsx)(c.P_,{style:{fontSize:"medium"},id:"restricted",label:"Restricted",checked:null===M||void 0===M?void 0:M.restricted,handleChange:e=>T(e),name:"restricted"},"restricted")})]})})]}),(0,p.jsxs)("div",{className:"row",children:[(0,p.jsx)("div",{className:"col-md-3"}),(0,p.jsx)("div",{className:"col-md-9",children:(null===L||void 0===L?void 0:L.length)>0&&(0,p.jsx)("div",{className:"divAddHoliday mb-3",children:(0,p.jsx)("table",{className:"tableAddDateHoliday",children:L&&L.map(((e,a)=>(0,p.jsxs)("tr",{className:"mb-3",children:[(0,p.jsx)("td",{className:"tdHoliday",children:h()(null===e||void 0===e?void 0:e.date).format("ddd DD-MMM-YYYY")}),(0,p.jsx)("td",{children:(0,p.jsx)(r.A,{data:null===_||void 0===_?void 0:_.dayType,isDisabled:!(null===M||void 0===M||!M.restricted),placeholder:l("placeholders.selectDayType"),value:null!==s&&void 0!==s&&s.holiday_data?{label:null===e||void 0===e?void 0:e.apply_for,value:null===e||void 0===e?void 0:e.apply_for}:null===e||void 0===e?void 0:e.apply_for,handleChange:e=>((e,a)=>{R((l=>{const t=[...l];return t[a]={...t[a],apply_for:e},t}))})(e,a)})})]})))})})})]}),(0,p.jsxs)("div",{className:"row",children:[(0,p.jsx)("div",{className:"col-md-3",children:(0,p.jsx)("div",{className:"form-group mb-3",children:(0,p.jsx)(c.JU,{text:l("labels.country"),required:!0})})}),(0,p.jsx)("div",{className:"col-md-9",children:(0,p.jsxs)("div",{className:"form-group mb-3",children:[(0,p.jsx)(r.A,{isMulti:!0,data:f,placeholder:l("placeholders.selectCountry"),value:(null===M||void 0===M?void 0:M.country)||"",handleChange:e=>T(e,"country"),name:"country"}),(null===E||void 0===E?void 0:E.country)&&(0,p.jsx)(i.eo,{text:E.country})]})})]}),(0,p.jsxs)("div",{className:"row",children:[(0,p.jsx)("div",{className:"col-md-3",children:(0,p.jsx)("div",{className:"form-group mb-3",children:(0,p.jsx)(c.JU,{text:l("labels.state"),required:!0})})}),(0,p.jsx)("div",{className:"col-md-9",children:(0,p.jsxs)("div",{className:"form-group mb-3",children:[(0,p.jsx)(r.A,{isMulti:!0,data:b,placeholder:l("placeholders.selectState"),value:(null===M||void 0===M?void 0:M.state)||"",handleChange:e=>T(e,"state"),name:"state"}),(null===E||void 0===E?void 0:E.state)&&(0,p.jsx)(i.eo,{text:E.state})]})})]}),(0,p.jsxs)("div",{className:"row",children:[(0,p.jsx)("div",{className:"col-md-3",children:(0,p.jsx)("div",{className:"form-group mb-3",children:(0,p.jsx)(c.JU,{text:l("labels.city"),required:!0})})}),(0,p.jsx)("div",{className:"col-md-9",children:(0,p.jsxs)("div",{className:"form-group mb-3",children:[(0,p.jsx)(r.A,{isMulti:!0,data:g,placeholder:l("placeholders.selectCity"),value:(null===M||void 0===M?void 0:M.city)||"",handleChange:e=>T(e,"city"),name:"city"}),(null===E||void 0===E?void 0:E.city)&&(0,p.jsx)(i.eo,{text:E.city})]})})]}),(0,p.jsxs)("div",{className:"row",children:[(0,p.jsx)("div",{className:"col-md-3",children:(0,p.jsx)("div",{className:"form-group mb-3",children:(0,p.jsx)(c.JU,{text:l("labels.branchName"),required:!0})})}),(0,p.jsx)("div",{className:"col-md-9",children:(0,p.jsxs)("div",{className:"form-group mb-3",children:[(0,p.jsx)(r.A,{isMulti:!0,data:k,placeholder:l("placeholders.selectBranchName"),value:(null===M||void 0===M?void 0:M.branch)||"",handleChange:e=>T(e,"branch"),name:"branch"}),(null===E||void 0===E?void 0:E.branch)&&(0,p.jsx)(i.eo,{text:E.branch})]})})]}),(0,p.jsxs)("div",{className:"row",children:[(0,p.jsx)("div",{className:"col-md-3",children:(0,p.jsx)("div",{className:"form-group mb-3",children:(0,p.jsx)(c.JU,{text:l("labels.gender")})})}),(0,p.jsx)("div",{className:"col-md-9",children:(0,p.jsx)("div",{className:"form-group mb-3",children:(0,p.jsx)(r.A,{isMulti:!0,data:null===_||void 0===_?void 0:_.gender,placeholder:l("placeholders.selectGender"),value:(null===M||void 0===M?void 0:M.gender)||"",handleChange:e=>T(e,"gender"),name:"gender"})})})]}),(0,p.jsxs)("div",{className:"row  form-group mb-3",children:[(0,p.jsx)("div",{className:"col-md-3",children:(0,p.jsx)(c.JU,{text:l("labels.applicableFor")})}),w?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{className:"col-md-3",children:(0,p.jsxs)("select",{className:"form-control",children:[(0,p.jsx)("option",{children:"Select"}),(0,p.jsx)("option",{children:"Shift 1"}),(0,p.jsx)("option",{children:"Shift 2"})]})}),(0,p.jsx)("div",{className:"col-md-1",children:(0,p.jsx)("span",{className:"input-group-text",children:"is"})}),(0,p.jsx)("div",{className:"col-md-3",children:(0,p.jsx)("input",{type:"text",className:"form-control",placeholder:"Select"})}),(0,p.jsx)("div",{className:"col-md-2",children:(0,p.jsx)("button",{className:"btn btn-outline-danger",onClick:()=>Y(!1),children:(0,p.jsx)("i",{className:"fa fa-trash"})})})]}):(0,p.jsx)("div",{className:"col-md-3",children:(0,p.jsx)(i.Sv,{text:l("btns.addCriteria"),classNames:"btn btn-primary",handleClick:()=>Y(!0)})})]}),(0,p.jsxs)("div",{className:"row",children:[(0,p.jsx)("div",{className:"col-md-3",children:(0,p.jsx)("div",{className:"form-group mb-3",children:(0,p.jsx)(c.JU,{text:l("labels.description")})})}),(0,p.jsx)("div",{className:"col-md-9",children:(0,p.jsx)("div",{className:"form-group mb-3",children:(0,p.jsx)(c.pd,{type:"text",placeholder:l("placeholders.description"),value:null===M||void 0===M?void 0:M.description,name:"description",onChange:e=>T(e)})})})]}),(0,p.jsxs)("div",{className:"row",children:[(0,p.jsx)("div",{className:"col-md-3",children:(0,p.jsx)("div",{className:"form-group mb-3",children:(0,p.jsx)(c.JU,{text:l("labels.noOfDaysBefore")})})}),(0,p.jsx)("div",{className:"col-md-9",children:(0,p.jsx)("div",{className:"form-group mb-3",children:(0,p.jsx)(r.A,{data:N,placeholder:l("placeholders.selectNoOfDays"),value:(null===M||void 0===M?void 0:M.notify_before_days)||"",handleChange:e=>T(e,"notify_before_days"),name:"notify_before_days"})})})]}),(0,p.jsx)("div",{className:"row",children:(0,p.jsx)("div",{className:"col-md-12",children:(0,p.jsxs)("div",{className:"form-group mb-3",children:[(0,p.jsx)(c.P_,{id:"is_notify_to_employee",label:"Notify applicable employees via feeds",checked:null===M||void 0===M?void 0:M.is_notify_to_employee,handleChange:e=>T(e),name:"is_notify_to_employee"},"is_notify_to_employee"),(0,p.jsx)("small",{children:"(They will receive a feed notification instantly once this holiday is saved)"})]})})}),(0,p.jsx)("div",{className:"row",children:(0,p.jsx)("div",{className:"col-md-12",children:(0,p.jsxs)("div",{className:"form-group mb-3",children:[(0,p.jsx)(c.P_,{id:"is_reprocess_leave",label:"Reprocess leave applications based on this added holiday",checked:null===M||void 0===M?void 0:M.is_reprocess_leave,handleChange:e=>T(e),name:"is_reprocess_leave"},"is_reprocess_leave"),(0,p.jsx)("small",{children:"(Leaves that are already applied for this holiday will be reprocessed and the balance will be adjusted accordingly)"})]})})}),(0,p.jsx)("div",{className:"row",children:(0,p.jsx)("div",{className:"col-md-12",children:(0,p.jsxs)("div",{class:"alert alert-warning",role:"alert",children:[(0,p.jsx)("b",{children:"Note : "}),"Shift based holiday will override the location based holiday."]})})})]})}),(0,p.jsx)("div",{className:"offcanvas-footer",children:(0,p.jsx)("div",{className:"d-flex align-items-center justify-content-end gap-3",children:(0,p.jsx)(i.Sv,{text:l(s?"btns.update":"btns.submit"),classNames:"btn btn-org-gradient",handleClick:()=>(async()=>{const e=await(0,m.i6)(v.tn,M);if(e.isValid){var a;const e=K(L),l=B(null===M||void 0===M?void 0:M.country),t=B(null===M||void 0===M?void 0:M.state),i=B(null===M||void 0===M?void 0:M.city),d=B(null===M||void 0===M?void 0:M.branch),s=B(null===M||void 0===M?void 0:M.gender),o={name:null===M||void 0===M?void 0:M.name,from_date:h()(null===M||void 0===M?void 0:M.from_date).format("YYYY-MM-DD"),to_date:h()(null===M||void 0===M?void 0:M.to_date).format("YYYY-MM-DD"),country:l,state:t,city:i,branch:d,gender:null!==M&&void 0!==M&&M.gender?s:B(null===_||void 0===_?void 0:_.gender),description:(null===M||void 0===M?void 0:M.description)||"",restricted:null===M||void 0===M?void 0:M.restricted,notify_before_days:null===M||void 0===M||null===(a=M.notify_before_days)||void 0===a?void 0:a.value,is_notify_to_employee:null===M||void 0===M?void 0:M.is_notify_to_employee,is_reprocess_leave:null===M||void 0===M?void 0:M.is_reprocess_leave,holiday_data:e};H({}),y(o),O(),C()}else H(e.errors)})(),isLoading:a})})})]}),u&&(0,p.jsx)("div",{className:"modal-backdrop fade show"})]})};var f=l(39956);l(78737);const j=e=>{const{openModel:a,setOpenModel:l}=e,{sampleDownloadPending:i,sampleDownloadRes:s,sampleDownloadError:n}=(0,d.d4)((e=>e.holiday)),r=(0,d.wA)(),{t:m}=(0,o.K)(),[v,x]=(0,t.useState)({}),[h,y]=(0,t.useState)("");(0,t.useEffect)((()=>{if(!i){if(n)return;s&&200===(null===s||void 0===s?void 0:s.code)&&(window.open(null===s||void 0===s?void 0:s.data,"_blank"),r(u.rK.handleClearHolidayStore("HANDLE_CLEAR_SAMPLE_STORE")))}}),[s,n,i]);return(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{className:"modal fade attendanceViewodal",style:{display:a?"unset !important":"none !important",opacity:a?"unset":"0"},children:(0,p.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:(0,p.jsxs)("div",{className:"modal-content",children:[(0,p.jsxs)("div",{className:"modal-header border-0 pb-0",children:[(0,p.jsx)("h1",{className:"modal-title fs-5 fw-bold text-primary",children:"Upload Holiday"}),(0,p.jsx)("button",{type:"button",className:"btn-close",onClick:()=>{l(!a)}})]}),(0,p.jsxs)("div",{className:"modal-body",children:[(0,p.jsx)("div",{className:"row",children:(0,p.jsx)("div",{className:"form-group col-md-12 text-end py-2",children:(0,p.jsx)("button",{className:"btn btn-secondary float-right ms-5 ",title:"",style:{backgroundColor:"",color:"black"},onClick:()=>{r(u.rK.sampleDownloadRequest())},children:"Download Sample"})})}),(0,p.jsxs)("div",{className:"form-group col-md",children:[(0,p.jsx)(c.JU,{text:m("labels.uploadHoliday"),required:!0}),(0,p.jsx)("input",{type:"file",placeholder:"",className:"is-untouched is-pristine av-invalid form-control mt-2",name:"file",id:"Name",onChange:e=>(e=>{const a=e.target.files[0];y(a)})(e),required:!0})]}),(0,p.jsx)("div",{className:"text-center",children:(0,p.jsx)("button",{type:"button",className:"btn btn-primary gradientBg mt-2 ",onClick:()=>(()=>{const e=new FormData;e.append("file",h),r(u.rK.uploadHolidayRequest(e))})(),children:"Upload Holiday"})})]})]})})}),a&&(0,p.jsx)("div",{className:"modal-backdrop fade show"})]})},b=()=>{const{t:e}=(0,o.K)(),a=(0,d.wA)(),{getAllCountriesListPending:l,getAllCountriesListRes:n,getAllCountriesListError:r,getAllStateFromCountryListPending:c,getAllStateFromCountryListRes:m,getAllStateFromCountryListError:v,getCityListFromStatePending:x,getCityListFromStateRes:h,getCityListFromStateError:b}=(0,d.d4)((e=>e.location)),{getAppConstantDataPending:g,getAppConstantDataRes:_,getAppConstantDataError:N,getDateConstantPending:k,getDateConstantRes:C,getDateConstantError:D}=(0,d.d4)((e=>e.common)),{getAllBranchesRes:S,getAllBranchesPending:A,getAllBranchesError:E}=(0,d.d4)((e=>e.branch)),{getHolidayRes:H,getHolidayPending:L,getHolidayError:R,createHolidayPending:w,createHolidayRes:Y,createHolidayError:M,updateHolidayPending:P,updateHolidayRes:T,updateHolidayError:B,deleteHolidayPending:O,deleteHolidayRes:U,deleteHolidayError:K,uploadHolidayPending:F,uploadHolidayRes:q,uploadHolidayError:G}=(0,d.d4)((e=>e.holiday)),[V,J]=(0,t.useState)(!1),[I,$]=(0,t.useState)(""),[z,Q]=(0,t.useState)(1),[X,W]=(0,t.useState)(!1),[Z,ee]=(0,t.useState)(""),[ae,le]=(0,t.useState)(""),[te,ie]=(0,t.useState)(""),[de,se]=(0,t.useState)(""),[oe,ne]=(0,t.useState)(""),[re,ce]=(0,t.useState)(""),[me,ve]=(0,t.useState)(""),[ue,xe]=(0,t.useState)([]),[he,pe]=(0,t.useState)(!1),ye=e=>{$(e||""),a(u.jU.handleClearGetDateConstantStore("HANDLE_CLEAR_GET_DATE_CONSTANT_STORE")),J(!V)},fe=e=>{e&&ee(e),W(!X)};(0,t.useEffect)((()=>{if(!O){if(K)return void a(u.rK.handleClearHolidayStore("HANDLE_CLEAR_DELETE_HOLIDAY_STORE"));U&&200===(null===U||void 0===U?void 0:U.code)&&(Ne(),a(u.rK.handleClearHolidayStore("HANDLE_CLEAR_DELETE_HOLIDAY_STORE")),fe())}}),[U,O,K]);(0,t.useEffect)((()=>{if(!w){if(M)return void a(u.rK.handleClearHolidayStore("HANDLE_CLEAR_CREATE_HOLIDAY_STORE"));Y&&200===(null===Y||void 0===Y?void 0:Y.code)&&(a(u.rK.handleClearHolidayStore("HANDLE_CLEAR_CREATE_HOLIDAY_STORE")),Ne(),J(!V))}}),[Y,M,w]),(0,t.useEffect)((()=>{if(!P){if(B)return void a(u.rK.handleClearHolidayStore("HANDLE_CLEAR_UPDATE_HOLIDAY_STORE"));T&&200===(null===T||void 0===T?void 0:T.code)&&(a(u.rK.handleClearHolidayStore("HANDLE_CLEAR_UPDATE_HOLIDAY_STORE")),Ne(),J(!V))}}),[T,B,P]);const je=e=>{const a=[];return e&&(null===e||void 0===e||e.map((e=>{a.push((null===e||void 0===e?void 0:e.id)||e)}))),a};(0,t.useEffect)((()=>{ke(),ge(),_e(),Ne()}),[]);const be=e=>{const l=[];e&&(null===e||void 0===e||e.map((e=>{l.push((null===e||void 0===e?void 0:e._id)||e)})));const t={city_id:l||""};a(u.QB.getAllBranchesRequest(t))};(0,t.useEffect)((()=>{if(!A){if(E)return;S&&200===(null===S||void 0===S?void 0:S.code)&&xe(null===S||void 0===S?void 0:S.data)}}),[S,E,A]);const ge=()=>{a(u.jU.getAppConstantDataRequest())};(0,t.useEffect)((()=>{if(!g){if(N)return;_&&200===(null===_||void 0===_?void 0:_.code)&&ne(null===_||void 0===_?void 0:_.data)}}),[_,N,g]);const _e=()=>{a(u.jU.getDateConstantRequest())};(0,t.useEffect)((()=>{if(!k){if(D)return;C&&200===(null===C||void 0===C?void 0:C.code)&&ce(null===C||void 0===C?void 0:C.data)}}),[k,C,D]);const Ne=()=>{a(u.rK.getHolidayRequest())};(0,t.useEffect)((()=>{if(!L){if(R)return;if(H&&200===(null===H||void 0===H?void 0:H.code)){const e=null===H||void 0===H?void 0:H.data;ve(e)}}}),[H,R,L]);const ke=()=>{a(u.pK.getAllCountriesListRequest())};(0,t.useEffect)((()=>{if(!l){if(r)return;if(n&&200===(null===n||void 0===n?void 0:n.code)){const e=null===n||void 0===n?void 0:n.data;le(e)}}}),[n,r,l]);const Ce=e=>{const l={country_id:je(e)||""};a(u.pK.getAllStateFromCountryListRequest(l))};(0,t.useEffect)((()=>{if(!c){if(v)return;m&&200===(null===m||void 0===m?void 0:m.code)&&ie(null===m||void 0===m?void 0:m.data)}}),[m,v,c]);const De=e=>{const l={state_id:je(e)||""};a(u.pK.getCityListFromStateRequest(l))};return(0,t.useEffect)((()=>{if(!x){if(b)return;h&&200===(null===h||void 0===h?void 0:h.code)&&se(null===h||void 0===h?void 0:h.data)}}),[h,b,x]),(0,t.useEffect)((()=>{if(!F){if(G)return;q&&200===(null===q||void 0===q?void 0:q.code)&&(a(u.rK.handleClearHolidayStore("HANDLE_CLEAR_UPLOAD_HOLIDAY_STORE")),pe(!he),Ne())}}),[q,G,F]),(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:"d-flex  justify-content-end ",children:[(0,p.jsx)(i.Sv,{classNames:"btn btn-primary gradientBg me-2",handleClick:()=>pe(!he),text:e("btns.uploadHoliday")}),(0,p.jsx)(i.Sv,{classNames:"btn btn-primary gradientBg",handleClick:()=>ye(),text:e("btns.addHoliday")})]}),(0,p.jsx)(y,{openModel:V,handleOpenClose:ye,handleCreateUpdateHoliday:e=>{I?(e._id=(null===I||void 0===I?void 0:I._id)||(null===I||void 0===I?void 0:I.id),a(u.rK.updateHolidayRequest(e))):a(u.rK.createHolidayRequest(e))},selectedHolidayData:I,allCountriesListData:ae,handleStateCity:(e,a)=>{"country"===a&&(Ce(e),ie([]),se([])),"state"===a?(De(e),se([])):"city"===a&&(be(e),xe([]))},allStateListData:te,allCityList:de,appConstantData:oe,dateConstantData:re,allBranches:ue,getAllStateFromCountryList:Ce,getCityListFromState:De,getAllBranches:be,getAllHoliday:Ne}),(0,p.jsx)(f.A,{setSelectedHolidayData:$,toggleCreateUpdateHolidayModal:ye,currentPage:z,setCurrentPage:Q,allHolidayListData:me,isLoading:L,toggleHolidayDeleteModal:fe,viewType:"admin"}),X&&(0,p.jsx)(s.A,{onApproveReject:e=>{if(e){const e={_id:Z};a(null===u.rK||void 0===u.rK?void 0:u.rK.deleteHolidayRequest(e))}else fe()},isShow:X,desc:e("alerts.deletePopup.desc").replace("$1","Holiday"),btnRightLoading:O,btnTextRight:e("btns.delete"),btnTextLeft:e("btns.cancel")}),he&&(0,p.jsx)(j,{openModel:he,setOpenModel:pe}),F&&(0,p.jsx)(i.L,{isShow:F,size:"lg"})]})})}},35685:(e,a,l)=>{l.d(a,{A:()=>n});l(65043);var t=l(85248);const i=JSON.parse('{"nm":"history","ddd":0,"h":512,"w":512,"meta":{"g":"@lottiefiles/toolkit-js 0.33.2"},"layers":[{"ty":4,"nm":"big","sr":1,"st":0,"op":300,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[105,168,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[256,256,0],"ix":2},"r":{"a":1,"k":[{"o":{"x":0.333,"y":0},"i":{"x":0,"y":1},"s":[0],"t":0},{"s":[360],"t":90}],"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"hd":false,"mn":"ADBE Vector Group","nm":"Group 1","ix":1,"cix":2,"np":2,"it":[{"ty":"sh","bm":0,"hd":false,"mn":"ADBE Vector Shape - Group","nm":"Path 1","ix":1,"d":1,"ks":{"a":0,"k":{"c":false,"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-21,31.5],[-21,-31.5]]},"ix":2}},{"ty":"st","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Stroke","nm":"Stroke 1","lc":2,"lj":2,"ml":1,"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":42,"ix":5},"c":{"a":0,"k":[0.1137,0.3529,0.498],"ix":3}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[126,136.5],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]}],"ind":1},{"ty":4,"nm":"small","sr":1,"st":0,"op":300,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[126,136.5,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[277,224.5,0],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"hd":false,"mn":"ADBE Vector Group","nm":"Group 1","ix":1,"cix":2,"np":2,"it":[{"ty":"sh","bm":0,"hd":false,"mn":"ADBE Vector Shape - Group","nm":"Path 1","ix":1,"d":1,"ks":{"a":0,"k":{"c":false,"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[21,31.5],[-21,31.5]]},"ix":2}},{"ty":"st","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Stroke","nm":"Stroke 1","lc":2,"lj":2,"ml":1,"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":42,"ix":5},"c":{"a":0,"k":[0.1137,0.3529,0.498],"ix":3}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[126,136.5],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]}],"ind":2},{"ty":4,"nm":"Layer 1 Outlines","sr":1,"st":0,"op":300,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[294,294,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[256,256,0],"ix":2},"r":{"a":1,"k":[{"o":{"x":0.333,"y":0},"i":{"x":0,"y":1},"s":[0],"t":0},{"s":[-360],"t":90}],"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"hd":false,"mn":"ADBE Vector Group","nm":"Group 1","ix":1,"cix":2,"np":2,"it":[{"ty":"sh","bm":0,"hd":false,"mn":"ADBE Vector Shape - Group","nm":"Path 1","ix":1,"d":1,"ks":{"a":0,"k":{"c":false,"i":[[0,0],[-69.916,0],[0,-104.383],[104.383,0],[0,104.383]],"o":[[32.693,-56.438],[104.383,0],[0,104.383],[-104.382,0],[0,0]],"v":[[-163.509,-94.5],[0,-189],[189,0],[0,189],[-189,0]]},"ix":2}},{"ty":"st","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Stroke","nm":"Stroke 1","lc":2,"lj":2,"ml":1,"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":42,"ix":5,"x":"var $bm_rt;\\nvar index, normalStroke;\\nindex = transform.scale[0];\\nnormalStroke = 42;\\n$bm_rt = $bm_div(normalStroke, $bm_div(index, 100));"},"c":{"a":0,"k":[0.1137,0.3529,0.498],"ix":3}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[294,294],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]},{"ty":"gr","bm":0,"hd":false,"mn":"ADBE Vector Group","nm":"Group 2","ix":2,"cix":2,"np":2,"it":[{"ty":"sh","bm":0,"hd":false,"mn":"ADBE Vector Shape - Group","nm":"Path 1","ix":1,"d":1,"ks":{"a":1,"k":[{"o":{"x":0.333,"y":0},"i":{"x":0.833,"y":0.833},"s":[{"c":false,"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-47.25,-47.25],[-47.25,47.25],[47.25,47.25]]}],"t":0},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[{"c":false,"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-50.492,-17.426],[-47.25,47.25],[17.426,44.008]]}],"t":6},{"o":{"x":0.167,"y":0.167},"i":{"x":0.667,"y":1},"s":[{"c":false,"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-50.492,-17.426],[-47.25,47.25],[17.426,44.008]]}],"t":50},{"s":[{"c":false,"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-47.25,-47.25],[-47.25,47.25],[47.25,47.25]]}],"t":90}],"ix":2}},{"ty":"st","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Stroke","nm":"Stroke 1","lc":2,"lj":2,"ml":1,"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":42,"ix":5,"x":"var $bm_rt;\\nvar index, normalStroke;\\nindex = transform.scale[0];\\nnormalStroke = 42;\\n$bm_rt = $bm_div(normalStroke, $bm_div(index, 100));"},"c":{"a":0,"k":[0.1137,0.3529,0.498],"ix":3}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[175.875,152.25],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]}],"ind":3}],"v":"5.7.13","fr":60,"op":211,"ip":0,"assets":[]}');var d=l(92250),s=l(90607),o=l(70579);const n=e=>{let{title:a,desc:l="",onApproveReject:n,isShow:r,btnLeftLoading:c=!1,btnRightLoading:m=!1,btnTextLeft:v,btnTextRight:u}=e;const{t:x}=(0,s.K)();return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"modal fade attendanceViewodal",id:"sureMdl",style:{display:r?"unset !important":"none !important",opacity:r?"unset":"0"},children:(0,o.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:(0,o.jsx)("div",{className:"modal-content rounded-1 border-0",children:(0,o.jsx)("div",{className:"modal-body ",children:(0,o.jsxs)("div",{className:"text-center suremodalCon",children:[(0,o.jsx)("div",{className:"d-flex justify-content-center",children:(0,o.jsx)(t.A,{lottieUrl:i,Lottiestyle:{width:"90px",height:"90px"}})}),(0,o.jsx)("h6",{className:"fw-semibold mb-2",children:a||x("alerts.deletePopup.title")}),(0,o.jsx)("p",{className:"mb-5 px-4 text-center",children:l||""}),(0,o.jsxs)("div",{className:"d-flex justify-content-center gap-3",children:[(0,o.jsx)(d.Sv,{classNames:"btn btn-danger",isLoading:c,text:v||x("btns.reject"),handleClick:()=>n(!1)}),(0,o.jsx)(d.Sv,{classNames:"btn btn-success",isLoading:m,text:u||x("btns.confirm"),handleClick:()=>n(!0)})]})]})})})})}),r&&(0,o.jsx)("div",{className:"modal-backdrop fade show"})]})}}}]);
//# sourceMappingURL=269.a85adc0f.chunk.js.map