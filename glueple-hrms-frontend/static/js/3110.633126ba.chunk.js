"use strict";(self.webpackChunkglueple_user=self.webpackChunkglueple_user||[]).push([[3110],{96816:(e,l,i)=>{i.d(l,{A:()=>a});i(65043);var d=i(70579);const a=()=>(0,d.jsx)("div",{children:(0,d.jsxs)("svg",{version:"1.1",id:"Layer_1",x:0,y:0,viewBox:"0 0 512 512",xmlSpace:"preserve",className:"icon icon-xlg me-2",style:{height:"23px",width:"23px",cursor:"pointer"},children:[(0,d.jsx)("circle",{id:"Oval-3",opacity:".1",fill:"#2B76D2",cx:256,cy:256,r:256}),(0,d.jsx)("path",{fill:"#2B76D2",d:"M277.3 362.7c-5.3 0-10.6-2-14.7-5.9l-85.3-81.5c-4.1-3.9-6.5-9.3-6.6-15-.1-5.7 2-11.1 5.9-15.2l85.3-89.1c8.1-8.5 21.7-8.8 30.2-.7 8.5 8.1 8.8 21.6.7 30.2l-70.6 73.7 69.9 66.8c8.5 8.1 8.8 21.6.7 30.1-4.2 4.4-9.8 6.6-15.5 6.6z"})]})})},83110:(e,l,i)=>{i.r(l),i.d(l,{default:()=>p});var d=i(65043),a=i(22166),n=i(96816),t=i(35475),s=i(45531),o=i(85831),r=i(90607),c=i(49985),v=(i(56462),i(94174)),u=i(94140),m=i(70579);const p=()=>{const{t:e}=(0,r.K)(),l=(0,a.wA)(),{selectedEmployeeData:i,addEmployeeInvestmentPending:p,addEmployeeInvestmentRes:x,addEmployeeInvestmentError:_,updateEmployeeInvestmentPending:h,updateEmployeeInvestmentRes:g,updateEmployeeInvestmentError:j,getEmployeeInvestmentPending:y,getEmployeeInvestmentRes:f,getEmployeeInvestmentError:N,getAllInvestmentCategoryDetailsPending:b,getAllInvestmentCategoryDetailsRes:E,getAllInvestmentCategoryDetailsError:I}=(0,a.d4)((e=>e.payroll)),[C,w]=(0,d.useState)(""),[k,A]=(0,d.useState)("is_eligible_for_old"),[S,R]=(0,d.useState)(""),[D,T]=(0,d.useState)([]),L=e=>{S?(e._id=null===S||void 0===S?void 0:S._id,l(v.Vg.updateEmployeeInvestmentRequest(e))):l(v.Vg.addEmployeeInvestmentRequest(e))};(0,d.useEffect)((()=>{if(!p){if(_)return void l(v.Vg.handleClearPayrollStore("HANDLE_CLEAR_ADD_EMPLOYEE_INVESTMENT_STORE"));x&&200===(null===x||void 0===x?void 0:x.code)&&l(v.Vg.handleClearPayrollStore("HANDLE_CLEAR_ADD_EMPLOYEE_INVESTMENT_STORE"))}}),[x,_,p]),(0,d.useEffect)((()=>{if(!h){if(j)return void l(v.Vg.handleClearPayrollStore("HANDLE_CLEAR_UPDATE_EMPLOYEE_INVESTMENT_STORE"));g&&200===(null===g||void 0===g?void 0:g.code)&&l(v.Vg.handleClearPayrollStore("HANDLE_CLEAR_UPDATE_EMPLOYEE_INVESTMENT_STORE"))}}),[g,j,h]),(0,d.useEffect)((()=>{F(),P()}),[]);const P=()=>{const e={_id:null===i||void 0===i?void 0:i._id};l(v.Vg.getEmployeeInvestmentRequest(e))};(0,d.useEffect)((()=>{if(!y){if(N)return;if(f&&200===(null===f||void 0===f?void 0:f.code)){var e,l;let i=[];C&&(null===C||void 0===C?void 0:C.length)>0&&(null===C||void 0===C||C.map((e=>{var l,d,a;let n=e;null===f||void 0===f||null===(l=f.data)||void 0===l||null===(d=l[0])||void 0===d||null===(a=d.section_6a_declarations)||void 0===a||a.map((l=>{T((e=>[...e,null===l||void 0===l?void 0:l._id])),(null===e||void 0===e?void 0:e._id)===(null===l||void 0===l?void 0:l._id)&&(n="dropdown"===(null===l||void 0===l?void 0:l.input_type)?{...n,data:null===l||void 0===l?void 0:l.sub_category}:{...n,sub_category:null===l||void 0===l?void 0:l.sub_category})})),i.push(n)}))),w(i),A(null===f||void 0===f||null===(e=f.data)||void 0===e||null===(l=e[0])||void 0===l?void 0:l.tax_regime),R(null===f||void 0===f?void 0:f.data)}}}),[f,N,y]);const F=e=>{const i={status:e||k};l(v.Vg.getAllInvestmentCategoryDetailsRequest(i))};(0,d.useEffect)((()=>{if(!b){if(I)return;if(E&&200===(null===E||void 0===E?void 0:E.code)){var e;let l=[];null===E||void 0===E||null===(e=E.data)||void 0===e||e.forEach((e=>{"dropdown"===(null===e||void 0===e?void 0:e.input_type)?l.push({...e,data:[{selected_value:"",input_value:""}]}):null===l||void 0===l||l.push(e)})),w(l)}}}),[E,I,b]);const V=(e,l,i)=>{"add"===e?w((e=>{var l;let d=[...e];return d[i]={...d[i],data:[...null===(l=d[i])||void 0===l?void 0:l.data,{selected_value:"",input_value:""}]},d})):"delete"===e&&w((e=>{let d=[...e],a={...d[i]};return a.data=a.data.filter(((e,i)=>i!==l)),d[i]=a,d}))},O=(e,l,i)=>{const{name:d,value:a}=e.target;w((e=>e.map(((e,n)=>n!==i?e:{...e,data:e.data.map(((i,n)=>{if(n!==l)return i;if("selected_value"===d){var t;const l=parseInt(a),d=null===e||void 0===e||null===(t=e.sub_category)||void 0===t?void 0:t[l];return{...i,...d,selected_value:l}}return{...i,[d]:a}}))}))))},M=(e,l)=>{var i,d;return(0,m.jsx)(m.Fragment,{children:"dropdown"===(null===e||void 0===e?void 0:e.input_type)?(0,m.jsx)(m.Fragment,{children:(0,m.jsx)("div",{className:"row",children:(null===e||void 0===e?void 0:e.data.length)>0&&(null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.map(((i,d)=>{var a,n,t;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:"col-md-7 form-group ",children:(0,m.jsxs)("select",{value:null!==(a=i.selected_value)&&void 0!==a?a:"",className:"form-control",name:"selected_value",onChange:e=>O(e,d,l),children:[(0,m.jsx)("option",{value:"",disabled:!0,children:"Select an Option"}),null===e||void 0===e||null===(n=e.sub_category)||void 0===n?void 0:n.map(((e,l)=>(0,m.jsx)("option",{value:l,children:null===e||void 0===e?void 0:e.sub_category_name},l)))]})}),(0,m.jsx)("div",{className:"col-md-2"}),(0,m.jsx)("div",{className:"col-md-3 form-group  ",children:(0,m.jsxs)("div",{className:"input-group ",children:["number"===i.input_type&&(0,m.jsx)("span",{className:"input-group-text",id:"basic-addon1",children:(0,c.Fc)("")}),(0,m.jsx)(s.pd,{type:null===i||void 0===i?void 0:i.input_type,value:null===i||void 0===i?void 0:i.input_value,name:"input_value",onChange:e=>O(e,d,l)})]})}),(null===e||void 0===e?void 0:e.data.length)>1&&(0,m.jsxs)("div",{className:"text-danger d-flex justify-content-end  mb-1",style:{cursor:"pointer"},onClick:()=>V("delete",d,l),children:[(0,m.jsx)(s.In,{className:"bi bi-trash-fill me-1"}),(0,m.jsx)(s.L1,{className:"mt-1",text:"Remove"})]}),(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.length)-1===d&&(0,m.jsxs)("div",{className:"text-primary mt-2",style:{cursor:"pointer"},onClick:()=>V("add",d,l),children:[(0,m.jsx)(s.In,{className:"bi bi-plus-circle-fill me-1"}),(0,m.jsx)(s.L1,{text:"Add"})]})]})})))})}):null===e||void 0===e||null===(d=e.sub_category)||void 0===d?void 0:d.map(((e,i)=>(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("div",{className:"row",children:[(0,m.jsx)("div",{className:"col-md-9 form-group mb-3",children:(0,m.jsx)("p",{className:"loan-para",children:e.sub_category_name})}),(0,m.jsx)("div",{className:"col-md-3",children:(0,m.jsx)("div",{className:"form-group mb-3",children:B(e,i,l)})})]},`${i}`)})))})},B=(e,l,i)=>{switch(null===e||void 0===e?void 0:e.input_type){case"checkbox":return(0,m.jsx)("div",{className:"col-md-9",children:(0,m.jsx)("div",{className:"form-group mb-3",children:(0,m.jsx)(s.P_,{checked:null===e||void 0===e?void 0:e.input_value,handleChange:e=>q(e,l,i),name:"input_value"},"is_active")})});case"number":case"text":return(0,m.jsxs)("div",{className:"input-group mb-3",children:["number"===(null===e||void 0===e?void 0:e.input_type)&&(0,m.jsx)("span",{className:"input-group-text",id:"basic-addon1",children:(0,c.Fc)("")}),(0,m.jsx)(s.pd,{type:null===e||void 0===e?void 0:e.input_type,value:(null===e||void 0===e?void 0:e.input_value)||"",name:"input_value",onChange:e=>q(e,l,i)})]});default:return null}},q=(e,l,i,d)=>{const{name:a,value:n,type:t,checked:s}=e.target,o="checkbox"===t?s:n;w((e=>e.map(((e,d)=>d===i?{...e,sub_category:null===e||void 0===e?void 0:e.sub_category.map(((e,i)=>i===l?{...e,[a]:o}:e))}:e))))},Y=e=>{A(e),F(e)};return(0,m.jsxs)("div",{className:"cardBox  myRequest p-4",children:[(0,m.jsxs)("div",{className:"d-flex",children:[(0,m.jsx)("div",{children:(0,m.jsx)(t.N_,{to:"/payroll-employees/employee-detail",children:(0,m.jsx)(n.A,{})})}),(0,m.jsx)("div",{children:(0,m.jsxs)("h5",{children:[null===i||void 0===i?void 0:i.name," IT Declaration"]})})]}),(0,m.jsx)("hr",{style:{margin:"0px"}}),(0,m.jsxs)("div",{className:"mt-3 col-12 it-declaration-body",children:[(0,m.jsxs)("div",{className:"alert ",role:"alert",style:{background:"#F7F8FF"},children:[(0,m.jsx)(s.In,{className:"bi bi-info-circle-fill",style:{color:"rgb(43, 118, 210)"}})," Enter your planned investment declarations here and choose the desired regime in the following page."]}),(0,m.jsx)("div",{children:(0,m.jsxs)("div",{className:"d-flex gap-3",children:[(0,m.jsx)("div",{className:"cardBox it-card "+("is_eligible_for_old"===k?"active":""),children:(0,m.jsx)(s.hI,{htmlFor:"is_eligible_for_old",text:"Old Tax Regime",name:"taxType",value:"is_eligible_for_old",checked:"is_eligible_for_old"===k,handleChange:e=>Y(e.target.value),radioClass:"mt-2"})}),(0,m.jsx)("div",{className:"cardBox it-card "+("is_eligible_for_new"===k?"active":""),children:(0,m.jsx)(s.hI,{htmlFor:"is_eligible_for_new",text:"New Tax Regime",name:"taxType",value:"is_eligible_for_new",checked:"is_eligible_for_new"===k,handleChange:e=>Y(e.target.value),radioClass:"mt-2"})})]})}),(0,m.jsxs)("div",{className:"mt-4",children:[(0,m.jsxs)("div",{className:"d-flex justify-content-between it-header",children:[(0,m.jsx)("div",{children:(0,m.jsx)(s.JU,{text:"Particulars",className:"text-dark"})}),(0,m.jsx)("div",{children:(0,m.jsx)(s.JU,{text:"Declared Amount",className:"text-dark"})})]}),(0,m.jsx)("hr",{style:{margin:"0px"}}),(0,m.jsx)("div",{className:"it-accordions mt-3",children:(0,m.jsx)("div",{id:"accordion",children:b?(0,m.jsx)("div",{className:"d-flex justify-content-center",children:(0,m.jsx)(o.L,{isShow:b,size:"xl"})}):C&&(null===C||void 0===C?void 0:C.length)>0?null===C||void 0===C?void 0:C.map(((e,l)=>(0,m.jsxs)("div",{className:"cardBox p-0 mb-3",children:[(0,m.jsxs)("div",{className:"d-flex justify-content-between p-3 "+(null!==D&&void 0!==D&&D.includes(e._id)?"acc-header":""),id:`heading-${l}`,children:[(0,m.jsx)("h5",{className:"mb-0",children:null===e||void 0===e?void 0:e.category}),(0,m.jsxs)("div",{className:"d-flex",children:[(0,m.jsx)(s.L1,{className:"form-check-label mt-1 pe-4",text:null!==D&&void 0!==D&&D[e._id]?"Yes":"No"}),(0,m.jsx)("div",{className:"form-check form-switch",children:(0,m.jsx)(s.pd,{className:"form-check-input",type:"checkbox",id:`switch-${e._id}`,style:{fontSize:"20px"},name:e._id,onChange:l=>((e,l)=>{if(e.target.checked)T((e=>[...e,l._id]));else{T((e=>e.filter((e=>e!==(null===l||void 0===l?void 0:l._id)))));let e=[];e="dropdown"===(null===l||void 0===l?void 0:l.input_type)?null===C||void 0===C?void 0:C.map((e=>(null===e||void 0===e?void 0:e._id)===(null===l||void 0===l?void 0:l._id)?{...e,data:[{selected_value:"",input_value:""}]}:e)):null===C||void 0===C?void 0:C.map((e=>{var i;return(null===e||void 0===e?void 0:e._id)===(null===l||void 0===l?void 0:l._id)?{...e,sub_category:null===e||void 0===e||null===(i=e.sub_category)||void 0===i?void 0:i.map((e=>({...e,input_value:""})))}:e})),w(e)}})(l,e),checked:null===D||void 0===D?void 0:D.includes(e._id)})})]})]}),(null===D||void 0===D?void 0:D.includes(e._id))&&(0,m.jsxs)("div",{className:"card-body",children:[M(e,l),(null===e||void 0===e?void 0:e.alert)&&(0,m.jsxs)("div",{className:"mt-3  alert alert-warning",role:"alert",style:{padding:"11px",marginBottom:"0px"},children:[(0,m.jsx)("span",{className:"text-danger",children:"Note:"})," ",null===e||void 0===e?void 0:e.alert]})]})]},e._id))):!b&&(0,m.jsxs)("div",{className:"d-flex justify-content-center",children:[" ",(0,m.jsx)(u.A,{})]})})})]})]}),(0,m.jsx)("div",{className:"d-flex justify-content-end",children:C&&(null===C||void 0===C?void 0:C.length)>0&&(0,m.jsx)(o.Sv,{text:e(S?"btns.update":"btns.submit"),classNames:"btn btn-primary",handleClick:()=>(()=>{let e=[];C.map((l=>{if(null!==D&&void 0!==D&&D.includes(null===l||void 0===l?void 0:l._id)){let a=[];var i,d;"dropdown"===(null===l||void 0===l?void 0:l.input_type)?(null===l||void 0===l||null===(i=l.data)||void 0===i||i.map((e=>{""!==(null===e||void 0===e?void 0:e.input_value)&&(null===a||void 0===a||a.push(e))})),l.sub_category=[a],delete l.data):(null===l||void 0===l||null===(d=l.sub_category)||void 0===d||d.map((e=>{""!==(null===e||void 0===e?void 0:e.input_value)&&(null===a||void 0===a||a.push(e))})),l.sub_category=a),e.push(l)}}));const l={employee_id:null===i||void 0===i?void 0:i._id,tax_regime:k,section_6a_declarations:e};L(l)})(),isLoading:S?h:p})})]})}}}]);
//# sourceMappingURL=3110.633126ba.chunk.js.map