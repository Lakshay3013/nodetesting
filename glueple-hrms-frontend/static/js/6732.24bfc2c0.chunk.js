"use strict";(self.webpackChunkglueple_user=self.webpackChunkglueple_user||[]).push([[6732],{35685:(e,a,l)=>{l.d(a,{A:()=>o});l(65043);var s=l(85248);const d=JSON.parse('{"nm":"history","ddd":0,"h":512,"w":512,"meta":{"g":"@lottiefiles/toolkit-js 0.33.2"},"layers":[{"ty":4,"nm":"big","sr":1,"st":0,"op":300,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[105,168,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[256,256,0],"ix":2},"r":{"a":1,"k":[{"o":{"x":0.333,"y":0},"i":{"x":0,"y":1},"s":[0],"t":0},{"s":[360],"t":90}],"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"hd":false,"mn":"ADBE Vector Group","nm":"Group 1","ix":1,"cix":2,"np":2,"it":[{"ty":"sh","bm":0,"hd":false,"mn":"ADBE Vector Shape - Group","nm":"Path 1","ix":1,"d":1,"ks":{"a":0,"k":{"c":false,"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-21,31.5],[-21,-31.5]]},"ix":2}},{"ty":"st","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Stroke","nm":"Stroke 1","lc":2,"lj":2,"ml":1,"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":42,"ix":5},"c":{"a":0,"k":[0.1137,0.3529,0.498],"ix":3}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[126,136.5],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]}],"ind":1},{"ty":4,"nm":"small","sr":1,"st":0,"op":300,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[126,136.5,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[277,224.5,0],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"hd":false,"mn":"ADBE Vector Group","nm":"Group 1","ix":1,"cix":2,"np":2,"it":[{"ty":"sh","bm":0,"hd":false,"mn":"ADBE Vector Shape - Group","nm":"Path 1","ix":1,"d":1,"ks":{"a":0,"k":{"c":false,"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[21,31.5],[-21,31.5]]},"ix":2}},{"ty":"st","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Stroke","nm":"Stroke 1","lc":2,"lj":2,"ml":1,"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":42,"ix":5},"c":{"a":0,"k":[0.1137,0.3529,0.498],"ix":3}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[126,136.5],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]}],"ind":2},{"ty":4,"nm":"Layer 1 Outlines","sr":1,"st":0,"op":300,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[294,294,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[256,256,0],"ix":2},"r":{"a":1,"k":[{"o":{"x":0.333,"y":0},"i":{"x":0,"y":1},"s":[0],"t":0},{"s":[-360],"t":90}],"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"hd":false,"mn":"ADBE Vector Group","nm":"Group 1","ix":1,"cix":2,"np":2,"it":[{"ty":"sh","bm":0,"hd":false,"mn":"ADBE Vector Shape - Group","nm":"Path 1","ix":1,"d":1,"ks":{"a":0,"k":{"c":false,"i":[[0,0],[-69.916,0],[0,-104.383],[104.383,0],[0,104.383]],"o":[[32.693,-56.438],[104.383,0],[0,104.383],[-104.382,0],[0,0]],"v":[[-163.509,-94.5],[0,-189],[189,0],[0,189],[-189,0]]},"ix":2}},{"ty":"st","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Stroke","nm":"Stroke 1","lc":2,"lj":2,"ml":1,"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":42,"ix":5,"x":"var $bm_rt;\\nvar index, normalStroke;\\nindex = transform.scale[0];\\nnormalStroke = 42;\\n$bm_rt = $bm_div(normalStroke, $bm_div(index, 100));"},"c":{"a":0,"k":[0.1137,0.3529,0.498],"ix":3}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[294,294],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]},{"ty":"gr","bm":0,"hd":false,"mn":"ADBE Vector Group","nm":"Group 2","ix":2,"cix":2,"np":2,"it":[{"ty":"sh","bm":0,"hd":false,"mn":"ADBE Vector Shape - Group","nm":"Path 1","ix":1,"d":1,"ks":{"a":1,"k":[{"o":{"x":0.333,"y":0},"i":{"x":0.833,"y":0.833},"s":[{"c":false,"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-47.25,-47.25],[-47.25,47.25],[47.25,47.25]]}],"t":0},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[{"c":false,"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-50.492,-17.426],[-47.25,47.25],[17.426,44.008]]}],"t":6},{"o":{"x":0.167,"y":0.167},"i":{"x":0.667,"y":1},"s":[{"c":false,"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-50.492,-17.426],[-47.25,47.25],[17.426,44.008]]}],"t":50},{"s":[{"c":false,"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-47.25,-47.25],[-47.25,47.25],[47.25,47.25]]}],"t":90}],"ix":2}},{"ty":"st","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Stroke","nm":"Stroke 1","lc":2,"lj":2,"ml":1,"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":42,"ix":5,"x":"var $bm_rt;\\nvar index, normalStroke;\\nindex = transform.scale[0];\\nnormalStroke = 42;\\n$bm_rt = $bm_div(normalStroke, $bm_div(index, 100));"},"c":{"a":0,"k":[0.1137,0.3529,0.498],"ix":3}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[175.875,152.25],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]}],"ind":3}],"v":"5.7.13","fr":60,"op":211,"ip":0,"assets":[]}');var i=l(92250),n=l(90607),t=l(70579);const o=e=>{let{title:a,desc:l="",onApproveReject:o,isShow:r,btnLeftLoading:c=!1,btnRightLoading:u=!1,btnTextLeft:m,btnTextRight:v}=e;const{t:x}=(0,n.K)();return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"modal fade attendanceViewodal",id:"sureMdl",style:{display:r?"unset !important":"none !important",opacity:r?"unset":"0"},children:(0,t.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:(0,t.jsx)("div",{className:"modal-content rounded-1 border-0",children:(0,t.jsx)("div",{className:"modal-body ",children:(0,t.jsxs)("div",{className:"text-center suremodalCon",children:[(0,t.jsx)("div",{className:"d-flex justify-content-center",children:(0,t.jsx)(s.A,{lottieUrl:d,Lottiestyle:{width:"90px",height:"90px"}})}),(0,t.jsx)("h6",{className:"fw-semibold mb-2",children:a||x("alerts.deletePopup.title")}),(0,t.jsx)("p",{className:"mb-5 px-4 text-center",children:l||""}),(0,t.jsxs)("div",{className:"d-flex justify-content-center gap-3",children:[(0,t.jsx)(i.Sv,{classNames:"btn btn-danger",isLoading:c,text:m||x("btns.reject"),handleClick:()=>o(!1)}),(0,t.jsx)(i.Sv,{classNames:"btn btn-success",isLoading:u,text:v||x("btns.confirm"),handleClick:()=>o(!0)})]})]})})})})}),r&&(0,t.jsx)("div",{className:"modal-backdrop fade show"})]})}},56732:(e,a,l)=>{l.r(a),l.d(a,{default:()=>R});var s=l(65043),d=l(70579);const i=e=>{let{cardData:a}=e;return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("div",{className:"cardBox leaveAppli h-100 mb-4",children:(0,d.jsx)("div",{className:"row",children:(0,d.jsx)("div",{className:"col-12 selectModal position-relative z-1",children:(0,d.jsx)("div",{className:"row px-md-1 ",children:a&&(null===a||void 0===a?void 0:a.length)>0&&a.map((e=>(0,d.jsx)("div",{className:"col-md-2 px-md-2 mb-3",onClick:()=>null===e||void 0===e?void 0:e.onClickFunc(null===e||void 0===e?void 0:e.id),children:(0,d.jsxs)("span",{className:"totalBx h-100",children:[(0,d.jsx)("figure",{children:(0,d.jsx)("img",{src:null===e||void 0===e?void 0:e.imgUrl,alt:"",width:50})}),(0,d.jsx)("h3",{className:"fw-bolder my-0",children:null===e||void 0===e?void 0:e.name}),(0,d.jsx)("img",{src:"images/firstlineBlue.svg",className:"cornerLine",alt:"",width:95})]})},null===e||void 0===e?void 0:e.id)))})})})})})};var n=l(26362),t=l(49985);const o=e=>{const{currentPage:a,setCurrentPage:l,earningData:i,handleToggleModals:o}=e,r=(0,s.useMemo)((()=>({sn:(e,a)=>(0,d.jsx)("span",{children:a+1}),is_active:e=>(0,d.jsx)("span",{className:`badge ${e.is_active?(0,t.XN)("active"):(0,t.XN)("inactive")}`,children:e.is_active?"Active":"Inactive"}),action:e=>(0,d.jsxs)("div",{className:"btn-group actionDrp",children:[(0,d.jsx)("button",{type:"button",className:"btn dropdown-toggle-split","data-bs-toggle":"dropdown","aria-expanded":"false",children:(0,d.jsx)("i",{className:"bi bi-three-dots-vertical"})}),(0,d.jsx)("ul",{className:"dropdown-menu",children:(0,d.jsx)("li",{children:(0,d.jsx)("span",{className:"dropdown-item",onClick:()=>o("add_earnings",e),children:"Update"})})})]})})),[i,a]);return(0,d.jsx)("div",{children:(0,d.jsx)(n.Ak,{data:null===i||void 0===i?void 0:i.data,fields:[{key:"sn",label:"S.N"},{key:"payslip_name",label:"Payslip Name"},{key:"name",label:"Name"},{key:"value",label:"Value"},{key:"value_in",label:"Calculation Type"},{key:"is_active",label:"Status"},{key:"action",label:"Action"}],pagination:!0,currentPage:a,setCurrentPage:l,totalPages:null===i||void 0===i?void 0:i.totalPages,isHeader:!1,tableStyle:{padding:"0px",boxShadow:"none"},scopedSlots:r})})},r=e=>{const{currentPage:a,setCurrentPage:l,deductionsData:i,handleToggleModals:o}=e,r=(0,s.useMemo)((()=>({sn:(e,a)=>(0,d.jsx)("span",{children:a+1}),include_in_ctc:e=>(0,d.jsx)("span",{className:`badge ${e.include_in_ctc?(0,t.XN)("active"):(0,t.XN)("inactive")}`,children:e.include_in_ctc?"Active":"Inactive"}),is_active:e=>(0,d.jsx)("span",{className:`badge ${e.is_active?(0,t.XN)("active"):(0,t.XN)("inactive")}`,children:e.is_active?"Active":"Inactive"}),action:e=>(0,d.jsxs)("div",{className:"btn-group actionDrp",children:[(0,d.jsx)("button",{type:"button",className:"btn dropdown-toggle-split","data-bs-toggle":"dropdown","aria-expanded":"false",children:(0,d.jsx)("i",{className:"bi bi-three-dots-vertical"})}),(0,d.jsx)("ul",{className:"dropdown-menu",children:(0,d.jsx)("li",{children:(0,d.jsx)("span",{className:"dropdown-item",onClick:()=>o("deduction",e),children:"Update"})})})]})})),[i,a]);return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(n.Ak,{data:null===i||void 0===i?void 0:i.data,fields:[{key:"sn",label:"S.N"},{key:"payslip_name",label:"Payslip Name"},{key:"name",label:"Name"},{key:"value",label:"Value"},{key:"value_in",label:"Calculation Type"},{key:"is_active",label:"Status"},{key:"action",label:"Action"}],pagination:!0,currentPage:a,setCurrentPage:l,totalPages:null===i||void 0===i?void 0:i.totalPages,isHeader:!1,tableStyle:{padding:"0px",boxShadow:"none"},scopedSlots:r})})},c=e=>{const{handleToggleModals:a,earningData:l,deductionsData:s}=e,i=[{name:"Earnings",onClickFun:e=>t(e),id:"earnings"},{name:"Deductions",onClickFun:e=>t(e),id:"deductions"}],t=e=>{};return(0,d.jsx)("div",{children:(0,d.jsxs)("div",{className:"cardBox myRequest mb-3 employeeHistory",children:[(0,d.jsxs)("div",{className:"cardHead  justify-content-between",children:[(0,d.jsxs)("div",{className:"d-flex",children:[(0,d.jsx)("img",{src:"/images/myrequest-icon.svg",alt:"",width:"35"}),(0,d.jsx)("h3",{className:"ms-2 mt-2",children:"Salary Component"})]}),(0,d.jsx)("div",{children:(0,d.jsxs)("div",{className:"dropdown payrollSetting",children:[(0,d.jsx)("button",{className:"btn btn-primary",type:"button","data-bs-toggle":"dropdown","aria-expanded":"true",children:"Add Component"}),(0,d.jsxs)("ul",{className:"dropdown-menu dropdownLeft","data-popper-placement":"top-end",children:[(0,d.jsx)("li",{className:"dropdown-item",onClick:()=>a("add_earnings"),children:(0,d.jsx)("span",{children:"Add Earnings"})}),(0,d.jsx)("li",{className:"dropdown-item",onClick:()=>a("deduction"),children:(0,d.jsx)("span",{children:"Deduction"})})]})]})})]}),(0,d.jsx)(n.QE,{tabs:i,type:"employeeHistory"}),(0,d.jsxs)("div",{className:"tab-content mykpiMain",children:[(0,d.jsx)("div",{className:"tab-pane fade active show",id:"earnings",children:(0,d.jsx)(o,{earningData:l,handleToggleModals:a})}),(0,d.jsx)("div",{className:"tab-pane fade",id:"deductions",children:(0,d.jsx)(r,{deductionsData:s,handleToggleModals:a})})]})]})})};var u=l(68939),m=l(92250),v=l(56462),x=l(90607),p=l(52027);const h=e=>{let{earningRuleData:a,deleteEarningRule:l,editEarningRule:i,rules:t}=e;const o=(0,s.useMemo)((()=>({sn:(e,a)=>(0,d.jsx)("span",{children:a+1}),action:(e,a)=>(0,d.jsxs)("div",{children:[t&&t.length>0&&(0,d.jsx)("span",{onClick:()=>i(e,a),className:"border text-white bg-primary p-2 rounded",style:{cursor:"pointer"},children:(0,d.jsx)(u.In,{className:"fa fa-edit"})}),(0,d.jsx)("span",{onClick:()=>l(a),className:"border text-white bg-danger p-2 rounded",style:{cursor:"pointer"},children:(0,d.jsx)(u.In,{className:"fa fa-trash"})})]})})),[a]);return(0,d.jsxs)("div",{children:[(0,d.jsx)(n.Ak,{data:a,fields:[{key:"sn",label:"S.N"},{key:"from",label:"From"},{key:"to",label:"to"},{key:"amount",label:"Amount/Formula"},{key:"action",label:"Action"}],totalPages:null===a||void 0===a?void 0:a.totalPages,isHeader:!1,tableStyle:{padding:"0px",boxShadow:"none",border:"1px solid #F5F5F5"},scopedSlots:o}),(0,d.jsx)("hr",{})]})};var g=l(22166);const y=e=>{(0,g.wA)();const{getAllEarningTypeRes:a}=(0,g.d4)((e=>e.payroll)),{toggleEarningRulesFormula:l,allLeaveConstantData:i,setEarningRulesData:n}=e,{t:t}=(0,x.K)(),[o,r]=(0,s.useState)({brackets:"",earningType:"",operators:""}),[c,p]=(0,s.useState)(""),[h,y]=(0,s.useState)(!1),b=(e,a)=>{const l=a,s=e;r((e=>({...e,[l]:s}))),y(!1)};return(0,d.jsx)("div",{className:"border p-2",style:{backgroundColor:"#DCDCDC"},children:(0,d.jsxs)("div",{className:"p-3",style:{backgroundColor:"white"},children:[(0,d.jsxs)("div",{className:"header ps-2 d-flex justify-content-between",children:[(0,d.jsx)("h5",{className:"offcanvas-title  fs-5 fw-bold text-primary",children:t("headings.amountFormula")}),(0,d.jsx)("button",{type:"button",className:"btn-close",onClick:()=>l()})]}),(0,d.jsx)("hr",{className:"m-1"}),(0,d.jsx)("div",{className:"body mt-2",children:(0,d.jsxs)("div",{className:"formPanel",children:[(0,d.jsxs)("div",{className:"row",children:[(0,d.jsxs)("div",{className:"col-md-3 form-group mb-3",children:[(0,d.jsx)(u.JU,{text:t("labels.brackets")}),(0,d.jsx)(v.A,{data:i&&(null===i||void 0===i?void 0:i.brackets),placeholder:t("placeholders.select"),value:(null===o||void 0===o?void 0:o.brackets)||"",handleChange:e=>b(e,"brackets"),name:"brackets"})]}),(0,d.jsxs)("div",{className:"col-md-3 form-group mb-3",children:[(0,d.jsx)(u.JU,{text:t("labels.earningType")}),(0,d.jsx)(v.A,{data:a&&(null===a||void 0===a?void 0:a.data)||[],placeholder:t("placeholders.earningType"),value:(null===o||void 0===o?void 0:o.earningType)||"",handleChange:e=>b(e,"earningType"),name:"earningType"})]}),(0,d.jsxs)("div",{className:"col-md-3 form-group mb-3",children:[(0,d.jsx)(u.JU,{text:t("labels.operators")}),(0,d.jsx)(v.A,{data:i&&(null===i||void 0===i?void 0:i.operators),placeholder:t("placeholders.select"),value:(null===o||void 0===o?void 0:o.operators)||"",handleChange:e=>b(e,"operators"),name:"operators"})]}),(0,d.jsx)("div",{className:"col-md-3 form-group mb-3",children:(0,d.jsx)(m.Sv,{text:t("btns.add"),classNames:"btn btn-org-gradient  mt-4",handleClick:()=>(()=>{const{brackets:e,earningType:a,operators:l}=o;let s=((null===e||void 0===e?void 0:e.value)||"")+((null===a||void 0===a?void 0:a.value)||"")+((null===l||void 0===l?void 0:l.value)||"");p((e=>e+s)),r({brackets:"",earningType:"",operators:""})})()})})]}),(0,d.jsx)("div",{className:"row",children:(0,d.jsxs)("div",{className:"col-md-9 form-group mb-3",children:[(0,d.jsx)(u.TM,{value:c,placeholder:t("placeholders.leaveExpression"),onChange:e=>p(e.target.value)}),h&&(0,d.jsx)(u.eo,{text:"Place add formula to validate"})]})}),(0,d.jsx)("div",{className:"row",children:(0,d.jsx)("div",{className:"col-md-9  mb-3 d-flex justify-content-end",children:(0,d.jsx)(m.Sv,{text:t("btns.validate"),classNames:"btn btn-success gradientBg "})})})]})}),(0,d.jsx)("div",{className:"footer",children:(0,d.jsx)("div",{className:"d-flex align-items-center justify-content-end gap-3",children:(0,d.jsx)(m.Sv,{text:t("btns.save"),classNames:"btn btn-primary mt-2",handleClick:()=>{n((e=>({...e,amount:c})))}})})})]})})},b=e=>{const{alertLabel:a,text:l,className:s="",style:i={}}=e;return(0,d.jsxs)("div",{className:`alert ${s||"alert-warning"}`,style:i||{},role:"alert",children:[(0,d.jsx)("strong",{children:a}),l]})},j=e=>{const{allLeaveConstantData:a,setRules:l,rules:i}=e,{t:n}=(0,x.K)(),[t,o]=(0,s.useState)(""),[r,c]=(0,s.useState)(""),[v,p]=(0,s.useState)([]),[g,j]=(0,s.useState)(""),[f,N]=(0,s.useState)({from:"",to:"",amount:""}),_=(e,a,l)=>{var s;const d=a||(null===(s=e.target)||void 0===s?void 0:s.name),{value:i,type:n,checked:t}=null!==e&&void 0!==e&&e.target?null===e||void 0===e?void 0:e.target:{value:e};N((e=>({...e,[d]:"checkbox"===n?t:i}))),o((e=>({...e,[d]:void 0})))},D=()=>{c(!r)},C=()=>{N({from:"",to:"",amount:""})};return(0,s.useEffect)((()=>{i&&p(i)}),[i]),(0,d.jsxs)(d.Fragment,{children:[v&&v.length>0&&(0,d.jsx)(h,{earningRuleData:v,deleteEarningRule:e=>{const a=null===v||void 0===v?void 0:v.filter(((a,l)=>l!==e));p(a)},rules:i,editEarningRule:(e,a)=>{N({from:null===e||void 0===e?void 0:e.from,to:null===e||void 0===e?void 0:e.to,amount:null===e||void 0===e?void 0:e.amount}),j(a)}}),(0,d.jsx)("div",{className:"col-md-12 row",children:(0,d.jsxs)("div",{className:"form-group mb-2",children:[(0,d.jsx)(u.L1,{className:"text-primary",text:n("labels.rules"),required:!0}),(0,d.jsx)("div",{className:"col-md-12 mt-2",children:(0,d.jsxs)("div",{className:"form-group mb-2 d-flex justify-content-between gap-3",children:[(0,d.jsx)("span",{className:"rupee-sign",children:"\u20b9"}),(0,d.jsx)(u.pd,{type:"number",placeholder:n("placeholders.startSalary"),value:null===f||void 0===f?void 0:f.from,name:"from",onChange:e=>_(e)}),(0,d.jsx)("span",{className:"mt-2",style:{fontSize:"16px"},children:"To"}),(0,d.jsx)(u.pd,{type:"number",placeholder:n("placeholders.endSalary"),value:null===f||void 0===f?void 0:f.to,name:"to",onChange:e=>_(e)})]})})]})}),(0,d.jsx)("div",{className:"col-md-12 row",children:(0,d.jsx)("div",{className:"form-group mb-2",children:(0,d.jsx)("div",{className:"col-md-12 mt-2",children:(0,d.jsxs)("div",{className:"form-group mb-2 d-flex justify-content-start gap-3",children:[(0,d.jsx)("span",{className:"rupee-sign",children:"\u20b9"}),(0,d.jsx)(u.pd,{type:"text",placeholder:n("placeholders.amountFormula"),value:null===f||void 0===f?void 0:f.amount,name:"amount",onChange:e=>_(e),style:{width:"43%"}}),(0,d.jsx)(m.Sv,{text:n("btns.createFormula"),classNames:"btn btn-primary",handleClick:()=>D()})]})})})}),r&&(0,d.jsx)(y,{allLeaveConstantData:a,toggleEarningRulesFormula:D,setEarningRulesData:N}),(0,d.jsx)(b,{alertLabel:"Note: ",text:n("paragraph.addEarningRules")}),(0,d.jsx)("hr",{}),(0,d.jsx)("div",{className:"d-flex justify-content-end",children:(0,d.jsx)(m.Sv,{text:n(""!==g?"btns.update":"btns.addRules"),classNames:"btn btn-success",styles:{minWidth:"0px"},handleClick:()=>(()=>{if(""!==g){const e=v.map(((e,a)=>a===g?{...e,from:null===f||void 0===f?void 0:f.from,to:null===f||void 0===f?void 0:f.to,amount:null===f||void 0===f?void 0:f.amount}:e));p(e),l(e),j("")}else p([...v,f]),l([...v,f]);C()})()})})]})},f=e=>{let{earningTypeData:a}=e;const{t:l}=(0,x.K)();return(0,d.jsx)("div",{children:(0,d.jsxs)("div",{className:"row reviewsComment",children:[(0,d.jsx)("div",{className:"col-md-12",children:(0,d.jsxs)("div",{className:"form-group mb-2",children:[(0,d.jsx)(u.L1,{text:l("labels.earningTypeName"),required:!0}),(0,d.jsx)(u.pd,{type:"text",placeholder:l("placeholders.earningTypeName"),value:null===a||void 0===a?void 0:a.earning_type_name,name:"earningTypeName",isDisabled:!0})]})}),(0,d.jsx)("div",{className:"col-md-12",children:(0,d.jsxs)("div",{className:"form-group mb-2",children:[(0,d.jsx)(u.L1,{text:l("labels.calculationType"),required:!0}),(0,d.jsx)(u.rD,{data:p.r4,name:"calculationType",selectedValue:null===a||void 0===a?void 0:a.calculation_type,isDisabled:!0})]})}),(0,d.jsx)("div",{className:"col-md-12",children:(0,d.jsxs)("div",{className:"form-group mb-2",children:[(0,d.jsx)(u.L1,{text:"Calculate on pro-rata basis."}),(0,d.jsx)("p",{children:"( Pay will be adjusted based on employee working days.)"}),(0,d.jsx)(u.rD,{data:p.y3,name:"isProRata",selectedValue:null===a||void 0===a?void 0:a.is_pro_rata,isDisabled:!0})]})}),(0,d.jsx)("div",{className:"col-md-12",children:(0,d.jsxs)("div",{className:"form-group mb-2",children:[(0,d.jsx)(u.L1,{text:"Include this as a Flexible Benefit Plan component."}),(0,d.jsx)("p",{children:"( FBP allows your employees to personalise their salary structure by choosing how much they want to receive under each FBP component.)"}),(0,d.jsx)(u.rD,{data:p.y3,name:"canIncludeAsFbp",selectedValue:null===a||void 0===a?void 0:a.can_include_as_fbp,isDisabled:!0})]})}),(0,d.jsx)("div",{className:"col-md-12",children:(0,d.jsxs)("div",{className:"form-group mb-2",children:[(0,d.jsx)(u.L1,{text:"Consider for EPF Contribution."}),(0,d.jsx)(u.rD,{data:p.y3,name:"isIncludedInEpf",selectedValue:null===a||void 0===a?void 0:a.is_included_in_epf,isDisabled:!0})]})}),(0,d.jsx)("div",{className:"col-md-12",children:(0,d.jsxs)("div",{className:"form-group mb-2",children:[(0,d.jsx)(u.L1,{text:"Consider for ESI Contribution."}),(0,d.jsx)(u.rD,{data:p.y3,name:"isIncludedInEsi",selectedValue:null===a||void 0===a?void 0:a.is_included_in_esi,isDisabled:!0})]})}),(0,d.jsx)("div",{className:"col-md-12",children:(0,d.jsxs)("div",{className:"form-group mb-2",children:[(0,d.jsx)(u.L1,{text:"Show this component in payslip"}),(0,d.jsx)(u.rD,{data:p.y3,name:"showInPayslip",selectedValue:null===a||void 0===a?void 0:a.show_in_payslip,isDisabled:!0})]})}),(0,d.jsxs)("div",{className:"col-md-12 d-flex",children:[(0,d.jsx)("div",{className:"form-group mb-3",children:(0,d.jsx)(u.P_,{id:"isActive",checked:null===a||void 0===a?void 0:a.is_active,name:"isActive"},"isActive")}),(0,d.jsx)("div",{className:"form-group mb-3",children:(0,d.jsx)(u.L1,{text:l("labels.isActive"),className:"text-primary"})})]})]})})};var N=l(94174);const _=e=>{var a,l;const{t:i}=(0,x.K)(),t=(0,g.wA)(),{getEarningTypeByIdRes:o,addEarningsPending:r,updateEarningsPending:c}=(0,g.d4)((e=>e.payroll)),{earningDeductionSelectedData:h,openModel:y,handleOpenClose:b,allEarningTypeData:_,addEarnings:D,allLeaveConstantData:C,getEarningTypeById:k,isOpenModalType:S,addDeductions:P,updateEarnings:E,updateDeductions:T,earningTypeByIdData:A,allDeductionTypeData:w}=e,[R,L]=(0,s.useState)({}),[V,I]=(0,s.useState)({earningType:null,nameInPayslip:"",calculationType:"",calculationTypeValue:"",variablePay:!1,includedCTC:!1,taxableComp:!1,isActive:!0}),[U,O]=(0,s.useState)([]),q=(e,a)=>{var l;const s=a||(null===e||void 0===e||null===(l=e.target)||void 0===l?void 0:l.name),{value:d,type:i,checked:n}=null!==e&&void 0!==e&&e.target?null===e||void 0===e?void 0:e.target:{value:e};I((a=>{let l={...a,[s]:"checkbox"===i?n:d};return"earningType"===s&&k(null===e||void 0===e?void 0:e._id),"calculationType"===s&&(l={...l,calculationTypeValue:""}),l})),L((e=>({...e,[s]:void 0})))};(0,s.useEffect)((()=>()=>{F()}),[y]),(0,s.useEffect)((()=>{h&&(I({earningType:{label:null===h||void 0===h?void 0:h.earning_type_name,value:null===h||void 0===h?void 0:h.earning_type},nameInPayslip:null===h||void 0===h?void 0:h.payslip_name,calculationType:null===h||void 0===h?void 0:h.value_in,calculationTypeValue:null===h||void 0===h?void 0:h.value,variablePay:null===h||void 0===h?void 0:h.is_variable_pay,includedCTC:null===h||void 0===h?void 0:h.include_in_ctc,taxableComp:null===h||void 0===h?void 0:h.is_taxable,isActive:null===h||void 0===h?void 0:h.is_active}),O(null===h||void 0===h?void 0:h.rules))}),[h]);const F=()=>{I({earningType:null,nameInPayslip:"",calculationType:"",calculationTypeValue:"",variablePay:"",includedCTC:!1,taxableComp:!1,isActive:!0}),L({}),t(N.Vg.handleClearPayrollStore("HANDLE_CLEAR_EARNING_TYPE_BY_ID_STORE"))},M=[{name:"Earnings",onClickFun:e=>H(e),id:"add_earnings"},{name:"Earning Rules",onClickFun:e=>H(e),id:"earning_rules"},{name:"Other Configurations",onClickFun:e=>H(e),id:"other_configurations"}],B=[{name:"Deduction",onClickFun:e=>H(e),id:"deduction"},{name:"Deduction Rules",onClickFun:e=>H(e),id:"deduction_rules"},{name:"Other Configurations",onClickFun:e=>H(e),id:"other_configurations"}],H=()=>{},J=()=>"percentage"===(null===V||void 0===V?void 0:V.calculationType)?{label:i("labels.percentage"),placeholder:i("placeholders.percentage")}:{label:i("labels.amount"),placeholder:i("placeholders.amount")};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"offcanvas offcanvas-end  "+(y?"show":""),tabIndex:-1,style:{visibility:y?"visible":"hidden",width:"800px"},id:"interviewDetail",children:[(0,d.jsxs)("div",{className:"offcanvas-header",children:[(0,d.jsxs)("h5",{className:"offcanvas-title  fs-5 fw-bold text-primary",children:[h?"Update":"Add"," ","earnings"==S?"Earnings":"Deduction"]}),(0,d.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close",onClick:()=>b("add_earnings")})]}),(0,d.jsxs)("div",{className:"offcanvas-body myRequest ",children:[(0,d.jsx)(n.QE,{tabs:"earnings"==S?M:B,type:"earnings"}),(0,d.jsxs)("div",{className:"tab-content ",children:[(0,d.jsx)("div",{className:"tab-pane fade active show",id:"earnings"==S?"add_earnings":"deduction",children:(0,d.jsxs)("div",{className:"formPanel",children:[(0,d.jsx)("div",{className:"row mb-3 pb-2",style:{borderBottom:"1px #C4C1BF solid"},children:(0,d.jsx)("div",{className:"col-md-6",children:(0,d.jsxs)("div",{className:"form-group mb-2",children:[(0,d.jsx)(u.JU,{text:i("earnings"==S?"labels.earningType":"labels.deductionType"),required:!0}),(0,d.jsx)(v.A,{data:"earnings"==S?_:w,placeholder:i("earnings"==S?"placeholders.earningType":"placeholders.deductionType"),value:(null===V||void 0===V?void 0:V.earningType)||"",handleChange:e=>q(e,"earningType"),name:"earningType"}),(null===R||void 0===R?void 0:R.earningType)&&(0,d.jsx)(m.eo,{text:R.earningType})]})})}),(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("div",{className:"col-md-6",children:(0,d.jsxs)("div",{className:"form-group mb-2",children:[(0,d.jsx)(u.JU,{text:i("labels.nameInPayslip"),required:!0}),(0,d.jsx)(u.pd,{type:"text",placeholder:i("placeholders.nameInPayslip"),value:null===V||void 0===V?void 0:V.nameInPayslip,name:"nameInPayslip",onChange:e=>q(e)})]})}),(0,d.jsx)("div",{className:"col-md-12",children:(0,d.jsxs)("div",{className:"form-group mb-2",children:[(0,d.jsx)(u.JU,{text:i("labels.calculationType"),required:!0}),(0,d.jsx)(u.rD,{data:p.o3,name:"calculationType",handleChange:e=>q(e),selectedValue:null===V||void 0===V?void 0:V.calculationType})]})}),""!==(null===V||void 0===V?void 0:V.calculationType)&&"slab_wise"!==(null===V||void 0===V?void 0:V.calculationType)&&(0,d.jsx)("div",{className:"col-md-6",children:(0,d.jsxs)("div",{className:"form-group mb-2",children:[(0,d.jsx)(u.JU,{text:null===(a=J())||void 0===a?void 0:a.label}),(0,d.jsx)(u.pd,{type:"number",placeholder:null===(l=J())||void 0===l?void 0:l.placeholder,value:null===V||void 0===V?void 0:V.calculationTypeValue,name:"calculationTypeValue",onChange:e=>q(e)})]})}),(0,d.jsx)("div",{className:"col-md-12 row",children:(0,d.jsxs)("div",{className:"form-group mb-2",children:[(0,d.jsx)(u.L1,{className:"text-primary",text:i("labels.maxAllowance"),required:!0}),(0,d.jsx)("div",{className:"col-md-6 mt-2",children:(0,d.jsxs)("div",{className:"form-group mb-2 d-flex justify-content-between gap-3",children:[(0,d.jsx)("span",{className:"rupee-sign",children:"\u20b9"}),(0,d.jsx)(u.pd,{type:"number",placeholder:i("placeholders.maxAllowance"),value:null===V||void 0===V?void 0:V.maxAllowance,name:"maxAllowance",onChange:e=>q(e)})]})})]})}),(0,d.jsxs)("div",{className:"col-md-12 d-flex",children:[(0,d.jsx)("div",{className:"form-group ",children:(0,d.jsx)(u.P_,{id:"includedCTC",checked:null===V||void 0===V?void 0:V.includedCTC,handleChange:e=>q(e),name:"includedCTC"},"includedCTC")}),(0,d.jsx)("div",{className:"form-group ",children:(0,d.jsx)(u.L1,{text:i("labels.includedCTC"),className:"text-primary"})})]}),(0,d.jsxs)("div",{className:"col-md-12 d-flex",children:[(0,d.jsx)("div",{className:"form-group ",children:(0,d.jsx)(u.P_,{id:"variablePay",checked:null===V||void 0===V?void 0:V.variablePay,handleChange:e=>q(e),name:"variablePay"},"variablePay")}),(0,d.jsx)("div",{className:"form-group ",children:(0,d.jsx)(u.L1,{text:i("labels.variablePay"),className:"text-primary"})})]}),(0,d.jsxs)("div",{className:"col-md-12 d-flex",children:[(0,d.jsx)("div",{className:"form-group ",children:(0,d.jsx)(u.P_,{id:"taxableComp",checked:null===V||void 0===V?void 0:V.taxableComp,handleChange:e=>q(e),name:"taxableComp"},"taxableComp")}),(0,d.jsxs)("div",{className:"form-group ",children:[(0,d.jsx)(u.L1,{text:i("labels.taxableComp"),className:"text-primary"}),(0,d.jsx)("p",{className:"text-secondary",children:i("paragraph.taxableCompDesc")})]})]}),(0,d.jsxs)("div",{className:"col-md-12 d-flex",children:[(0,d.jsx)("div",{className:"form-group ",children:(0,d.jsx)(u.P_,{id:"isActive",checked:null===V||void 0===V?void 0:V.isActive,handleChange:e=>q(e),name:"isActive"},"isActive")}),(0,d.jsx)("div",{className:"form-group",children:(0,d.jsx)(u.L1,{text:i("labels.isActive"),className:"text-primary"})})]})]})]})}),(0,d.jsx)("div",{className:"tab-pane fade",id:"earnings"==S?"earning_rules":"deduction_rules",children:(0,d.jsx)(j,{allLeaveConstantData:C,setRules:O,rules:U})}),(0,d.jsx)("div",{className:"tab-pane fade",id:"other_configurations",children:A&&(null===A||void 0===A?void 0:A.length)>0&&(0,d.jsx)(f,{earningTypeData:A[0]})})]})]}),(0,d.jsx)("div",{className:"offcanvas-footer",children:(0,d.jsx)("div",{className:"d-flex align-items-center justify-content-end gap-3",children:(0,d.jsx)(m.Sv,{text:i(h?"btns.update":"btns.submit"),classNames:"btn btn-org-gradient",handleClick:()=>(async()=>{var e;let a={payslip_name:null===V||void 0===V?void 0:V.nameInPayslip,["earnings"===S?"earning_type":"deduction_type"]:null===V||void 0===V||null===(e=V.earningType)||void 0===e?void 0:e._id,value:null===V||void 0===V?void 0:V.calculationTypeValue,value_in:null===V||void 0===V?void 0:V.calculationType,is_optional:!1,max_allowance:null===V||void 0===V?void 0:V.maxAllowance,include_in_ctc:null===V||void 0===V?void 0:V.includedCTC,rules:U,is_variable_pay:null===V||void 0===V?void 0:V.variablePay,is_taxable:null===V||void 0===V?void 0:V.taxableComp,is_active:null===V||void 0===V?void 0:V.isActive};h?(a._id=null===h||void 0===h?void 0:h._id,"earnings"==S?E(a):T(a)):"earnings"==S?D(a):P(a)})()})})})]}),y&&(0,d.jsx)("div",{className:"modal-backdrop fade show"})]})},D=e=>{const{isOpenModal:a,selectedPayScheduleData:l,handleToggleModals:i,appConstantData:n,handleAddPayScheduleData:t,handleUpdatePaySchedule:o}=e,{t:r}=(0,x.K)(),[c,p]=(0,s.useState)({payScheduleType:"monthly",payOn:"last_working_day",payDay:"",payPeriodStartDate:""}),[h,y]=(0,s.useState)(""),{addPaySchedulePending:b,updatePaySchedulePending:j}=(0,g.d4)((e=>e.payroll)),f=(e,a)=>{var l;const s=a||(null===(l=e.target)||void 0===l?void 0:l.name),{value:d,type:i,checked:n}=null!==e&&void 0!==e&&e.target?e.target:{value:e};p((e=>{const a={...e,[s]:d};return"monthly"===d&&(a.noOfWorkingDays=""),"last_working_day"===d&&(a.payDay=""),a})),y((e=>({...e,[s]:void 0})))};return(0,s.useEffect)((()=>{if(l&&(null===l||void 0===l?void 0:l.length)>0){const e=l[0];p({payScheduleType:null===e||void 0===e?void 0:e.pay_schedule_type,noOfWorkingDays:{label:null===e||void 0===e?void 0:e.no_of_working_days,value:null===e||void 0===e?void 0:e.no_of_working_days},payOn:null===e||void 0===e?void 0:e.pay_on,payDay:{label:null===e||void 0===e?void 0:e.pay_day,value:null===e||void 0===e?void 0:e.pay_day},payPeriodStartDate:null===e||void 0===e?void 0:e.pay_period_start_date})}}),[l]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"offcanvas offcanvas-end  "+(a?"show":""),tabIndex:-1,style:{visibility:a?"visible":"hidden",width:"800px"},children:[(0,d.jsxs)("div",{className:"offcanvas-header",children:[(0,d.jsxs)("h5",{className:"offcanvas-title  fs-5 fw-bold text-primary",children:[" ",l?"Update":""," Pay Schedule"]}),(0,d.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close",onClick:()=>i("pay_schedule")})]}),(0,d.jsx)("div",{className:"offcanvas-body",children:(0,d.jsxs)("div",{className:"formPanel",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)(u.L1,{text:" Calculate monthly salary based on",required:!0,tooltipText:r("tooltips.calculateMonthlySalary"),className:"text-primary"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{children:(0,d.jsx)(u.hI,{htmlFor:"monthly",text:"Actual days in a month",name:"payScheduleType",value:"monthly",checked:"monthly"===(null===c||void 0===c?void 0:c.payScheduleType),handleChange:e=>f(e),radioClass:"mt-2"})}),(0,d.jsxs)("div",{className:"d-flex",children:[(0,d.jsx)(u.hI,{htmlFor:"workingDays",text:"Organisation working days",name:"payScheduleType",value:"working_days",checked:"working_days"===(null===c||void 0===c?void 0:c.payScheduleType),handleChange:e=>f(e),radioClass:"mt-2"}),(0,d.jsx)("div",{className:"ms-2 me-2",style:{width:"113px"},children:(0,d.jsx)(v.A,{data:null===n||void 0===n?void 0:n.workingDays,placeholder:r("placeholders.select"),value:null===c||void 0===c?void 0:c.noOfWorkingDays,handleChange:e=>f(e,"noOfWorkingDays"),isDisabled:"monthly"===(null===c||void 0===c?void 0:c.payScheduleType)})}),(0,d.jsx)("label",{className:"mt-2",children:"days per month"})]})]})]}),(0,d.jsxs)("div",{className:"mt-3",children:[(0,d.jsx)(u.L1,{text:" Pay On",required:!0,className:"text-primary"}),(0,d.jsx)("div",{children:(0,d.jsx)(u.hI,{htmlFor:"lastWorkingDay",text:"the last working day of",name:"payOn",value:"last_working_day",checked:"last_working_day"===(null===c||void 0===c?void 0:c.payOn),handleChange:e=>f(e),radioClass:"mt-2"})}),(0,d.jsxs)("div",{className:"d-flex",children:[(0,d.jsx)(u.hI,{htmlFor:"payMonth",text:"day",name:"payOn",value:"day_of_month",checked:"day_of_month"===(null===c||void 0===c?void 0:c.payOn),handleChange:e=>f(e),radioClass:"mt-2"}),(0,d.jsx)("div",{className:"ms-2 me-2",style:{width:"113px"},children:(0,d.jsx)(v.A,{data:null===n||void 0===n?void 0:n.monthDays,placeholder:r("placeholders.select"),value:null===c||void 0===c?void 0:c.payDay,handleChange:e=>f(e,"payDay"),isDisabled:"last_working_day"===(null===c||void 0===c?void 0:c.payOn)})}),(0,d.jsx)("label",{className:"mt-2",children:"of every month"})]})]}),(0,d.jsx)("div",{className:"row mt-3",children:(0,d.jsx)("div",{className:"col-md-6 row",children:(0,d.jsx)("div",{className:"col-md-12",children:(0,d.jsxs)("div",{className:"form-group mb-2",children:[(0,d.jsx)(u.L1,{text:"Start your first payroll from",required:!0,className:"text-primary "}),(0,d.jsx)(u.pd,{type:"month",value:null===c||void 0===c?void 0:c.payPeriodStartDate,name:"payPeriodStartDate",className:"mt-2",onChange:e=>f(e)}),(null===h||void 0===h?void 0:h.name)&&(0,d.jsx)(m.eo,{text:h.name})]})})})})]})}),(0,d.jsx)("div",{className:"offcanvas-footer",children:(0,d.jsx)("div",{className:"d-flex align-items-center justify-content-end gap-3",children:(0,d.jsx)(m.Sv,{text:r(l?"btns.update":"btns.submit"),classNames:"btn btn-org-gradient",handleClick:()=>(()=>{var e,a;const s={pay_schedule_type:null===c||void 0===c?void 0:c.payScheduleType,no_of_working_days:null===c||void 0===c||null===(e=c.noOfWorkingDays)||void 0===e?void 0:e.value,pay_on:null===c||void 0===c?void 0:c.payOn,pay_day:(null===c||void 0===c||null===(a=c.payDay)||void 0===a?void 0:a.value)||"",pay_period_start_date:null===c||void 0===c?void 0:c.payPeriodStartDate};var d;l?(s._id=(null===l||void 0===l||null===(d=l[0])||void 0===d?void 0:d._id)||"",o(s)):t(s)})(),isLoading:l?j:b})})})]}),a&&(0,d.jsx)("div",{className:"modal-backdrop fade show"})]})},C=e=>{const{appConstantData:a,upcomingPayrollData:l,handleToggleModals:i}=e,{t:o}=(0,x.K)(),{upcomingPayrollsPending:r}=((0,g.wA)(),(0,g.d4)((e=>e.payroll))),[c,m]=(0,s.useState)("");(0,s.useEffect)((()=>{l&&(null===l||void 0===l?void 0:l.length)>0&&m(l[0])}),[l]);const v=(0,s.useMemo)((()=>({})),[l]);return(0,d.jsx)("div",{children:(0,d.jsxs)("div",{className:" p-3",children:[(0,d.jsxs)("div",{className:"d-flex mb-2 paySchedule",children:[(0,d.jsx)("h3",{className:"me-1",style:{fontSize:"18px",fontWeight:600},children:"This Organization's payroll runs on this schedule"}),(0,d.jsxs)("div",{onClick:()=>i("pay_schedule",l),style:{backgroundColor:"#b7b5b5bd",width:"30px",borderRadius:"25px",paddingTop:"5px",paddingLeft:"8px"},children:[" ",l?(0,d.jsx)(u.In,{className:"bi bi-pencil text-white"}):(0,d.jsx)(u.In,{className:"bi bi-plus-lg"})]})]}),(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("div",{className:"col-md-2",children:(0,d.jsx)("div",{className:"form-group mb-3",children:(0,d.jsx)(u.JU,{text:o("labels.payFrequency")})})}),(0,d.jsx)("div",{className:"col-md-4",children:(0,d.jsx)("div",{className:"form-group mb-3",children:(0,d.jsx)(u.L1,{text:(null===c||void 0===c?void 0:c.pay_schedule_type)||"-"})})})]}),(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("div",{className:"col-md-2",children:(0,d.jsx)("div",{className:"form-group mb-3",children:(0,d.jsx)(u.JU,{text:o("labels.payDay")})})}),(0,d.jsx)("div",{className:"col-md-4",children:(0,d.jsx)("div",{className:"form-group mb-3",children:(0,d.jsx)(u.L1,{text:(null===c||void 0===c?void 0:c.pay_day)||"-"})})})]}),(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("div",{className:"col-md-2",children:(0,d.jsx)("div",{className:"form-group mb-3",children:(0,d.jsx)(u.JU,{text:o("labels.firstPayPeriod")})})}),(0,d.jsx)("div",{className:"col-md-4",children:(0,d.jsx)("div",{className:"form-group mb-3",children:(0,d.jsx)(u.L1,{text:c?(0,t.N_)(null===c||void 0===c?void 0:c.pay_period_start_date,"DD/MM/YYYY"):"-"})})})]}),(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("div",{className:"col-md-2",children:(0,d.jsx)("div",{className:"form-group mb-3",children:(0,d.jsx)(u.JU,{text:o("labels.firstPayDate")})})}),(0,d.jsx)("div",{className:"col-md-4",children:(0,d.jsx)("div",{className:"form-group mb-3",children:(0,d.jsx)(u.L1,{text:null!==c&&void 0!==c&&c.pay_date?(0,t.N_)(null===c||void 0===c?void 0:c.pay_date,"DD/MM/YYYY"):"-"})})})]}),(0,d.jsx)("div",{className:"row",children:(0,d.jsxs)("div",{className:"col-12 form-group mb-3",children:[(0,d.jsx)("h3",{className:"underlineHead ",style:{fontSize:"18px"},children:" Upcoming Payroll"}),(0,d.jsx)(n.Ak,{data:null===c||void 0===c?void 0:c.upcoming_pay_periods,fields:[{key:"pay_period_formatted",label:"PAY PERIOD"},{key:"pay_date_formatted",label:"PAY DATE"}],isLoading:r,pagination:!0,isHeader:!1,tableStyle:{padding:"0px",boxShadow:"none"},scopedSlots:v})]})})]})})},k=e=>{const{t:a}=(0,x.K)(),{openModel:l,handleOpenClose:i}=e,[n,t]=(0,s.useState)({}),[o,r]=(0,s.useState)({nameInPayslip:"",deductionFrequency:"",is_active:!0}),c=(e,a)=>{var l;const s=a||(null===(l=e.target)||void 0===l?void 0:l.name),{value:d,type:i,checked:n}=null!==e&&void 0!==e&&e.target?null===e||void 0===e?void 0:e.target:{value:e};r((e=>({...e,[s]:"checkbox"===i?n:d}))),t((e=>({...e,[s]:void 0})))};(0,s.useEffect)((()=>()=>{v()}),[l]);const v=()=>{r({nameInPayslip:"",deductionFrequency:"",is_active:!0}),t({})};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"offcanvas offcanvas-end  "+(l?"show":""),tabIndex:-1,style:{visibility:l?"visible":"hidden",width:"600px"},id:"interviewDetail",children:[(0,d.jsxs)("div",{className:"offcanvas-header",children:[(0,d.jsx)("h5",{className:"offcanvas-title  fs-5 fw-bold text-primary",children:"Post Tax Deduction"}),(0,d.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close",onClick:()=>i("post_tax_deduction")})]}),(0,d.jsx)("div",{className:"offcanvas-body myRequest ",children:(0,d.jsx)("div",{className:"formPanel",children:(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("div",{className:"col-md-12",children:(0,d.jsxs)("div",{className:"form-group mb-2",children:[(0,d.jsx)(u.JU,{text:a("labels.nameInPayslip"),required:!0}),(0,d.jsx)(u.pd,{type:"text",placeholder:a("placeholders.nameInPayslip"),value:null===o||void 0===o?void 0:o.nameInPayslip,name:"nameInPayslip",onChange:e=>c(e)})]})}),(0,d.jsx)("div",{className:"col-md-12",children:(0,d.jsxs)("div",{className:"form-group mb-2",children:[(0,d.jsx)(u.JU,{text:a("labels.deductionFrequency"),required:!0}),(0,d.jsx)(u.rD,{data:p.YY,name:"calculationType",handleChange:c,selectedValue:null===o||void 0===o?void 0:o.deductionFrequency})]})}),(0,d.jsx)("div",{className:"col-md-3",children:(0,d.jsx)("div",{className:"form-group mb-3",children:(0,d.jsx)(u.JU,{text:a("labels.isActive")})})}),(0,d.jsx)("div",{className:"col-md-9",children:(0,d.jsx)("div",{className:"form-group mb-3",children:(0,d.jsx)(u.P_,{id:"is_active",checked:null===o||void 0===o?void 0:o.is_active,handleChange:e=>c(e),name:"is_active"},"is_active")})}),(0,d.jsx)("div",{className:"col-md-12 mt-3",children:(0,d.jsx)("div",{className:"form-group mb-3",children:(0,d.jsxs)("div",{class:"alert alert-warning",role:"alert",children:[(0,d.jsx)("b",{children:"Note:"}),a("paragraph.postTaxDeduction")]})})})]})})}),(0,d.jsx)("div",{className:"offcanvas-footer",children:(0,d.jsx)("div",{className:"d-flex align-items-center justify-content-end gap-3",children:(0,d.jsx)(m.Sv,{text:a("btns.submit"),classNames:"btn btn-org-gradient",handleClick:()=>(async()=>{})()})})})]}),l&&(0,d.jsx)("div",{className:"modal-backdrop fade show"})]})},S=e=>{const{t:a}=(0,x.K)(),{openModel:l,handleOpenClose:i,deductionWithData:n,deductionPlanData:t}=e,[o,r]=(0,s.useState)({}),[c,p]=(0,s.useState)({nameInPayslip:"",deductionFrequency:"",is_active:!0}),h=(e,a)=>{var l;const s=a||(null===(l=e.target)||void 0===l?void 0:l.name),{value:d,type:i,checked:n}=null!==e&&void 0!==e&&e.target?null===e||void 0===e?void 0:e.target:{value:e};p((e=>({...e,[s]:"checkbox"===i?n:d}))),r((e=>({...e,[s]:void 0})))};(0,s.useEffect)((()=>()=>{g()}),[l]);const g=()=>{p({nameInPayslip:"",deductionFrequency:"",is_active:!0}),r({})};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"offcanvas offcanvas-end  "+(l?"show":""),tabIndex:-1,style:{visibility:l?"visible":"hidden",width:"600px"},id:"interviewDetail",children:[(0,d.jsxs)("div",{className:"offcanvas-header",children:[(0,d.jsx)("h5",{className:"offcanvas-title  fs-5 fw-bold text-primary",children:"Pre Tax Deduction"}),(0,d.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close",onClick:()=>i("pre_tax_deduction")})]}),(0,d.jsx)("div",{className:"offcanvas-body myRequest ",children:(0,d.jsx)("div",{className:"formPanel",children:(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("div",{className:"col-md-12",children:(0,d.jsxs)("div",{className:"form-group mb-2",children:[(0,d.jsx)(u.JU,{text:a("labels.deductionPlan"),required:!0}),(0,d.jsx)(v.A,{data:t,placeholder:a("placeholders.deductionPlan"),value:(null===c||void 0===c?void 0:c.deductionPlan)||"",handleChange:e=>h(e,"deductionPlan"),name:"deductionPlan"})]})}),(0,d.jsx)("div",{className:"col-md-12",children:(0,d.jsxs)("div",{className:"form-group mb-2",children:[(0,d.jsx)(u.JU,{text:a("labels.deductionWith"),required:!0}),(0,d.jsx)(v.A,{data:n,placeholder:a("placeholders.deductionWith"),value:(null===c||void 0===c?void 0:c.deductionWith)||"",handleChange:e=>h(e,"deductionWith"),name:"deductionWith"})]})}),(0,d.jsx)("div",{className:"col-md-12",children:(0,d.jsxs)("div",{className:"form-group mb-2",children:[(0,d.jsx)(u.JU,{text:a("labels.nameInPayslip"),required:!0}),(0,d.jsx)(u.pd,{type:"text",placeholder:a("placeholders.nameInPayslip"),value:null===c||void 0===c?void 0:c.nameInPayslip,name:"nameInPayslip",onChange:e=>h(e)}),(null===o||void 0===o?void 0:o.nameInPayslip)&&(0,d.jsx)(m.eo,{text:o.nameInPayslip})]})}),(0,d.jsxs)("div",{className:"col-md-12 mt-3 d-flex",children:[(0,d.jsx)("div",{className:"form-group",children:(0,d.jsx)(u.P_,{id:"employerContributionCTC",checked:null===c||void 0===c?void 0:c.employerContributionCTC,handleChange:e=>h(e),name:"employerContributionCTC"},"employerContributionCTC")}),(0,d.jsx)("div",{className:"form-group ",children:(0,d.jsx)(u.L1,{text:a("labels.employerContributionCTC"),className:"text-primary"})})]}),(0,d.jsxs)("div",{className:"col-md-12 mt-3 d-flex",children:[(0,d.jsx)("div",{className:"form-group",children:(0,d.jsx)(u.P_,{id:"calculateProRataBasis",checked:null===c||void 0===c?void 0:c.calculateProRataBasis,handleChange:e=>h(e),name:"calculateProRataBasis"},"calculateProRataBasis")}),(0,d.jsxs)("div",{className:"form-group ",children:[(0,d.jsx)(u.L1,{text:a("labels.calculateProRataBasis"),className:"text-primary"}),(0,d.jsx)("p",{className:"text-secondary",children:"Pay will be adjusted based on employee working days."})]})]}),(0,d.jsxs)("div",{className:"col-md-12 d-flex",children:[(0,d.jsx)("div",{className:"form-group mb-3",children:(0,d.jsx)(u.P_,{id:"is_active",checked:null===c||void 0===c?void 0:c.is_active,handleChange:e=>h(e),name:"is_active"},"is_active")}),(0,d.jsx)("div",{className:"form-group mb-3",children:(0,d.jsx)(u.L1,{text:a("labels.isActive"),className:"text-primary"})})]})]})})}),(0,d.jsx)("div",{className:"offcanvas-footer",children:(0,d.jsx)("div",{className:"d-flex align-items-center justify-content-end gap-3",children:(0,d.jsx)(m.Sv,{text:a("btns.submit"),classNames:"btn btn-org-gradient",handleClick:()=>(async()=>{})()})})})]}),l&&(0,d.jsx)("div",{className:"modal-backdrop fade show"})]})},P=e=>{const{t:a}=(0,x.K)(),{handleToggleModals:l,taxSlabData:i,currentPage:t,setCurrentPage:o,toggleDeleteTaxSlabModal:r}=e,{getTaxSlabPending:c}=(0,g.d4)((e=>e.payroll)),v=(0,s.useMemo)((()=>({sn:(e,a)=>(0,d.jsx)("span",{children:a+1}),action:e=>(0,d.jsxs)("div",{className:"btn-group actionDrp",children:[(0,d.jsx)("button",{type:"button",className:"btn dropdown-toggle-split","data-bs-toggle":"dropdown","aria-expanded":"false",children:(0,d.jsx)("i",{className:"bi bi-three-dots-vertical"})}),(0,d.jsxs)("ul",{className:"dropdown-menu",children:[(0,d.jsx)("li",{children:(0,d.jsxs)("span",{className:"dropdown-item",onClick:()=>l("tax_slab",e),children:[(0,d.jsx)(u.In,{className:"fa fa-edit"})," Update"]})}),(0,d.jsx)("li",{children:(0,d.jsxs)("span",{className:"dropdown-item",onClick:()=>r(null===e||void 0===e?void 0:e._id),children:[(0,d.jsx)(u.In,{className:"fa fa-trash"})," Delete"]})})]})]})})),[]);return(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"cardHead  justify-content-between",children:[(0,d.jsxs)("div",{className:"d-flex",children:[(0,d.jsx)("img",{src:"/images/myrequest-icon.svg",alt:"",width:"35"}),(0,d.jsx)("h3",{className:"ms-2 mt-2",children:"Tax Slab"})]}),(0,d.jsx)("div",{children:(0,d.jsx)(m.Sv,{text:a("btns.addTaxSlab"),classNames:"btn btn-primary",handleClick:()=>l("tax_slab")})})]}),(0,d.jsx)(n.Ak,{data:null===i||void 0===i?void 0:i.data,fields:[{key:"sn",label:"S.N"},{key:"type",label:"Slab Type"},{key:"start",label:"Start"},{key:"end",label:"End"},{key:"tex_percent",label:"Tax Percent"},{key:"action",label:"Action"}],isLoading:c,pagination:!0,currentPage:t,setCurrentPage:e=>o(e,"tax_slab"),totalPages:null===i||void 0===i?void 0:i.totalPages,isHeader:!1,tableStyle:{padding:"0px",boxShadow:"none"},scopedSlots:v})]})};var E=l(26181),T=l(80728);const A=e=>{const{isOpenModal:a,handleToggleModals:l,selectedTaxSlabData:i,filteredDropdownData:n,handleAddUpdateTaxSlab:t}=e,{updateTaxSlabPending:o,addTaxSlabPending:r}=(0,g.d4)((e=>e.payroll)),{t:c}=(0,x.K)(),[p,h]=(0,s.useState)(""),[y,b]=(0,s.useState)({slabType:null,start:"",end:"",taxPercent:"",includeCess:!1,cessPercent:"",standardDeduction:!1,standardDeductionValue:"",taxRelaxation:"",constantDifference:"",rebateAllowed:!1,rebateRules:!1,isActive:!0}),j=(e,a)=>{var l;const s=a||(null===(l=e.target)||void 0===l?void 0:l.name),{value:d,type:i,checked:n}=null!==e&&void 0!==e&&e.target?null===e||void 0===e?void 0:e.target:{value:e};b((e=>({...e,[s]:"checkbox"===i?n:d}))),h((e=>({...e,[s]:void 0})))};return(0,s.useEffect)((()=>{i&&b({slabType:{label:null===i||void 0===i?void 0:i.type,value:null===i||void 0===i?void 0:i.type},start:null===i||void 0===i?void 0:i.start,end:null===i||void 0===i?void 0:i.end,taxPercent:null===i||void 0===i?void 0:i.tex_percent,includeCess:null===i||void 0===i?void 0:i.is_include_cess,cessPercent:null===i||void 0===i?void 0:i.cess_percent,standardDeduction:null===i||void 0===i?void 0:i.is_standard_deduction,standardDeductionValue:null===i||void 0===i?void 0:i.standard_deduction_value,taxRelaxation:null===i||void 0===i?void 0:i.tex_relaxation,constantDifference:null===i||void 0===i?void 0:i.constant_difference,rebateAllowed:null===i||void 0===i?void 0:i.is_rebate_allowed,rebateRules:null===i||void 0===i?void 0:i.rebate_rules,isActive:null===i||void 0===i?void 0:i.is_active})}),[i]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"offcanvas offcanvas-end  "+(a?"show":""),tabIndex:-1,style:{visibility:a?"visible":"hidden",width:"800px"},children:[(0,d.jsxs)("div",{className:"offcanvas-header",children:[(0,d.jsxs)("h5",{className:"offcanvas-title  fs-5 fw-bold text-primary",children:[" ",i?"Update":"Add"," Tax Slab"]}),(0,d.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close",onClick:()=>l("tax_slab")})]}),(0,d.jsx)("div",{className:"offcanvas-body",children:(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("div",{className:"col-md-6",children:(0,d.jsxs)("div",{className:"form-group mb-2",children:[(0,d.jsx)(u.JU,{text:c("labels.slabType"),required:!0}),(0,d.jsx)(v.A,{data:null===n||void 0===n?void 0:n.tax_slab,placeholder:c("placeholders.slabType"),value:(null===y||void 0===y?void 0:y.slabType)||"",handleChange:e=>j(e,"slabType"),name:"slabType"}),(null===p||void 0===p?void 0:p.slabType)&&(0,d.jsx)(m.eo,{text:p.slabType})]})}),(0,d.jsx)("div",{className:"col-md-6",children:(0,d.jsxs)("div",{className:"form-group mb-2",children:[(0,d.jsx)(u.JU,{text:c("labels.startAmount"),required:!0}),(0,d.jsx)(u.pd,{type:"number",placeholder:c("placeholders.taxSlabStartAmount"),value:0===(null===y||void 0===y?void 0:y.start)?"0":null===y||void 0===y?void 0:y.start,name:"start",onChange:e=>j(e)}),(null===p||void 0===p?void 0:p.start)&&(0,d.jsx)(m.eo,{text:p.start})]})}),(0,d.jsx)("div",{className:"col-md-6",children:(0,d.jsxs)("div",{className:"form-group mb-2",children:[(0,d.jsx)(u.JU,{text:c("labels.endAmount"),required:!0}),(0,d.jsx)(u.pd,{type:"number",placeholder:c("placeholders.taxSlabEndAmount"),value:0===(null===y||void 0===y?void 0:y.end)?"0":null===y||void 0===y?void 0:y.end,name:"end",onChange:e=>j(e)}),(null===p||void 0===p?void 0:p.end)&&(0,d.jsx)(m.eo,{text:p.end})]})}),(0,d.jsx)("div",{className:"col-md-6",children:(0,d.jsxs)("div",{className:"form-group mb-2",children:[(0,d.jsx)(u.JU,{text:c("labels.taxPercent"),required:!0}),(0,d.jsx)(u.pd,{type:"number",placeholder:c("placeholders.taxPercent"),value:0===(null===y||void 0===y?void 0:y.taxPercent)?"0":null===y||void 0===y?void 0:y.taxPercent,name:"taxPercent",onChange:e=>j(e)}),(null===p||void 0===p?void 0:p.taxPercent)&&(0,d.jsx)(m.eo,{text:p.taxPercent})]})}),(0,d.jsx)("div",{className:"col-md-6 ",children:(0,d.jsxs)("div",{className:"form-group mb-2",children:[(0,d.jsx)(u.JU,{text:c("labels.taxRelaxation"),required:!0}),(0,d.jsx)(u.pd,{type:"number",placeholder:c("placeholders.taxRelaxation"),value:0===(null===y||void 0===y?void 0:y.taxRelaxation)?"0":null===y||void 0===y?void 0:y.taxRelaxation,name:"taxRelaxation",onChange:e=>j(e)}),(null===p||void 0===p?void 0:p.taxRelaxation)&&(0,d.jsx)(m.eo,{text:p.taxRelaxation})]})}),(0,d.jsx)("div",{className:"col-md-6 ",children:(0,d.jsxs)("div",{className:"form-group mb-2",children:[(0,d.jsx)(u.JU,{text:c("labels.constantDifference"),required:!0}),(0,d.jsx)(u.pd,{type:"number",placeholder:c("placeholders.constantDifference"),value:0===(null===y||void 0===y?void 0:y.constantDifference)?"0":null===y||void 0===y?void 0:y.constantDifference,name:"constantDifference",onChange:e=>j(e)}),(null===p||void 0===p?void 0:p.constantDifference)&&(0,d.jsx)(m.eo,{text:p.constantDifference})]})}),(0,d.jsxs)("div",{className:"col-md-12 row",children:[(0,d.jsx)("div",{className:"col-md-3",children:(0,d.jsx)("div",{className:"form-group mb-3",children:(0,d.jsx)(u.JU,{text:c("labels.includeCess")})})}),(0,d.jsx)("div",{className:"col-md-9",children:(0,d.jsx)("div",{className:"form-group mb-3",children:(0,d.jsx)(u.P_,{id:"includeCess",checked:null===y||void 0===y?void 0:y.includeCess,handleChange:e=>j(e),name:"includeCess"},"includeCess")})})]}),(null===y||void 0===y?void 0:y.includeCess)&&(0,d.jsx)("div",{className:"col-md-12 row",children:(0,d.jsx)("div",{className:"col-md-6 row",children:(0,d.jsxs)("div",{className:"form-group mb-2",children:[(0,d.jsx)(u.JU,{text:c("labels.cessPercent"),required:!0}),(0,d.jsx)(u.pd,{type:"number",placeholder:c("placeholders.cessPercent"),value:0===(null===y||void 0===y?void 0:y.cessPercent)?"0":null===y||void 0===y?void 0:y.cessPercent,name:"cessPercent",onChange:e=>j(e)}),(null===p||void 0===p?void 0:p.cessPercent)&&(0,d.jsx)(m.eo,{text:p.cessPercent})]})})}),(0,d.jsxs)("div",{className:"col-md-12 row",children:[(0,d.jsx)("div",{className:"col-md-3",children:(0,d.jsx)("div",{className:"form-group mb-3",children:(0,d.jsx)(u.JU,{text:c("labels.standardDeduction")})})}),(0,d.jsx)("div",{className:"col-md-9",children:(0,d.jsx)("div",{className:"form-group mb-3",children:(0,d.jsx)(u.P_,{id:"standardDeduction",checked:null===y||void 0===y?void 0:y.standardDeduction,handleChange:e=>j(e),name:"standardDeduction"},"standardDeduction")})})]}),(null===y||void 0===y?void 0:y.standardDeduction)&&(0,d.jsx)("div",{className:"col-md-12 row",children:(0,d.jsx)("div",{className:"col-md-6 row",children:(0,d.jsxs)("div",{className:"form-group mb-2",children:[(0,d.jsx)(u.JU,{text:c("labels.standardDeductionAmount"),required:!0}),(0,d.jsx)(u.pd,{type:"number",placeholder:c("placeholders.standardDeduction"),value:0===(null===y||void 0===y?void 0:y.standardDeductionValue)?"0":null===y||void 0===y?void 0:y.standardDeductionValue,name:"standardDeductionValue",onChange:e=>j(e)})]})})}),(0,d.jsxs)("div",{className:"col-md-12 row",children:[(0,d.jsx)("div",{className:"col-md-3",children:(0,d.jsx)("div",{className:"form-group mb-3",children:(0,d.jsx)(u.JU,{text:c("labels.rebateAllowed")})})}),(0,d.jsx)("div",{className:"col-md-9",children:(0,d.jsx)("div",{className:"form-group mb-3",children:(0,d.jsx)(u.P_,{id:"rebateAllowed",checked:null===y||void 0===y?void 0:y.rebateAllowed,handleChange:e=>j(e),name:"rebateAllowed"},"rebateAllowed")})})]}),(0,d.jsxs)("div",{className:"col-md-12 row",children:[(0,d.jsx)("div",{className:"col-md-3",children:(0,d.jsx)("div",{className:"form-group mb-3",children:(0,d.jsx)(u.JU,{text:c("labels.isActive")})})}),(0,d.jsx)("div",{className:"col-md-9",children:(0,d.jsx)("div",{className:"form-group mb-3",children:(0,d.jsx)(u.P_,{id:"isActive",checked:null===y||void 0===y?void 0:y.isActive,handleChange:e=>j(e),name:"isActive"},"isActive")})})]})]})}),(0,d.jsx)("div",{className:"offcanvas-footer",children:(0,d.jsx)("div",{className:"d-flex align-items-center justify-content-end gap-3",children:(0,d.jsx)(m.Sv,{text:c(i?"btns.update":"btns.submit"),classNames:"btn btn-org-gradient",handleClick:()=>(async()=>{const e=await(0,E.i6)(T.X1,y);if(e.isValid){const{slabType:e,start:a,end:l,taxPercent:s,includeCess:d,cessPercent:n,standardDeduction:o,standardDeductionValue:r,taxRelaxation:c,constantDifference:u,rebateAllowed:m,rebateRules:v,isActive:x}=y;let p={type:(null===e||void 0===e?void 0:e.label)||"",start:a,end:l,tex_percent:s,is_include_cess:d,cess_percent:n||0,is_standard_deduction:o,standard_deduction_value:r||0,tex_relaxation:c,constant_difference:u,is_rebate_allowed:m,rebate_rules:v||{},is_active:x};i?(p._id=null===i||void 0===i?void 0:i._id,t(p)):t(p)}else h(e.errors)})(),isLoading:i?o:r})})})]}),a&&(0,d.jsx)("div",{className:"modal-backdrop fade show"})]})};var w=l(35685);const R=()=>{const[e,a]=(0,s.useState)("salary_component"),{t:l}=(0,x.K)(),n=(0,g.wA)(),{addEarningsPending:t,addEarningsRes:o,addEarningsError:r,updateEarningsPending:u,updateEarningsRes:m,updateEarningsError:v,getEarningsPending:h,getEarningsRes:y,getEarningsError:b,addDeductionsPending:j,addDeductionsRes:f,addDeductionsError:E,updateDeductionsPending:T,updateDeductionsRes:R,updateDeductionsError:L,getDeductionsPending:V,getDeductionsRes:I,getDeductionsError:U,getAllEarningTypePending:O,getAllEarningTypeRes:q,getAllEarningTypeError:F,getAllDeductionTypePending:M,getAllDeductionTypeRes:B,getAllDeductionTypeError:H,getEarningTypeByIdPending:J,getEarningTypeByIdRes:G,getEarningTypeByIdError:Y,addPaySchedulePending:X,addPayScheduleRes:$,addPayScheduleError:W,updatePaySchedulePending:K,updatePayScheduleRes:z,updatePayScheduleError:Q,upcomingPayrollsPending:Z,upcomingPayrollsRes:ee,upcomingPayrollsError:ae,addTaxSlabPending:le,addTaxSlabRes:se,addTaxSlabError:de,updateTaxSlabPending:ie,updateTaxSlabRes:ne,updateTaxSlabError:te,getTaxSlabPending:oe,getTaxSlabRes:re,getTaxSlabError:ce,deleteTaxSlabPending:ue,deleteTaxSlabRes:me,deleteTaxSlabError:ve}=(0,g.d4)((e=>e.payroll)),{getLeaveConstantDataPending:xe,getLeaveConstantDataRes:pe,getLeaveConstantDataError:he}=(0,g.d4)((e=>e.leave)),{getAppConstantDataPending:ge,getAppConstantDataRes:ye,getAppConstantDataError:be}=(0,g.d4)((e=>e.common)),{getFilteredDropdownDataError:je,getFilteredDropdownDataRes:fe,getFilteredDropdownDataPending:Ne}=(0,g.d4)((e=>e.dropdownMaster)),[_e,De]=(0,s.useState)(!1),[Ce,ke]=(0,s.useState)(!1),[Se,Pe]=(0,s.useState)(!1),[Ee,Te]=(0,s.useState)({taxSlabCurrPage:1}),[Ae,we]=(0,s.useState)(""),[Re,Le]=(0,s.useState)(""),[Ve,Ie]=(0,s.useState)(""),[Ue,Oe]=(0,s.useState)(""),[qe,Fe]=(0,s.useState)(""),[Me,Be]=(0,s.useState)("earnings"),[He,Je]=(0,s.useState)("earnings"),[Ge,Ye]=(0,s.useState)(""),[Xe,$e]=(0,s.useState)(""),[We,Ke]=(0,s.useState)(""),[ze,Qe]=(0,s.useState)(!1),[Ze,ea]=(0,s.useState)(!1),[aa,la]=(0,s.useState)(""),[sa,da]=(0,s.useState)(""),[ia,na]=(0,s.useState)(""),[ta,oa]=(0,s.useState)({}),[ra,ca]=(0,s.useState)(""),[ua,ma]=(0,s.useState)(!1),va=[{name:"Salary Component",imgUrl:"images/applyleavesIcon.svg",onClickFunc:e=>xa(e),id:"salary_component"},{name:"Pay Schedule",imgUrl:"images/bonus-icon.svg",onClickFunc:e=>xa(e),id:"pay_schedule"},{name:"IT Declaration",imgUrl:"images/attendancelogIcon.svg",onClickFunc:e=>xa(e),id:"it_declaration"},{name:"Tax Slab",imgUrl:"images/attendancelogIcon.svg",onClickFunc:e=>xa(e),id:"tax_slab"}],xa=e=>{"pay_schedule"===e?Na():"tax_slab"===e&&_a(),a(e),Te({taxSlabCurrPage:1})},pa=(e,a)=>{"add_earnings"===e?(Ye(a||""),De(!_e),Be("earnings")):"deduction"===e?(Ye(a||""),De(!_e),Be("deduction")):"post_tax_deduction"===e?ke(!Ce):"pre_tax_deduction"===e?Pe(!Se):"pay_schedule"===e?(da(a||""),Qe(!ze)):"tax_slab"===e&&(na(a||""),ea(!Ze))};(0,s.useEffect)((()=>{if(!t){if(r)return void n(N.Vg.handleClearPayrollStore("HANDLE_CLEAR_ADD_EARNING_STORE"));o&&200===(null===o||void 0===o?void 0:o.code)&&(ba(),pa("add_earnings"),n(N.Vg.handleClearPayrollStore("HANDLE_CLEAR_ADD_EARNING_STORE")))}}),[o,r,t]);(0,s.useEffect)((()=>{if(!u){if(v)return void n(N.Vg.handleClearPayrollStore("HANDLE_CLEAR_UPDATE_EARNING_STORE"));m&&200===(null===m||void 0===m?void 0:m.code)&&(ba(),Ye(""),pa("add_earnings"),n(N.Vg.handleClearPayrollStore("HANDLE_CLEAR_UPDATE_EARNING_STORE")))}}),[m,v,u]);(0,s.useEffect)((()=>{if(!T){if(L)return void n(N.Vg.handleClearPayrollStore("HANDLE_CLEAR_UPDATE_DEDUCTIONS_STORE"));R&&200===(null===R||void 0===R?void 0:R.code)&&(pa("deduction"),Ye(""),n(N.Vg.handleClearPayrollStore("HANDLE_CLEAR_UPDATE_DEDUCTIONS_STORE")))}}),[R,L,T]);(0,s.useEffect)((()=>{if(!j){if(E)return void n(N.Vg.handleClearPayrollStore("HANDLE_CLEAR_ADD_DEDUCTIONS_STORE"));f&&200===(null===f||void 0===f?void 0:f.code)&&(pa("deduction"),n(N.Vg.handleClearPayrollStore("HANDLE_CLEAR_ADD_DEDUCTIONS_STORE")))}}),[f,E,j]),(0,s.useEffect)((()=>{ha(),ga(),ba(),ja(),ya(),Da()}),[]);const ha=e=>{n(N.OH.getLeaveConstantDataRequest(e))};(0,s.useEffect)((()=>{if(!xe){if(he)return;if(pe&&200===(null===pe||void 0===pe?void 0:pe.code)){const e=null===pe||void 0===pe?void 0:pe.data;Oe(e)}}}),[pe,he,xe]);const ga=()=>{n(N.Vg.getAllEarningTypeRequest())};(0,s.useEffect)((()=>{if(!O){if(F)return;if(q&&200===(null===q||void 0===q?void 0:q.code)){const e=null===q||void 0===q?void 0:q.data;Le(e)}}}),[q,F,O]);const ya=()=>{n(N.Vg.getAllDeductionTypeRequest())};(0,s.useEffect)((()=>{if(!M){if(H)return;if(B&&200===(null===B||void 0===B?void 0:B.code)){const e=null===B||void 0===B?void 0:B.data;we(e)}}}),[B,H,M]);(0,s.useEffect)((()=>{if(!J){if(Y)return;if(G&&200===(null===G||void 0===G?void 0:G.code)){const e=null===G||void 0===G?void 0:G.data;Ie(e)}}}),[q,Y,J]);const ba=e=>{n(N.Vg.getEarningsRequest())};(0,s.useEffect)((()=>{if(!h){if(b)return;if(y&&200===(null===y||void 0===y?void 0:y.code)){const e=null===y||void 0===y?void 0:y.data;Fe(e)}}}),[q,b,h]);const ja=e=>{n(N.Vg.getDeductionsRequest())};(0,s.useEffect)((()=>{if(!V){if(U)return;if(I&&200===(null===I||void 0===I?void 0:I.code)){const e=null===I||void 0===I?void 0:I.data;Je(e)}}}),[I,U,V]),(0,s.useEffect)((()=>{fa()}),[]);const fa=()=>{n(N.jU.getAppConstantDataRequest())};(0,s.useEffect)((()=>{if(!ge){if(be)return;ye&&200===(null===ye||void 0===ye?void 0:ye.code)&&$e(null===ye||void 0===ye?void 0:ye.data)}}),[ye,be,ge]);(0,s.useEffect)((()=>{if(!X){if(W)return void n(N.Vg.handleClearPayrollStore("HANDLE_CLEAR_ADD_PAY_SCHEDULE_STORE"));$&&200===(null===$||void 0===$?void 0:$.code)&&(pa("pay_schedule"),Na(),n(N.Vg.handleClearPayrollStore("HANDLE_CLEAR_ADD_PAY_SCHEDULE_STORE")))}}),[$,W,X]);(0,s.useEffect)((()=>{if(!K){if(Q)return void n(N.Vg.handleClearPayrollStore("HANDLE_CLEAR_UPDATE_PAY_SCHEDULE_STORE"));z&&200===(null===z||void 0===z?void 0:z.code)&&(pa("pay_schedule"),Na(),n(N.Vg.handleClearPayrollStore("HANDLE_CLEAR_UPDATE_PAY_SCHEDULE_STORE")))}}),[z,Q,K]);const Na=()=>{n(N.Vg.upcomingPayrollsRequest())};(0,s.useEffect)((()=>{if(!Z){if(ae)return void n(N.Vg.handleClearPayrollStore("HANDLE_CLEAR_UPCOMING_PAY_ROLL_STORE"));ee&&200===(null===ee||void 0===ee?void 0:ee.code)&&Ke(null===ee||void 0===ee?void 0:ee.data)}}),[ee,ae,Z]);(0,s.useEffect)((()=>{if(!le){if(de)return void n(N.Vg.handleClearPayrollStore("HANDLE_CLEAR_ADD_TAX_SLAB_STORE"));se&&200===(null===se||void 0===se?void 0:se.code)&&(pa("tax_slab"),_a(),n(N.Vg.handleClearPayrollStore("HANDLE_CLEAR_ADD_TAX_SLAB_STORE")))}}),[se,de,le]),(0,s.useEffect)((()=>{if(!ie){if(te)return void n(N.Vg.handleClearPayrollStore("HANDLE_CLEAR_UPDATE_TAX_SLAB_STORE"));ne&&200===(null===ne||void 0===ne?void 0:ne.code)&&(pa("tax_slab"),_a(),n(N.Vg.handleClearPayrollStore("HANDLE_CLEAR_UPDATE_TAX_SLAB_STORE")))}}),[ne,te,ie]);const _a=e=>{const a={page:e||(null===Ee||void 0===Ee?void 0:Ee.taxSlabCurrPage),limit:null===p.X$||void 0===p.X$?void 0:p.X$.limit};n(N.Vg.getTaxSlabRequest(a))};(0,s.useEffect)((()=>{if(!oe){if(ce)return;re&&200===(null===re||void 0===re?void 0:re.code)&&la(null===re||void 0===re?void 0:re.data)}}),[re,ce,oe]);const Da=()=>{let e={category:""};["tax_slab"].forEach((a=>{e.category=a,n(N.dk.getFilteredDropdownDataRequest(e))}))};(0,s.useEffect)((()=>{if(!Ne){if(je)return;if(fe&&200===(null===fe||void 0===fe?void 0:fe.code)){const e=null===fe||void 0===fe?void 0:fe.data;let a=null===e||void 0===e?void 0:e.category;oa((l=>({...l,[a]:(null===e||void 0===e?void 0:e.data)||[]})))}}}),[fe,je,Ne]);const Ca=e=>{e&&ca(e),ma(!ua)};return(0,s.useEffect)((()=>{if(!ue){if(ve)return void n(N.Vg.handleClearPayrollStore("HANDLE_CLEAR_DELETE_TAX_SLAB_STORE"));me&&200===(null===me||void 0===me?void 0:me.code)&&(Ca(),_a(),n(N.Vg.handleClearPayrollStore("HANDLE_CLEAR_DELETE_TAX_SLAB_STORE")))}}),[me,ve,ue]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(i,{cardData:va}),"salary_component"===e&&(0,d.jsx)("div",{children:(0,d.jsx)(c,{handleToggleModals:pa,earningData:qe,deductionsData:He})}),"pay_schedule"===e&&(0,d.jsx)("div",{className:"cardBox myRequest mb-3 employeeHistory",children:(0,d.jsx)(C,{appConstantData:Xe,upcomingPayrollData:We,handleToggleModals:pa})}),"tax_slab"===e&&(0,d.jsx)("div",{className:"cardBox myRequest mb-3 employeeHistory",children:(0,d.jsx)(P,{handleToggleModals:pa,taxSlabData:aa,setCurrentPage:(e,a)=>{console.log(e,a,"pageNo,type------"),"tax_slab"===a&&(Te((a=>({...a,taxSlabCurrPage:e}))),_a(e))},toggleDeleteTaxSlabModal:Ca})}),_e&&(0,d.jsx)(_,{openModel:_e,handleOpenClose:pa,addEarnings:e=>{n(N.Vg.addEarningsRequest(e))},allLeaveConstantData:Ue,allEarningTypeData:Re,allDeductionTypeData:Ae,getEarningTypeById:e=>{n(N.Vg.getEarningTypeByIdRequest({id:e}))},isOpenModalType:Me,addDeductions:e=>{n(N.Vg.addDeductionsRequest(e))},earningDeductionSelectedData:Ge,updateEarnings:e=>{n(N.Vg.updateEarningsRequest(e))},updateDeductions:e=>{n(N.Vg.updateDeductionsRequest(e))},earningTypeByIdData:Ve}),Se&&(0,d.jsx)(S,{openModel:Se,handleOpenClose:pa}),Ce&&(0,d.jsx)(k,{openModel:Ce,handleOpenClose:pa}),ze&&(0,d.jsx)(D,{isOpenModal:ze,handleToggleModals:pa,appConstantData:Xe,selectedPayScheduleData:sa,handleAddPayScheduleData:e=>{n(N.Vg.addPayScheduleRequest(e))},handleUpdatePaySchedule:e=>{n(N.Vg.updatePayScheduleRequest(e))}}),Ze&&(0,d.jsx)(A,{isOpenModal:Ze,handleToggleModals:pa,selectedPayScheduleData:sa,selectedTaxSlabData:ia,handleAddUpdateTaxSlab:e=>{n(ia?N.Vg.updateTaxSlabRequest(e):N.Vg.addTaxSlabRequest(e))},filteredDropdownData:ta}),ua&&(0,d.jsx)(w.A,{onApproveReject:e=>{if(e){const e={_id:ra};n(null===N.Vg||void 0===N.Vg?void 0:N.Vg.deleteTaxSlabRequest(e))}else Ca()},isShow:ua,desc:l("alerts.deletePopup.desc").replace("$1","Tax Slab"),btnRightLoading:ue,btnTextRight:l("btns.delete"),btnTextLeft:l("btns.cancel")})]})}}}]);
//# sourceMappingURL=6732.24bfc2c0.chunk.js.map