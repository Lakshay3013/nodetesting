"use strict";(self.webpackChunkglueple_user=self.webpackChunkglueple_user||[]).push([[2703,8408],{85066:(e,l,a)=>{a.r(l),a.d(l,{default:()=>v});var s=a(65043),i=a(49985),d=a(85831),n=a(70579);const t=e=>{const{payRunDashboardData:l}=e;return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{class:"cardBox mypayroll mb-3",children:(0,n.jsxs)("div",{className:"row ",children:[(0,n.jsxs)("div",{className:"col-md-3 d-flex flex-wrap",children:[(0,n.jsxs)("h2",{className:"w-100",children:[(0,n.jsx)("span",{children:"Regular"})," Payroll"]}),(0,n.jsx)("figure",{className:"rupeeImageGroup mt-auto",children:(0,n.jsx)("img",{src:"images/rupeeBg.svg",alt:"",width:130})})]}),(0,n.jsx)("div",{className:"col-md-9",children:(0,n.jsxs)("div",{className:"row px-md-1",children:[(0,n.jsx)("div",{className:"col-md-4 px-md-2 my-2",children:(0,n.jsxs)("div",{className:"pyrollTxt",children:[(0,n.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,n.jsx)("figure",{children:(0,n.jsx)("img",{src:"images/pay-days-icon.svg",alt:"",width:35})}),(0,n.jsx)("span",{children:"Pay Month"})]}),(0,n.jsx)("div",{className:!0,children:(0,n.jsx)("strong",{children:(0,i.N_)(null===l||void 0===l?void 0:l.year_month,"MMM YYYY")})})]})}),(0,n.jsx)("div",{className:"col-md-4 px-md-2 my-2",children:(0,n.jsxs)("div",{className:"pyrollTxt",children:[(0,n.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,n.jsx)("figure",{children:(0,n.jsx)("img",{src:"images/present-days-icon.svg",alt:"",width:35})}),(0,n.jsx)("span",{children:"Employees"})]}),(0,n.jsx)("div",{className:!0,children:(0,n.jsx)("strong",{children:null===l||void 0===l?void 0:l.total_employees})})]})}),(0,n.jsx)("div",{className:"col-md-4 px-md-2 my-2",children:(0,n.jsxs)("div",{className:"pyrollTxt",children:[(0,n.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,n.jsx)("figure",{children:(0,n.jsx)("img",{src:"images/bonus-icon.svg",alt:"",width:35})}),(0,n.jsx)("span",{children:"Employees Net Pays"})]}),(0,n.jsx)("div",{className:!0,children:(0,n.jsxs)("strong",{children:["Rs ",(0,n.jsx)("b",{children:null===l||void 0===l?void 0:l.total_net_pay})]})})]})}),(0,n.jsx)("div",{className:"col-md-4 px-md-2 my-2",children:(0,n.jsxs)("div",{className:"pyrollTxt",children:[(0,n.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,n.jsxs)("figure",{children:[" ",(0,n.jsx)("img",{src:"images/bonus-icon.svg",alt:"",width:35})]}),(0,n.jsx)("span",{children:"Payroll Cost"})]}),(0,n.jsx)("div",{className:!0,children:(0,n.jsxs)("strong",{children:["Rs ",(0,n.jsxs)("b",{children:[" ",null===l||void 0===l?void 0:l.payroll_cost]})]})})]})}),(0,n.jsx)("div",{className:"col-md-4 px-md-2 my-2",children:(0,n.jsxs)("div",{className:"pyrollTxt",children:[(0,n.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,n.jsx)("figure",{children:(0,n.jsx)("img",{src:"images/bonus-icon.svg",alt:"",width:35})}),(0,n.jsx)("span",{children:"Hold Payroll Cost"})]}),(0,n.jsx)("div",{className:"",children:(0,n.jsxs)("strong",{children:["Rs ",(0,n.jsx)("b",{children:null===l||void 0===l?void 0:l.hold_payroll_cost})]})})]})}),(0,n.jsx)("div",{className:"col-md-4 px-md-2 my-2",children:(0,n.jsxs)("div",{className:"pyrollTxt",children:[(0,n.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,n.jsx)("figure",{children:(0,n.jsx)("img",{src:"images/paymonth-icon.svg",alt:"",width:35})}),(0,n.jsx)("span",{children:"Hold Employee Net Pay"})]}),(0,n.jsx)("div",{className:"",children:(0,n.jsx)("div",{children:(0,n.jsxs)("strong",{children:["Rs ",(0,n.jsx)("b",{children:null===l||void 0===l?void 0:l.hold_net_pay})]})})})]})})]})})]})})})};var r=a(29829);a(50586);const o=e=>{const{payRunData:l,currentPage:a,setCurrentPage:i,isLoading:d,handleViewSalarySlip:t,handleUpdateEmployeeSalarySlip:o}=e,c=(0,s.useMemo)((()=>({sn:(e,l)=>(0,n.jsx)("span",{children:l+1}),action:e=>(0,n.jsxs)("div",{className:"btn-group actionDrp",children:[(0,n.jsx)("button",{type:"button",className:"btn dropdown-toggle-split","data-bs-toggle":"dropdown","aria-expanded":"false",children:(0,n.jsx)("i",{className:"bi bi-three-dots-vertical"})}),(0,n.jsxs)("ul",{className:"dropdown-menu",children:[(0,n.jsx)("li",{children:(0,n.jsx)("span",{className:"dropdown-item",onClick:()=>t(e,"download"),children:"View Salary Slip"})}),(0,n.jsx)("li",{children:(0,n.jsx)("span",{className:"dropdown-item",onClick:()=>t(e,"email"),children:"Email Salary Slip"})}),(0,n.jsx)("li",{children:(0,n.jsx)("span",{className:"dropdown-item",onClick:()=>o(e),children:"Update Salary Slip"})})]})]})})),[l]);return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(r.Ak,{data:l&&(null===l||void 0===l?void 0:l.data),fields:[{key:"sn",label:"SN"},{key:"employee_name",label:"Employee Name"},{key:"emp_code",label:"Employee Code"},{key:"paid_days",label:"Present Days"},{key:"arrear_day",label:"Arrear Day"},{key:"is_hold",label:"Is Hold"},{key:"total_earnings",label:"Total Earning"},{key:"total_deductions",label:"Total Deductions"},{key:"net_pay",label:"Total pay"},{key:"action",label:"Action"}],isLoading:d,pagination:!0,currentPage:a,setCurrentPage:i,totalPages:null===l||void 0===l?void 0:l.totalPages,isHeader:!1,tableStyle:{padding:"0px",boxShadow:"none"},scopedSlots:c})})};var c=a(73216),m=a(35475),y=a(94174),p=a(22166),x=a(96816),h=a(52027),u=(a(75899),a(662));const v=()=>{var e;const{payMonth:l}=(0,c.g)(),a=(0,p.wA)(),{getPayRunPending:r,getPayRunRes:v,getPayRunError:j,getPayRunDashboardDataPending:g,getPayRunDashboardDataRes:f,getPayRunDashboardDataError:N,approvePayrollPending:_,approvePayrollRes:S,approvePayrollError:b,getEmployeeMonthlySalaryPending:E,getEmployeeMonthlySalaryRes:P,getEmployeeMonthlySalaryError:w,generateSalarySlipPending:R,generateSalarySlipRes:k,generateSalarySlipError:D}=(0,p.d4)((e=>e.payroll)),[M,C]=(0,s.useState)(""),[Y,A]=(0,s.useState)(""),[T,L]=(0,s.useState)(1),[V,H]=(0,s.useState)(),[B,q]=(0,s.useState)(!1);console.log("hello getEmployeeMonthlySalary",V),(0,s.useEffect)((()=>{if(l&&T){const e={month:(0,i.N_)(l,"YYYY-MM"),page:T,limit:h.X$.limit};I(e)}}),[l,T]),(0,s.useEffect)((()=>{if(l){const e={month:(0,i.N_)(l,"YYYY-MM")};O(e)}}),[l]);const I=e=>{a(y.Vg.getPayRunRequest(e))};(0,s.useEffect)((()=>{if(!r){if(j)return;v&&200===(null===v||void 0===v?void 0:v.code)&&C(null===v||void 0===v?void 0:v.data)}}),[v,j,r]),(0,s.useEffect)((()=>{if(!E){if(w)return;P&&200===(null===P||void 0===P?void 0:P.code)&&(H(null===P||void 0===P?void 0:P.data),a(y.Vg.handleClearPayrollStore("HANDLE_CLEAR_EMPLOYEE_MONTHLY_SALARY_STORE")))}}),[P,w,E]),(0,s.useEffect)((()=>{if(!R){if(D)return;var e;if(k)if(200===(null===k||void 0===k?void 0:k.code))H(null===k||void 0===k?void 0:k.data),window.open(null===k||void 0===k||null===(e=k.data)||void 0===e?void 0:e.filePath,"_blank"),a(y.Vg.handleClearPayrollStore("HANDLE_CLEAR_GENERATE_SALARY_SLIP_STORE"))}}),[R,k,D]);const O=e=>{a(y.Vg.getPayRunDashboardDataRequest(e))};(0,s.useEffect)((()=>{if(!g){if(N)return;f&&200===(null===f||void 0===f?void 0:f.code)&&A(null===f||void 0===f?void 0:f.data)}}),[f,N,g]);(0,s.useEffect)((()=>{if(!_){if(b)return;S&&200===(null===S||void 0===S?void 0:S.code)&&A(null===S||void 0===S?void 0:S.data)}}),[S,b,_]),(0,s.useEffect)((()=>{if(!_){if(b)return;S&&200===(null===S||void 0===S?void 0:S.code)&&A(null===S||void 0===S?void 0:S.data)}}),[S,b,_]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t,{payRunDashboardData:Y}),(0,n.jsxs)("div",{className:"cardBox",children:[(0,n.jsxs)("div",{className:"cardHead d-flex justify-content-between",children:[(0,n.jsxs)("div",{className:"d-flex align-items-center",children:[(0,n.jsx)(m.N_,{to:"/pay-runs",children:(0,n.jsx)(x.A,{})}),(0,n.jsx)("div",{className:"",children:(0,n.jsx)("h3",{children:" Home"})})]}),(0,n.jsx)("div",{className:"searchB me-0 ",children:(0,n.jsx)(d.Sv,{classNames:"btn btn-primary gradientBg",text:"Send Salary Slip To Selected",icon:(0,n.jsx)("i",{class:"fa fa-envelope mt-1","aria-hidden":"true"})})})]}),(0,n.jsx)(o,{payRunData:M,currentPage:T,setCurrentPage:L,isLoading:r,handleViewSalarySlip:(e,l)=>{let s={employee_id:e.employee_id,month:e.year_mon,type:l};a(y.Vg.generateSalarySlipRequest(s))},handleUpdateEmployeeSalarySlip:e=>{let l={employee_id:e.employee_id,month:e.year_mon};a(y.Vg.getEmployeeMonthlySalaryRequest(l)),q(!0)}}),(0,n.jsx)("div",{className:"d-flex justify-content-end",children:(0,n.jsx)(d.Sv,{isLoading:_,classNames:"btn btn-primary gradientBg",handleClick:()=>(()=>{const{payroll_cost:e,total_net_pay:l,tex:s,pre_tex_deduction:i,pay_date:d,year_month:n,total_employees:t}=Y,r={payroll_cost:e,payroll_netPay:l,tex:s||0,pre_tex_deduction:0,employee_no:t,pay_date:"",pay_month:n,status:!0};a(y.Vg.approvePayrollRequest(r))})(),text:"Approve Payroll",icon:(0,n.jsx)("i",{class:"fa fa-check mt-1","aria-hidden":"true"})})})]}),B&&(0,n.jsx)(u.default,{selectedSalaryTemplate:V[0],employeeID:null===(e=V[0])||void 0===e?void 0:e.employee_id,salaryUpdate:!0}),R&&(0,n.jsx)(d.L,{isShow:R,size:"lg"})]})}}}]);
//# sourceMappingURL=2703.7e239fd6.chunk.js.map