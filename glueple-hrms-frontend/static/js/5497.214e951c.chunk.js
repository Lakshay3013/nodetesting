"use strict";(self.webpackChunkglueple_user=self.webpackChunkglueple_user||[]).push([[5497],{69737:(e,s,t)=>{t.d(s,{A:()=>i});t(65043);var l=t(70579);const i=e=>{const{name:s,value:t,handleChange:i,totalHours:a,intervalMinutes:d}=e,n=((e,s)=>{const t=[];let l="00",i="00";for(let a=0;a<e;a++)for(let e=0;e<60;e++)l=a<10?`0${a}`:a,e%s===0&&(i=e<10?`0${e}`:e,t.push({item:`${l}:${i}`}));return t})(a,d);return(0,l.jsxs)("select",{className:"form-select",name:s,value:t,onChange:e=>i(e),children:[(0,l.jsx)("option",{value:"",hidden:!0,children:"HH:MM"}),n.map(((e,s)=>(0,l.jsx)("option",{value:e.item,children:e.item},s)))]})}},46170:(e,s,t)=>{t.d(s,{A:()=>m});var l=t(65043),i=t(22166),a=(t(85831),t(94174)),d=t(42145),n=t(80728),r=t(26181),o=t(33474),c=(t(86178),t(69737),t(70579));const m=e=>{const s=(0,i.wA)(),{openAddCalendar:t,openAddCalendarModel:m,selectedCalendarData:h,setSelectedCalendarDatas:f,getAllShiftCalendar:v}=e,{addShiftCalendarPending:u,addShiftCalendarRes:x,addShiftCalendarError:p}=(0,i.d4)((e=>e.shift)),[j,_]=(0,l.useState)({}),[g,N]=(0,l.useState)(""),[b,y]=(0,l.useState)(""),[S,k]=(0,l.useState)(),[E,C]=(0,l.useState)([]),[w,A]=(0,l.useState)({title:"",working_days:"",alternative_saturday_off:"",week_off:""}),M=e=>{if(1==e.target.checked)C([...E,e.target.value]);else{let s=E.filter((s=>s!=e.target.value));C([...s])}},D=e=>{if(1==e.target.checked)k([...S,e.target.value]);else{let s=S.filter((s=>s!=e.target.value));k([...s])}};(0,l.useEffect)((()=>{if(!u){if(p)return void d.oR.error(null===p||void 0===p?void 0:p.errorMessage);var e,t;if(x)if(200===(null===x||void 0===x||null===(e=x.data)||void 0===e?void 0:e.code))d.oR.success(null===x||void 0===x||null===(t=x.data)||void 0===t?void 0:t.msg),m(),s(a.ce.handleClearShiftStore("HANDLE_CLEAR_ADD_SHIFT_CALENDAR_STORE"))}}),[x,p,u]),(0,l.useEffect)((()=>{A({title:(null===h||void 0===h?void 0:h.title)||"",working_days:(null===h||void 0===h?void 0:h.working_days)||"",alternative_saturday_off:(null===h||void 0===h?void 0:h.alternative_saturday_off)||"",week_off:null===h||void 0===h?void 0:h.week_off}),y(null===h||void 0===h?void 0:h.working_days),k(null===h||void 0===h?void 0:h.week_off),C(void 0==(null===h||void 0===h?void 0:h.alternative_saturday_off)?[]:null===h||void 0===h?void 0:h.alternative_saturday_off),N(null===h||void 0===h?void 0:h.id)}),[h]);(0,l.useEffect)((()=>{!1===t&&F()}),[t]);const F=()=>{A({title:"",working_days:"",alternative_saturday_off:"",week_off:""}),_({})};return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("div",{className:"offcanvas offcanvas-end creatNewTicketOff "+(t?"show":""),tabIndex:-1,style:{visibility:t?"visible":"hidden",width:"800px"},children:[(0,c.jsxs)("div",{className:"offcanvas-header",children:[(0,c.jsxs)("h5",{className:"offcanvas-title  fs-5 fw-bold text-primary",children:[h?"Update":"Create New"," Calendar"]}),(0,c.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close",onClick:()=>m()})]}),(0,c.jsx)("div",{className:"offcanvas-body",children:(0,c.jsx)("div",{className:"table-responsive tableDiv shiftmanagementtbl",children:(0,c.jsx)("table",{className:"table",children:(0,c.jsxs)("tbody",{children:[(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{width:"30%",children:(0,c.jsxs)("div",{className:"d-flex align-items-center",children:[(0,c.jsx)("span",{className:"srNum",children:"1"}),(0,c.jsx)("b",{className:"ps-3 text-primary",children:" Title "})]})}),(0,c.jsxs)("td",{children:[(0,c.jsx)("input",{type:"text",name:"title",value:w.title,onChange:e=>(e=>{const{name:s,value:t}=e.target;A({...w,[s]:t}),_((e=>({...e,[s]:void 0})))})(e),className:"form-control",placeholder:"Enter Title"}),(null===j||void 0===j?void 0:j.title)&&(0,c.jsx)(o.A,{text:j.title})]})]}),(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{children:(0,c.jsxs)("div",{className:"d-flex align-items-center",children:[(0,c.jsx)("span",{className:"srNum",children:"5"}),(0,c.jsx)("b",{className:"ps-3 text-primary",children:" Working Days"})]})}),(0,c.jsx)("td",{children:(0,c.jsx)("div",{className:"d-flex workingradio",children:(0,c.jsxs)("div",{className:"shiftInpt",children:[(0,c.jsxs)("select",{className:"form-select",required:!0,name:"shift_type",value:b,onChange:e=>{return s=e.target.value,y(s),void("5"==s?k(["6","0"]):"6"==s?(k([]),k(["0"])):"0"==s&&k([]));var s},children:[(0,c.jsx)("option",{value:"",hidden:!0,selected:!0,children:"Select Required Working Days"}),(0,c.jsx)("option",{value:"5",children:"5 Days"}),(0,c.jsx)("option",{value:"6",children:"6 Days"}),(0,c.jsx)("option",{value:"0",children:"7 Days"}),(0,c.jsx)("option",{value:"alternative_saturday",children:"Alternative Saturday Off"})]}),(null===j||void 0===j?void 0:j.working_days)&&(0,c.jsx)(o.A,{text:j.working_days})]})})})]}),"alternative_saturday"==b&&(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{children:(0,c.jsxs)("div",{className:"d-flex align-items-center",children:[(0,c.jsx)("span",{className:"srNum",children:"6"}),(0,c.jsx)("b",{className:"ps-3 text-primary",children:"Saturdays"})]})}),(0,c.jsx)("td",{children:(0,c.jsx)("div",{className:"d-flex workingradio",children:(0,c.jsxs)("div",{className:"d-flex gap-2 checkShift",children:[(0,c.jsxs)("div",{className:"form-check",children:[(0,c.jsx)("input",{className:"form-check-input",type:"checkbox",value:"1",name:"1",onClick:M,checked:null===E||void 0===E?void 0:E.includes("1")}),(0,c.jsx)("label",{className:"form-check-label",for:"first",children:"1st"})]}),(0,c.jsxs)("div",{className:"form-check",children:[(0,c.jsx)("input",{className:"form-check-input",type:"checkbox",value:"2",name:"2",onClick:M,checked:null===E||void 0===E?void 0:E.includes("2")}),(0,c.jsx)("label",{className:"form-check-label",for:"second",children:"2st"})]}),(0,c.jsxs)("div",{className:"form-check",children:[(0,c.jsx)("input",{className:"form-check-input",type:"checkbox",value:"3",name:"3",onClick:M,checked:null===E||void 0===E?void 0:E.includes("3")}),(0,c.jsx)("label",{className:"form-check-label",for:"third",children:"3st"})]}),(0,c.jsxs)("div",{className:"form-check",children:[(0,c.jsx)("input",{className:"form-check-input",type:"checkbox",value:"4",name:"4",onClick:M,checked:null===E||void 0===E?void 0:E.includes("4")}),(0,c.jsx)("label",{className:"form-check-label",for:"fourth ",children:"4st"})]}),(0,c.jsxs)("div",{className:"form-check",children:[(0,c.jsx)("input",{className:"form-check-input",type:"checkbox",value:"5",name:"5",onClick:M,checked:null===E||void 0===E?void 0:E.includes("5")}),(0,c.jsx)("label",{className:"form-check-label",for:"five ",children:"5st"})]})]})})})]}),"7"!=b&&"alternative_saturday"!=b&&(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{children:(0,c.jsxs)("div",{className:"d-flex align-items-center",children:[(0,c.jsx)("span",{className:"srNum",children:"7"}),(0,c.jsx)("b",{className:"ps-3 text-primary",children:" Week Off"})]})}),(0,c.jsx)("td",{children:(0,c.jsxs)("div",{className:"d-flex gap-2 checkShift",children:[(0,c.jsxs)("div",{className:"form-check",children:[(0,c.jsx)("input",{className:"form-check-input",type:"checkbox",value:"1",name:"1",id:"first",onClick:D,checked:null===S||void 0===S?void 0:S.includes("1")}),(0,c.jsx)("label",{className:"form-check-label",htmlFor:"first",children:"Monday"})]}),(0,c.jsxs)("div",{className:"form-check",children:[(0,c.jsx)("input",{className:"form-check-input",type:"checkbox",value:"2",name:"2",id:"second",onClick:D,checked:null===S||void 0===S?void 0:S.includes("2")}),(0,c.jsx)("label",{className:"form-check-label",htmlFor:"second",children:"Tuesday"})]}),(0,c.jsxs)("div",{className:"form-check",children:[(0,c.jsx)("input",{className:"form-check-input",type:"checkbox",value:"3",name:"3",id:"third",onClick:D,checked:null===S||void 0===S?void 0:S.includes("3")}),(0,c.jsx)("label",{className:"form-check-label",htmlFor:"third",children:"Wednesday"})]}),(0,c.jsxs)("div",{className:"form-check",children:[(0,c.jsx)("input",{className:"form-check-input",type:"checkbox",value:"4",name:"4",id:"fourth ",onClick:D,checked:null===S||void 0===S?void 0:S.includes("4")}),(0,c.jsx)("label",{className:"form-check-label",htmlFor:"fourth ",children:"Thursday"})]}),(0,c.jsxs)("div",{className:"form-check",children:[(0,c.jsx)("input",{className:"form-check-input",type:"checkbox",value:"5",name:"5",id:"five ",onClick:D,checked:null===S||void 0===S?void 0:S.includes("5")}),(0,c.jsx)("label",{className:"form-check-label",htmlFor:"five ",children:"Friday"})]}),(0,c.jsxs)("div",{className:"form-check",children:[(0,c.jsx)("input",{className:"form-check-input",type:"checkbox",value:"6",name:"6",id:"five ",onClick:D,checked:null===S||void 0===S?void 0:S.includes("6")}),(0,c.jsx)("label",{className:"form-check-label",htmlFor:"five ",children:"Saturday"})]}),(0,c.jsxs)("div",{className:"form-check",children:[(0,c.jsx)("input",{className:"form-check-input",type:"checkbox",value:"0",name:"0",id:"five ",onClick:D,checked:null===S||void 0===S?void 0:S.includes("0")}),(0,c.jsx)("label",{className:"form-check-label",htmlFor:"five ",children:"Sunday"})]})]})})]})]})})})}),(0,c.jsx)("div",{className:"offcanvas-footer",children:(0,c.jsx)("div",{className:"d-flex align-items-center justify-content-end gap-3",children:(0,c.jsx)("button",{type:"button",className:"btn btn-primary gradientBg",onClick:()=>(async()=>{w.working_days=b,w.alternative_saturday_off=E,w.week_off=S;const e=await(0,r.i6)(n.oc,w);e.isValid?(_({}),h?(w._id=g,s(a.ce.updateShiftCalendarRequest(w)),m(),v()):(s(a.ce.addShiftCalendarRequest(w)),v())):_(e.errors)})(),children:"Submit"})})})]})})}},45497:(e,s,t)=>{t.r(s),t.d(s,{default:()=>q});var l=t(65043),i=t(22166),a=t(85831),d=t(94174),n=t(42145),r=t(80728),o=t(26181),c=t(33474),m=t(86178),h=t.n(m),f=t(69737),v=t(49985),u=t(70579);const x=e=>{var s;const{openModel:t,openCreateShiftModel:n,editShift:m,setEditShift:x,getAllShiftFunction:p}=e,{addShiftPending:j,addShiftRes:_,addShiftError:g}=(0,i.d4)((e=>e.shift)),[N,b]=(0,l.useState)({}),y=(0,i.wA)(),[S,k]=(0,l.useState)(""),[E,C]=(0,l.useState)(""),[w,A]=(0,l.useState)(!1),[M,D]=(0,l.useState)(),[F,Y]=(0,l.useState)(),[I,R]=(0,l.useState)({shift_name:"",shift_code:"",color:"",is_active:!1,shift_start_time:"",shift_end_time:"",break_start_time:"",break_end_time:"",early_arrival_tolerance:"",late_departure_tolerance:"",grace_start_time:"",grace_end_time:"",half_day_policy_time:"",full_day_policy_time:"",shift_type:""});(0,l.useEffect)((()=>{R({shift_name:(null===m||void 0===m?void 0:m.shift_name)||"",shift_code:(null===m||void 0===m?void 0:m.shift_code)||"",color:(null===m||void 0===m?void 0:m.color)||"",is_active:(null===m||void 0===m?void 0:m.is_active)||"",shift_start_time:(null===m||void 0===m?void 0:m.shift_start_time)||"",shift_end_time:(null===m||void 0===m?void 0:m.shift_end_time)||"",break_start_time:(null===m||void 0===m?void 0:m.break_start_time)||"",break_end_time:(null===m||void 0===m?void 0:m.break_end_time)||"",early_arrival_tolerance:(null===m||void 0===m?void 0:m.early_arrival_tolerance)||"",late_departure_tolerance:(null===m||void 0===m?void 0:m.late_departure_tolerance)||"",grace_start_time:(null===m||void 0===m?void 0:m.grace_start_time)||"",grace_end_time:(null===m||void 0===m?void 0:m.grace_end_time)||"",half_day_policy_time:(null===m||void 0===m?void 0:m.half_day_policy_time)||"",full_day_policy_time:(null===m||void 0===m?void 0:m.full_day_policy_time)||"",shift_type:(null===m||void 0===m?void 0:m.shift_type)||""}),A(m.is_active),C(null===m||void 0===m?void 0:m.id)}),[m]),(0,l.useEffect)((()=>{if(!j){if(g)return;_&&200===(null===_||void 0===_?void 0:_.code)&&(n(),y(d.ce.handleClearShiftStore("HANDLE_CLEAR_ADD_SHIFT_STORE")))}}),[_,g,j]);const T=e=>{const{name:s,value:t}=e.target;if("shift_name"===s){let e=null===t||void 0===t?void 0:t.split(" ").map((e=>e.charAt(0).toUpperCase())).join("");I.shift_code=e}else if("shift_end_time"===s){const e=h()(I.shift_start_time,"HH:mm:ss"),s=h()(t,"HH:mm:ss"),l=e.isAfter(s),i=l?s.add(1,"day"):s,a=h().duration(i.diff(e)),d=`${String(a.hours()).padStart(2,"0")}:${String(a.minutes()).padStart(2,"0")}`,n=l?"night":"morning";D(d),I.shift_type=n,I.full_day_policy_time=d}else if("break_end_time"===s){const e=h()(I.break_start_time,"HH:mm:ss"),s=h()(t,"HH:mm:ss"),l=e.isAfter(s)?s.add(1,"day"):s,i=h().duration(l.diff(e)),a=`${String(i.hours()).padStart(2,"0")}:${String(i.minutes()).padStart(2,"0")}`;Y(a)}R({...I,[s]:t}),b((e=>({...e,[s]:void 0})))};(0,l.useEffect)((()=>{0==t&&O()}),[t]);const O=()=>{R({shift_name:"",shift_code:"",color:"",is_active:"",shift_start_time:"",shift_end_time:"",break_start_time:"",break_end_time:"",early_arrival_tolerance:"",late_departure_tolerance:"",grace_start_time:"",grace_end_time:"",half_day_policy_time:"",full_day_policy_time:"",shift_type:""}),x(""),b({}),k("")};return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("div",{className:"offcanvas offcanvas-end creatNewTicketOff "+(t?"show":""),tabIndex:-1,style:{visibility:t?"visible":"hidden",width:"800px"},children:[(0,u.jsxs)("div",{className:"offcanvas-header",children:[(0,u.jsxs)("h5",{className:"offcanvas-title  fs-5 fw-bold text-primary",children:[m?"Update":"Create New"," Shift"]}),(0,u.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close",onClick:()=>n()})]}),(0,u.jsx)("div",{className:"offcanvas-body",children:(0,u.jsxs)("div",{className:"formPanel",children:[(0,u.jsxs)("div",{className:"row",children:[(0,u.jsx)("div",{className:"col-md-3",children:(0,u.jsx)("div",{className:"form-group mb-3",children:(0,u.jsxs)("label",{htmlFor:!0,children:["Shift Name",(0,u.jsx)("span",{className:"text-danger",children:"*"})]})})}),(0,u.jsx)("div",{className:"col-md-9",children:(0,u.jsxs)("div",{className:"form-group mb-3",children:[(0,u.jsx)("input",{type:"text",className:"form-control fs-7",placeholder:"Enter Shift Name",name:"shift_name",value:(null===I||void 0===I?void 0:I.shift_name)||"",onChange:e=>T(e)}),(null===N||void 0===N?void 0:N.shift_name)&&(0,u.jsx)(c.A,{text:N.shift_name})]})})]}),(0,u.jsxs)("div",{className:"row",children:[(0,u.jsx)("div",{className:"col-md-3",children:(0,u.jsx)("div",{className:"form-group mb-3",children:(0,u.jsxs)("label",{htmlFor:!0,children:["Shift Code",(0,u.jsx)("span",{className:"text-danger",children:"*"})]})})}),(0,u.jsx)("div",{className:"col-md-9",children:(0,u.jsxs)("div",{className:"form-group mb-3",children:[(0,u.jsx)("input",{type:"text",className:"form-control fs-7",placeholder:"Enter Shift Code",name:"shift_code",value:(null===(s=I.shift_code)||void 0===s?void 0:s.toUpperCase())||"",onChange:e=>T(e)}),(null===N||void 0===N?void 0:N.shift_code)&&(0,u.jsx)(c.A,{text:N.shift_code})]})})]}),(0,u.jsxs)("div",{className:"row",children:[(0,u.jsx)("div",{className:"col-md-3",children:(0,u.jsx)("div",{className:"form-group mb-3",children:(0,u.jsxs)("label",{htmlFor:!0,style:{position:"relative",top:"40px"},children:["Working Time",(0,u.jsx)("span",{className:"text-danger",children:"*"})]})})}),(0,u.jsx)("div",{className:"col-md-9",children:(0,u.jsx)("div",{className:"form-group mb-3",children:(0,u.jsxs)("div",{className:"row",children:[(0,u.jsxs)("div",{className:"form-group col-md",children:[(0,u.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Start time"}),(0,u.jsx)("span",{className:"text-danger",children:"*"}),(0,u.jsx)("input",{type:"time",name:"shift_start_time",value:I.shift_start_time,onChange:e=>T(e),className:"form-control",placeholder:"Enter start time"}),(null===N||void 0===N?void 0:N.shift_start_time)&&(0,u.jsx)(c.A,{text:N.shift_start_time})]}),(0,u.jsxs)("div",{className:"form-group col-md",children:[(0,u.jsx)("label",{htmlFor:"exampleInputEmail1",children:"End time"}),(0,u.jsx)("span",{className:"text-danger",children:"*"}),(0,u.jsx)("input",{type:"time",name:"shift_end_time",value:I.shift_end_time,onChange:e=>T(e),className:"form-control",placeholder:"Enter end time"}),(null===N||void 0===N?void 0:N.shift_end_time)&&(0,u.jsx)(c.A,{text:N.shift_end_time})]}),(0,u.jsxs)("div",{className:"form-group col-md",children:[(0,u.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Shift Hours"}),(0,u.jsx)("input",{type:"text",name:"",value:I.full_day_policy_time,readOnly:!0,className:"form-control",placeholder:"Shift Hours"})]})]})})})]}),(0,u.jsxs)("div",{className:"row",children:[(0,u.jsx)("div",{className:"col-md-3",children:(0,u.jsx)("div",{className:"form-group mb-3",children:(0,u.jsxs)("label",{htmlFor:!0,style:{position:"relative",top:"40px"},children:["Break Time",(0,u.jsx)("span",{className:"text-danger",children:"*"})]})})}),(0,u.jsx)("div",{className:"col-md-9",children:(0,u.jsx)("div",{className:"form-group mb-3",children:(0,u.jsxs)("div",{className:"row",children:[(0,u.jsxs)("div",{className:"form-group col-md",children:[(0,u.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Start time"}),(0,u.jsx)("span",{className:"text-danger",children:"*"}),(0,u.jsx)("input",{type:"time",name:"break_start_time",value:I.break_start_time,onChange:e=>T(e),className:"form-control",placeholder:"Enter start time"}),(null===N||void 0===N?void 0:N.break_start_time)&&(0,u.jsx)(c.A,{text:N.break_start_time})]}),(0,u.jsxs)("div",{className:"form-group col-md",children:[(0,u.jsx)("label",{htmlFor:"exampleInputEmail1",children:"End time"}),(0,u.jsx)("span",{className:"text-danger",children:"*"}),(0,u.jsx)("input",{type:"time",name:"break_end_time",value:I.break_end_time,onChange:e=>T(e),className:"form-control",placeholder:"Enter end time"}),(null===N||void 0===N?void 0:N.break_end_time)&&(0,u.jsx)(c.A,{text:N.break_end_time})]}),(0,u.jsxs)("div",{className:"form-group col-md",children:[(0,u.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Break Hours"}),(0,u.jsx)("input",{type:"text",name:"",value:F,readOnly:!0,className:"form-control",placeholder:"Break Hours"})]})]})})})]}),(0,u.jsxs)("div",{className:"row",children:[(0,u.jsx)("div",{className:"col-md-3",children:(0,u.jsx)("div",{className:"form-group mb-3",children:(0,u.jsxs)("label",{htmlFor:!0,style:{position:"relative",top:"40px"},children:["Punching Tolerance",(0,u.jsx)("span",{className:"text-danger",children:"*"})]})})}),(0,u.jsx)("div",{className:"col-md-9",children:(0,u.jsx)("div",{className:"form-group mb-3",children:(0,u.jsxs)("div",{className:"row",children:[(0,u.jsxs)("div",{className:"form-group col-md",children:[(0,u.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Early Coming Time"}),(0,u.jsx)("span",{className:"text-danger",children:"*"}),(0,u.jsx)(f.A,{name:"early_arrival_tolerance",value:I.early_arrival_tolerance,handleChange:T,totalHours:5,intervalMinutes:15}),(null===N||void 0===N?void 0:N.early_arrival_tolerance)&&(0,u.jsx)(c.A,{text:N.early_arrival_tolerance})]}),(0,u.jsxs)("div",{className:"form-group col-md",children:[(0,u.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Let Going Time"}),(0,u.jsx)("span",{className:"text-danger",children:"*"}),(0,u.jsx)(f.A,{name:"late_departure_tolerance",value:I.late_departure_tolerance,handleChange:T,totalHours:5,intervalMinutes:15}),(null===N||void 0===N?void 0:N.late_departure_tolerance)&&(0,u.jsx)(c.A,{text:N.late_departure_tolerance})]})]})})})]}),(0,u.jsxs)("div",{className:"row",children:[(0,u.jsx)("div",{className:"col-md-3",children:(0,u.jsx)("div",{className:"form-group mb-3",children:(0,u.jsxs)("label",{htmlFor:!0,style:{position:"relative",top:"40px"},children:["Grace Period",(0,u.jsx)("span",{className:"text-danger",children:"*"})]})})}),(0,u.jsx)("div",{className:"col-md-9",children:(0,u.jsx)("div",{className:"form-group mb-3",children:(0,u.jsxs)("div",{className:"row",children:[(0,u.jsxs)("div",{className:"form-group col-md",children:[(0,u.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Grace Start Time "}),(0,u.jsx)("span",{className:"text-danger",children:"*"}),(0,u.jsx)(f.A,{name:"grace_start_time",value:I.grace_start_time,handleChange:T,totalHours:5,intervalMinutes:15}),(null===N||void 0===N?void 0:N.grace_start_time)&&(0,u.jsx)(c.A,{text:N.grace_start_time})]}),(0,u.jsxs)("div",{className:"form-group col-md",children:[(0,u.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Grace End Time"}),(0,u.jsx)("span",{className:"text-danger",children:"*"}),(0,u.jsx)(f.A,{name:"grace_end_time",value:I.grace_end_time,handleChange:T,totalHours:5,intervalMinutes:15}),(null===N||void 0===N?void 0:N.grace_end_time)&&(0,u.jsx)(c.A,{text:N.grace_end_time})]})]})})})]}),(0,u.jsxs)("div",{className:"row",children:[(0,u.jsx)("div",{className:"col-md-3",children:(0,u.jsx)("div",{className:"form-group mb-3",children:(0,u.jsxs)("label",{htmlFor:!0,style:{position:"relative",top:"40px"},children:["Half/Full day policy",(0,u.jsx)("span",{className:"text-danger",children:"*"})]})})}),(0,u.jsx)("div",{className:"col-md-9",children:(0,u.jsx)("div",{className:"form-group mb-3",children:(0,u.jsxs)("div",{className:"row",children:[(0,u.jsxs)("div",{className:"form-group col-md",children:[(0,u.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Half day"}),(0,u.jsx)("span",{className:"text-danger",children:"*"}),(0,u.jsx)("input",{type:"time",name:"half_day_policy_time",value:I.half_day_policy_time,onChange:e=>T(e),className:"form-control",placeholder:"Enter end time"}),(null===N||void 0===N?void 0:N.half_day_policy_time)&&(0,u.jsx)(c.A,{text:N.half_day_policy_time})]}),(0,u.jsxs)("div",{className:"form-group col-md",children:[(0,u.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Full day"}),(0,u.jsx)("span",{className:"text-danger",children:"*"}),(0,u.jsx)("input",{type:"text",name:"full_day_policy_time",value:I.full_day_policy_time,onChange:e=>T(e),className:"form-control",readOnly:!0,placeholder:"Full day"}),(null===N||void 0===N?void 0:N.full_day_policy_time)&&(0,u.jsx)(c.A,{text:N.full_day_policy_time})]})]})})})]}),(0,u.jsxs)("div",{className:"row",children:[(0,u.jsx)("div",{className:"col-md-3",children:(0,u.jsx)("div",{className:"form-group mb-3",children:(0,u.jsxs)("label",{htmlFor:!0,children:["Shift Type",(0,u.jsx)("span",{className:"text-danger",children:"*"})]})})}),(0,u.jsx)("div",{className:"col-md-9",children:(0,u.jsxs)("div",{className:"form-group mb-3",children:[(0,u.jsxs)("select",{className:"form-select",required:!0,name:"shift_type",value:null===I||void 0===I?void 0:I.shift_type,onChange:e=>T(e),children:[(0,u.jsx)("option",{value:"",hidden:!0,selected:!0,children:"Select Required shift Type"}),(0,u.jsx)("option",{value:"morning",children:"Morning"}),(0,u.jsx)("option",{value:"night",children:"Night"})]}),(null===N||void 0===N?void 0:N.shift_type)&&(0,u.jsx)(c.A,{text:N.shift_type})]})})]}),(0,u.jsxs)("div",{className:"row",children:[(0,u.jsx)("div",{className:"col-md-3",children:(0,u.jsx)("div",{className:"form-group mb-3",children:(0,u.jsxs)("label",{htmlFor:!0,children:["Shift Color",(0,u.jsx)("span",{className:"text-danger",children:"*"})]})})}),(0,u.jsx)("div",{className:"col-md-9",children:(0,u.jsxs)("div",{className:"form-group mb-3",children:[(0,u.jsx)("input",{type:"color",className:"ColorData",placeholder:"Enter Short Name",name:"color",value:(null===I||void 0===I?void 0:I.color)||"",onChange:e=>T(e)}),(null===N||void 0===N?void 0:N.color)&&(0,u.jsx)(c.A,{text:N.color})]})})]}),(0,u.jsxs)("div",{className:"row",children:[(0,u.jsx)("div",{className:"col-md-3",children:(0,u.jsx)("div",{className:"form-group mb-3",children:(0,u.jsxs)("label",{htmlFor:!0,children:["is Active",(0,u.jsx)("span",{className:"text-danger",children:"*"})]})})}),(0,u.jsx)("div",{className:"col-md-9",children:(0,u.jsxs)("div",{className:"form-group mb-3",children:[(0,u.jsx)("input",{type:"checkbox",placeholder:"Is Active",checked:w,onChange:e=>A(!w)}),(null===N||void 0===N?void 0:N.is_active)&&(0,u.jsx)(c.A,{text:N.is_active})]})})]}),(0,u.jsx)("div",{className:"d-flex align-items-center justify-content-end gap-2",children:(0,u.jsx)(a.Sv,{type:"button",classNames:"btn btn-primary gradientBg",handleClick:e=>(async()=>{I.is_active=w;const e=await(0,o.i6)(r.PC,I);e.isValid?(b({}),m?(I._id=E,y(d.ce.updateShiftRequest(I)),n(),p()):(y(d.ce.addShiftRequest(I)),p())):(b(e.errors),console.log(e.errors,"formattedErrors"))})(),text:(m?"Update":"Create")+" Shift",slug:m?(0,v.Yo)("update_sift"):(0,v.Yo)("create_sift")})})]})})]})})},p=e=>{const{card:s,setEditShift:t,openCreateShiftModel:l,setDeletShift:i,setActivebtn:d}=e;return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("div",{className:"dropdown",children:[(0,u.jsx)("button",{className:"btn dropdownDots",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:(0,u.jsx)("img",{src:"images/dotvertical.svg",alt:"",width:25})}),(0,u.jsxs)("ul",{className:"dropdown-menu",children:[(0,u.jsx)("li",{children:(0,u.jsx)(a.Sv,{text:"Edit Shift",classNames:"dropdown-item border-bottom",handleClick:()=>(l(),void t(s)),slug:"edit_shift"})}),1!=s.is_default&&(0,u.jsx)("li",{children:1==s.is_active?(0,u.jsx)("button",{className:"dropdown-item border-bottom",onClick:()=>d(s),children:"Set as Inactive"}):(0,u.jsx)("button",{className:"dropdown-item border-bottom",onClick:()=>d(s),children:"Set as active"})}),(0,u.jsx)("li",{children:(0,u.jsx)(a.Sv,{text:" Delete Shift",classNames:"dropdown-item",handleClick:()=>i(s),slug:"delete_shift"})})]})]})})},j=e=>{let{card:s,index:t,setEditShift:a,openCreateShiftModel:d,setDeletShift:n,setShiftData:r,setActivebtn:o,editMode:c}=e;(0,i.wA)();const[m,h]=(0,l.useState)([0]);return(0,u.jsxs)("li",{className:"nav-item",style:{backgroundColor:"#FFFFFF30",marginRight:"10px"},children:[(0,u.jsxs)("a",{href:"#shiftTab1","data-bs-toggle":"tab",className:"nav-link w-100 "+(m.includes(t)?"active":""),onClick:e=>((e,s)=>{r(e),h([s])})(s,t),children:[(0,u.jsxs)("span",{children:[null===s||void 0===s?void 0:s.shift_name," ",null===(null===s||void 0===s?void 0:s.shift_code)||void 0===(null===s||void 0===s?void 0:s.shift_code)?"":`(${null===s||void 0===s?void 0:s.shift_code})`]}),(0,u.jsxs)("strong",{children:[`${null===s||void 0===s?void 0:s.shift_start_time} - ${null===s||void 0===s?void 0:s.shift_end_time}`," "]})]}),void 0!==(null===s||void 0===s?void 0:s.shift_code)&&c&&(0,u.jsx)(p,{card:s,setEditShift:a,openCreateShiftModel:d,setDeletShift:n,setActivebtn:o})]},null===s||void 0===s?void 0:s.id)},_=e=>{const{getAllShift:s,setEditShift:t,openCreateShiftModel:i,setDeletShift:a,setShiftData:d,setActivebtn:n,editMode:r}=e,[o,c]=(0,l.useState)(null);return(0,l.useEffect)((()=>{let e=document.querySelector(".qualityServicetab");c(e)}),[o]),(0,u.jsxs)("div",{className:"carousel slide ",style:{overflow:"hidden"},children:[(0,u.jsx)("ul",{className:"nav nav-tabs shiftListing qualityServicetab border-0",style:{overflowX:"hidden",scrollBehavior:"smooth",marginRight:"70px",marginLeft:"70px"},children:s&&(null===s||void 0===s?void 0:s.map(((e,s)=>(0,u.jsx)(j,{card:e,index:s,setEditShift:t,openCreateShiftModel:i,setDeletShift:a,setShiftData:d,setActivebtn:n,editMode:r},null===e||void 0===e?void 0:e.id))))}),(0,u.jsxs)("button",{className:"carousel-control-prev scrollbtn",type:"button","data-bs-target":"#carouselExampleCaptions","data-bs-slide":"prev",onClick:()=>{let e=o.clientWidth;o.scrollLeft=o.scrollLeft-e},children:[(0,u.jsx)("span",{className:"carousel-control-prev-icon ",style:{position:"absolute",left:"0px"},"aria-hidden":"true"}),(0,u.jsx)("span",{className:"visually-hidden",children:"Previous"})]}),(0,u.jsxs)("button",{className:"carousel-control-next scrollbtn",type:"button","data-bs-target":"#carouselExampleCaptions","data-bs-slide":"next",onClick:()=>{let e=o.clientWidth;o.scrollLeft=o.scrollLeft+e},children:[(0,u.jsx)("span",{style:{position:"absolute",right:"0px"},className:"carousel-control-next-icon","aria-hidden":"true"}),(0,u.jsx)("span",{className:"visually-hidden",children:"Next"})]})]})};var g=t(46170),N=t(73216);const b=e=>{const s=(0,N.Zp)(),{getAllShift:t,getAllShiftFunction:i,setDeletShift:d,setShiftData:n,setActivebtn:r,editMode:o,setEditMode:c,openUploadShiftModel:m,setOpenUploadShiftModel:h}=e,[f,v]=(0,l.useState)(!1),[p,j]=(0,l.useState)(!1),[b,y]=(0,l.useState)(""),S=()=>{v(!f)},k=()=>{s("/shift-setting")};return(0,u.jsxs)("div",{className:"shiftSchedule mb-3",children:[(0,u.jsxs)("div",{className:"cardHead d-flex justify-content-between gap-3",children:[(0,u.jsx)("h3",{className:"mb-0",children:"Shift Schedule (Weekly)"}),(0,u.jsxs)("div",{className:"d-flex justify-content-between gap-2",children:[o&&(0,u.jsxs)("div",{className:"d-flex justify-content-between gap-2",children:[(0,u.jsx)(a.Sv,{text:"Shift Bulk Upload",classNames:"btn btn-primary ",handleClick:()=>h(!m),slug:"shift_bulk_upload"}),(0,u.jsx)(a.Sv,{text:"Create Shift",classNames:"btn btn-primary ",handleClick:()=>S(),slug:"create_shift"}),(0,u.jsx)(a.Sv,{text:"Setting",classNames:"btn btn-primary ",handleClick:()=>k(),slug:"shift_setting_btn"})]}),(0,u.jsx)(a.Sv,{text:"Edit",classNames:"btn btn-primary ",handleClick:()=>c(!o),slug:"edit_shift"})]})]}),(0,u.jsx)(x,{openCreateShiftModel:S,openModel:f,editShift:b,setEditShift:y,getAllShiftFunction:i}),(0,u.jsx)(_,{getAllShift:t,setEditShift:y,openCreateShiftModel:S,setDeletShift:d,setActivebtn:r,setShiftData:n,editMode:o}),(0,u.jsx)(g.A,{openAddCalendar:p,openAddCalendarModel:k})]})};var y=t(52027);const S=e=>{const{openShiftModel:s,openShiftModelfunction:t,editShift:a,shiftData:r}=e,{addShiftConfigurationPending:o,addShiftConfigurationRes:m,addShiftConfigurationError:h,getShiftByIdPending:v,getShiftByIdRes:x,getShiftByIdError:p,getAllShiftCalendarError:j,getAllShiftCalendarRes:_,getAllShiftCalendarPending:g}=(0,i.d4)((e=>e.shift)),[N,b]=(0,l.useState)({}),[y,S]=(0,l.useState)(!1),[k,E]=(0,l.useState)(!1),C=(0,i.wA)(),[w,A]=(0,l.useState)(""),[M,D]=(0,l.useState)(""),[F,Y]=(0,l.useState)(),[I,R]=(0,l.useState)([]),[T,O]=(0,l.useState)({shift_id:null===r||void 0===r?void 0:r.id,over_time:"",minimum_ot_hours:"",maximum_ot_hours:"",calendar_id:M,is_default:k});(0,l.useEffect)((()=>{if(!o){if(h)return void n.oR.error(null===h||void 0===h?void 0:h.errorMessage);m&&200===(null===m||void 0===m?void 0:m.code)&&(t(),C(d.ce.handleClearShiftStore("HANDLE_CLEAR_ADD_SHIFT_CONFIGURATION_STORE")))}}),[m,h,o]),(0,l.useEffect)((()=>{if(!v){if(p)return void n.oR.error(null===p||void 0===p?void 0:p.errorMessage);var e;if(x)if(200===(null===x||void 0===x||null===(e=x.data)||void 0===e?void 0:e.code)){var s,t;let e=null===x||void 0===x||null===(s=x.data)||void 0===s||null===(t=s.data)||void 0===t?void 0:t.data;S(null===e||void 0===e?void 0:e.is_ot_time),O({minimum_ot_hours:null===e||void 0===e?void 0:e.minimum_ot_hours,maximum_ot_hours:null===e||void 0===e?void 0:e.maximum_ot_hours}),D(e.calendar_id),E(null===e||void 0===e?void 0:e.is_default)}}}),[x,p,v]);const H=e=>{const{name:s,value:t}=e.target;O({...T,[s]:t}),b((e=>({...e,[s]:void 0})))};(0,l.useEffect)((()=>{0==s&&B()}),[s]),(0,l.useEffect)((()=>{L()}),[]);const L=()=>{C(d.ce.getAllShiftCalendarRequest())};(0,l.useEffect)((()=>{if(!g){if(j)return void R([]);_&&200==(null===_||void 0===_?void 0:_.code)&&R(null===_||void 0===_?void 0:_.data)}}),[g,_,j]);const B=()=>{O({shift_id:"",over_time:"",minimum_ot_hours:"",maximum_ot_hours:"",working_days:"",alternative_saturday_off:"",week_off:""}),b({}),S(!1),E(!1),A(""),Y([]),D([])};return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("div",{className:"offcanvas offcanvas-end applyLeaveCanvas "+(s?"show":""),tabIndex:-1,style:{visibility:s?"visible":"hidden",width:"800px"},children:[(0,u.jsxs)("div",{className:"offcanvas-header",children:[(0,u.jsx)("h5",{className:"offcanvas-title  fs-5 fw-bold text-primary",children:"Shift Management"}),(0,u.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close",onClick:()=>t()})]}),(0,u.jsx)("div",{className:"offcanvas-body",children:(0,u.jsx)("div",{className:"table-responsive tableDiv shiftmanagementtbl",children:(0,u.jsx)("table",{className:"table",children:(0,u.jsxs)("tbody",{children:[(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{width:"30%",children:(0,u.jsxs)("div",{className:"d-flex align-items-center",children:[(0,u.jsx)("span",{className:"srNum",children:"1"}),(0,u.jsx)("b",{className:"ps-3 text-primary",children:" Shift start time"})]})}),(0,u.jsx)("td",{children:null===r||void 0===r?void 0:r.shift_start_time})]}),(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{children:(0,u.jsxs)("div",{className:"d-flex align-items-center",children:[(0,u.jsx)("span",{className:"srNum",children:"2"}),(0,u.jsx)("b",{className:"ps-3 text-primary",children:" Shift start time"})]})}),(0,u.jsx)("td",{children:null===r||void 0===r?void 0:r.shift_end_time})]}),(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{children:(0,u.jsxs)("div",{className:"d-flex align-items-center",children:[(0,u.jsx)("span",{className:"srNum",children:"3"}),(0,u.jsx)("b",{className:"ps-3 text-primary",children:" Over Time (OT)"})]})}),(0,u.jsx)("td",{children:(0,u.jsx)("input",{type:"checkbox",placeholder:"Is Active",checked:y,onChange:e=>S(!y)})})]}),1==y&&(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{children:(0,u.jsx)("div",{className:"d-flex align-items-center",children:(0,u.jsx)("b",{className:"ps-3 text-primary",children:" "})})}),(0,u.jsx)("td",{children:(0,u.jsxs)("div",{className:"row",children:[(0,u.jsxs)("div",{className:"form-group col-md",children:[(0,u.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Minimum OT hours par days"}),(0,u.jsx)(f.A,{name:"minimum_ot_hours",value:T.minimum_ot_hours,handleChange:H,totalHours:5,intervalMinutes:15}),(null===N||void 0===N?void 0:N.minimum_ot_hours)&&(0,u.jsx)(c.A,{text:N.minimum_ot_hours})]}),(0,u.jsxs)("div",{className:"form-group col-md",children:[(0,u.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Maximum OT hours par days"}),(0,u.jsx)(f.A,{name:"maximum_ot_hours",value:T.maximum_ot_hours,handleChange:H,totalHours:5,intervalMinutes:15}),(null===N||void 0===N?void 0:N.maximum_ot_hours)&&(0,u.jsx)(c.A,{text:N.maximum_ot_hours})]})]})})]}),(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{children:(0,u.jsxs)("div",{className:"d-flex align-items-center",children:[(0,u.jsx)("span",{className:"srNum",children:"4"}),(0,u.jsx)("b",{className:"ps-3 text-primary",children:" Is Default"})]})}),(0,u.jsx)("td",{children:(0,u.jsx)("input",{type:"checkbox",placeholder:"Is Active",checked:k,onChange:e=>E(!k)})})]}),(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{children:(0,u.jsxs)("div",{className:"d-flex align-items-center",children:[(0,u.jsx)("span",{className:"srNum",children:"5"}),(0,u.jsx)("b",{className:"ps-3 text-primary",children:"add calendar"})]})}),(0,u.jsx)("td",{children:(0,u.jsx)("div",{className:"d-flex workingradio",children:(0,u.jsx)("div",{className:"shiftInpt",children:(0,u.jsxs)("select",{className:"form-select",required:!0,name:"shift_type",value:M,onChange:e=>{return s=e.target.value,void D(s);var s},children:[(0,u.jsx)("option",{value:"",hidden:!0,selected:!0,children:"Select Required Working Days"}),I&&I.length&&(null===I||void 0===I?void 0:I.map((e=>(0,u.jsx)("option",{value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.title}))))]})})})})]})]})})})}),(0,u.jsx)("div",{className:"offcanvas-footer",children:(0,u.jsx)("div",{className:"d-flex align-items-center justify-content-end gap-3",children:(0,u.jsx)("button",{type:"button",className:"btn btn-primary gradientBg",onClick:()=>(async()=>{T.shift_id=null===r||void 0===r?void 0:r.id,T.is_OT_time=y,T.calendar_id=M,b({}),C(d.ce.addShiftConfigurationRequest(T))})(),children:"Submit"})})})]})})};var k=t(22521),E=t(78737);const C=e=>{const s=(0,i.wA)(),{openAssignShiftModel:t,assignShiftModelOpen:a,shiftData:r,getAllShiftDetails:o,setOpenEditModel:c}=e,{getAllEmployeePending:m,getAllEmployeeRes:f,getAllEmployeeError:v}=(0,i.d4)((e=>e.employee)),{assignShiftPending:x,assignShiftRes:p,assignShiftError:j}=(0,i.d4)((e=>e.shift)),[_,g]=(0,l.useState)(1),[N,b]=(0,l.useState)({}),[S,E]=(0,l.useState)([]),[C,w]=(0,l.useState)([]),[A,M]=(0,l.useState)(""),[D,F]=(0,l.useState)(""),[Y,I]=(0,l.useState)({assignment_type:"",shift_id:"",employee_id:"",start_date:"",end_date:""});(0,l.useEffect)((()=>{R()}),[]),(0,l.useEffect)((()=>{if(!x){if(j)return void n.oR.error(null===j||void 0===j?void 0:j.errorMessage);var e;if(p)if(200===(null===p||void 0===p?void 0:p.code))n.oR.success(null===p||void 0===p||null===(e=p.data)||void 0===e?void 0:e.msg),a(),O(),o(r),c(!1),s(d.ce.handleClearShiftStore("HANDLE_CLEAR_ASSIGN_SHIFT_STORE"))}}),[p,j,x]);const R=()=>{const e={page:_,limit:y.X$.limit};s(d.mM.getAllEmployeeRequest(e))};(0,l.useEffect)((()=>{if(!m){if(v)return;if(f&&(null==f&&R(),200===(null===f||void 0===f?void 0:f.code))){const e=null===f||void 0===f?void 0:f.data;E(e)}}}),[f,v,m]);const T=e=>{const{name:s,value:t}=e.target;I({...Y,[s]:t}),b((e=>({...e,[s]:void 0})))},O=()=>{I({assignment_type:"",shift_id:"",employee_id:"",start_date:"",end_date:""}),w([])};return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("div",{className:"offcanvas offcanvas-end applyLeaveCanvas "+(t?"show":""),tabIndex:-1,style:{visibility:t?"visible":"hidden",width:"700px"},children:[(0,u.jsxs)("div",{className:"offcanvas-header",children:[(0,u.jsx)("h5",{className:"offcanvas-title  fs-5 fw-bold text-primary",children:"Assign Shift"}),(0,u.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close",onClick:()=>a()})]}),(0,u.jsx)("div",{className:"offcanvas-body",children:(0,u.jsxs)("div",{className:"employeeAdd rounded-0 border-0",children:[(0,u.jsx)("div",{className:"employeeAddheader justify-content-between align-items-center border-0 m-0 mb-3",children:(0,u.jsxs)("div",{className:"row",children:[(0,u.jsx)("div",{className:"col-md-3",children:(0,u.jsx)("div",{className:"form-group mb-3",children:(0,u.jsx)("label",{htmlFor:!0,children:(0,u.jsx)("b",{children:"Shift Name"})})})}),(0,u.jsx)("div",{className:"col-md-9",children:(0,u.jsxs)("div",{className:"form-group mb-3",children:[r.shift_name," (",r.shift_start_time," - ",r.shift_end_time,")"]})})]})}),(0,u.jsxs)("div",{className:"row",children:[(0,u.jsx)("div",{className:"col-md-3",children:(0,u.jsx)("div",{className:"form-group mb-3",children:(0,u.jsxs)("label",{htmlFor:!0,children:["Shift Assignment Type",(0,u.jsx)("span",{className:"text-danger",children:"*"})]})})}),(0,u.jsx)("div",{className:"col-md-9",children:(0,u.jsx)("div",{className:"form-group mb-3",children:(0,u.jsxs)("select",{className:"form-select",required:!0,name:"assignment_type",onChange:e=>T(e),children:[(0,u.jsx)("option",{value:"",hidden:!0,selected:!0,children:"Select Shift Assignment Type"}),(0,u.jsx)("option",{value:"default",children:"Default"}),(0,u.jsx)("option",{value:"monthly",children:"Monthly"}),(0,u.jsx)("option",{value:"temporary",children:"Temporary"})]})})})]}),"monthly"===(null===Y||void 0===Y?void 0:Y.assignment_type)&&(0,u.jsxs)("div",{className:"row",children:[(0,u.jsx)("div",{className:"col-md-3",children:(0,u.jsx)("div",{className:"form-group mb-3",children:(0,u.jsxs)("label",{htmlFor:!0,style:{position:"relative",top:"30px"},children:["Shift Range",(0,u.jsx)("span",{className:"text-danger",children:"*"})]})})}),(0,u.jsx)("div",{className:"col-md-9",children:(0,u.jsx)("div",{className:"form-group mb-3",children:(0,u.jsx)("div",{className:"row",children:(0,u.jsxs)("div",{className:"form-group col-md",children:[(0,u.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Select Month"}),(0,u.jsx)("span",{className:"text-danger",children:"*"}),(0,u.jsx)("input",{type:"month",name:"start_date",onChange:e=>T(e),className:"form-control",placeholder:"Enter start time"})]})})})})]}),"default"!==(null===Y||void 0===Y?void 0:Y.assignment_type)&&"monthly"!==(null===Y||void 0===Y?void 0:Y.assignment_type)&&(0,u.jsxs)("div",{className:"row",children:[(0,u.jsx)("div",{className:"col-md-3",children:(0,u.jsx)("div",{className:"form-group mb-3",children:(0,u.jsxs)("label",{htmlFor:!0,style:{position:"relative",top:"30px"},children:["Shift Range",(0,u.jsx)("span",{className:"text-danger",children:"*"})]})})}),(0,u.jsx)("div",{className:"col-md-9",children:(0,u.jsx)("div",{className:"form-group mb-3",children:(0,u.jsxs)("div",{className:"row",children:[(0,u.jsxs)("div",{className:"form-group col-md",children:[(0,u.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Start Date"}),(0,u.jsx)("span",{className:"text-danger",children:"*"}),(0,u.jsx)("input",{type:"date",name:"start_date",onChange:e=>T(e),className:"form-control",placeholder:"Enter start time"})]}),(0,u.jsxs)("div",{className:"form-group col-md",children:[(0,u.jsx)("label",{htmlFor:"exampleInputEmail1",children:"End Date"}),(0,u.jsx)("span",{className:"text-danger",children:"*"}),(0,u.jsx)("input",{type:"date",name:"end_date",onChange:e=>T(e),min:h()(null===Y||void 0===Y?void 0:Y.start_date).format("YYYY-MM-DD"),className:"form-control",placeholder:"Enter end time"})]})]})})})]}),(0,u.jsxs)("div",{className:"row",children:[(0,u.jsx)("div",{className:"col-md-3",children:(0,u.jsx)("div",{className:"form-group mb-3",children:(0,u.jsxs)("label",{htmlFor:!0,children:["Select Employee",(0,u.jsx)("span",{className:"text-danger",children:"*"})]})})}),(0,u.jsx)("div",{className:"col-md-9",children:(0,u.jsx)("div",{className:"form-group mb-3",children:(0,u.jsx)(k.KF,{options:S.map((e=>(e.label=e.label,e.value=e.value,e.emp_user_id=e.id,e))),value:C,onChange:w,labelledBy:"Select Employee"})})})]})]})}),(0,u.jsx)("div",{className:"offcanvas-footer",children:(0,u.jsx)("div",{className:"d-flex align-items-center justify-content-end gap-3",children:(0,u.jsx)("button",{type:"button",className:"btn btn-primary gradientBg",onClick:()=>{Y.shift_id=null===r||void 0===r?void 0:r.id,Y.employee_id=null===C||void 0===C?void 0:C.map((e=>null===e||void 0===e?void 0:e.value)),b({}),s(d.ce.assignShiftRequest(Y))},children:"Assign"})})})]})})},w=e=>{const{openAddWeekOffModel:s,addWeekOffModelOpen:t,editShift:a,shiftData:r,getWeek:o,getAllShiftDetails:c}=e,m=(0,i.wA)(),{getEmployeebyShiftidPending:h,getEmployeebyShiftidRes:f,getEmployeebyShiftidError:v,addWeekOffPending:x,addWeekOffRes:p,addWeekOffError:j}=(0,i.d4)((e=>e.shift)),[_,g]=(0,l.useState)([1,2,3,4,5,6,7]),[N,b]=(0,l.useState)([]),[y,S]=(0,l.useState)({}),[k,E]=(0,l.useState)([]),[C,w]=(0,l.useState)([]);(0,l.useEffect)((()=>{if(!x){if(j)return void n.oR.error(null===j||void 0===j?void 0:j.errorMessage);var e,s;if(p)if(200===(null===p||void 0===p||null===(e=p.data)||void 0===e?void 0:e.code))n.oR.success(null===p||void 0===p||null===(s=p.data)||void 0===s?void 0:s.msg),t(),c(r),m(d.ce.handleClearShiftStore("HANDLE_ADD_WEEK_OFF_STORE"))}}),[p,j,x]);(0,l.useEffect)((()=>{1==o&&A()}),[o]);const A=async()=>{let e={shift_id:r.id};m(d.ce.getEmployeeByShiftIdRequest(e))};(0,l.useEffect)((()=>{if(!h){if(v)return;if(f&&200===(null===f||void 0===f?void 0:f.code)){const e=null===f||void 0===f?void 0:f.data;E(e);const s={},t=[];null===e||void 0===e||e.forEach((e=>{var l;s[e.employee_id]={},null===e||void 0===e||null===(l=e.weekoff)||void 0===l||l.forEach((t=>{null===t?s[e.employee_id][0]=!1:s[e.employee_id][t]=!0})),t.push({employee_id:e.employee_id,week_off:e.weekoff})})),S(s),b(t),w(e)}}}),[f,v,h]);return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("div",{className:"offcanvas offcanvas-end applyLeaveCanvas "+(s?"show":""),tabIndex:-1,style:{visibility:s?"visible":"hidden",width:"900px"},children:[(0,u.jsxs)("div",{className:"offcanvas-header",children:[(0,u.jsx)("h5",{className:"offcanvas-title fs-5 fw-bold text-primary",children:"Add Week Off"}),(0,u.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close",onClick:()=>t()})]}),(0,u.jsx)("div",{class:"offcanvas-body",children:(0,u.jsxs)("div",{class:"rounded-0 border-0",children:[(0,u.jsx)("div",{class:"justify-content-between align-items-center border-0",children:(0,u.jsx)("div",{className:"headerWeek",children:(0,u.jsxs)("p",{class:"mb-0",children:[(0,u.jsx)("b",{children:"Shift Name"}),": ",r.shift_name," (",r.shift_start_time," - ",r.shift_end_time,") "]})})}),(0,u.jsx)("div",{class:"py-0 shiftChecks shiftChecksweek",children:(0,u.jsxs)("div",{class:"",children:[(0,u.jsx)("div",{class:"searchTeamBox mb-2 p-2",children:(0,u.jsxs)("div",{class:"searchByName ",children:[(0,u.jsx)("input",{type:"text",class:"form-control",placeholder:"Search",onChange:e=>(e=>{const s=C.filter((s=>{var t;return s.name.toLowerCase().includes(null===e||void 0===e?void 0:e.toLowerCase())||(null===(t=s.emp_id)||void 0===t?void 0:t.toLowerCase().includes(null===e||void 0===e?void 0:e.toLowerCase()))}));E(s)})(e.target.value)}),(0,u.jsx)("button",{type:"button",class:"nameSearchBtn",children:(0,u.jsx)("img",{src:"images/search2.svg",alt:"",width:"17"})})]})}),(0,u.jsx)("div",{class:"table-responsive weekoffTable addWeek p-3 pt-0",children:(0,u.jsxs)("table",{class:"table",children:[(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{children:"All Users"}),(0,u.jsx)("th",{class:"text-center",children:"Mon"}),(0,u.jsx)("th",{class:"text-center",children:"Tue"}),(0,u.jsx)("th",{class:"text-center",children:"Wed"}),(0,u.jsx)("th",{class:"text-center",children:"Thu"}),(0,u.jsx)("th",{class:"text-center",children:"Fri"}),(0,u.jsx)("th",{class:"text-center",children:"Sat"}),(0,u.jsx)("th",{class:"text-center",children:"Sun"})]}),k&&k.map((e=>(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{children:(0,u.jsxs)("div",{class:"d-flex align-items-center userInfoTd",children:[(0,u.jsx)("figure",{class:"m-0",children:(0,u.jsx)("img",{src:"images/amber.png",alt:""})}),(0,u.jsxs)("h6",{children:[e.name," ",e.last_name]})]})}),_.map((s=>{var t;return(0,u.jsx)("td",{children:(0,u.jsxs)("div",{className:"cstmCheckbox",children:[(0,u.jsx)("input",{type:"checkbox",id:`check-${e.employee_id}-${s}`,name:`${e.employee_id}-${s}`,onClick:()=>((e,s)=>{console.log("Hello new ",e,s),b((t=>{var l,i;const a=null===t||void 0===t?void 0:t.findIndex((s=>s.employee_id===e));if(-1!==a&&null!==(l=t[a])&&void 0!==l&&null!==(i=l.week_off)&&void 0!==i&&i.includes(s)){const l=t[a].week_off.filter((e=>e!==s));return 0===l.length?t.filter((s=>s.employee_id!==e)):[...t.slice(0,a),{...t[a],week_off:l},...t.slice(a+1)]}return-1===a?[...t,{employee_id:e,week_off:[s]}]:[...t.slice(0,a),{...t[a],week_off:[...t[a].week_off,s]},...t.slice(a+1)]})),S((t=>{var l;return{...t,[e]:{...t[e],[s]:!(null!==(l=t[e])&&void 0!==l&&l[s])}}}))})(e.employee_id,s),value:s,checked:null===(t=y[e.employee_id])||void 0===t?void 0:t[s]}),(0,u.jsx)("label",{htmlFor:`check-${e.employee_id}-${s}`})]})},s)}))]})))]})})]})})]})}),(0,u.jsx)("div",{className:"offcanvas-footer",children:(0,u.jsx)("div",{className:"d-flex align-items-center justify-content-end gap-3",children:(0,u.jsx)("button",{type:"button",className:"btn btn-primary gradientBg",onClick:()=>{let e={weekoff_details:N};m(d.ce.addWeekOffRequest(e))},children:"Submit"})})})]})})},A=e=>{var s,t,a;const{shiftData:n,headerDate:r,allEmployeeShift:o,isActiveShift:c,setOpenEditModel:m,setLoadIng:f}=e,{deleteEmployeeShiftPending:v,deleteEmployeeShiftRes:x,deleteEmployeeShiftError:p}=(0,i.d4)((e=>e.shift)),j=(0,i.wA)(),[_,g]=(0,l.useState)(!1),[N,b]=(0,l.useState)(!1),[y,k]=(0,l.useState)(!1),[E,A]=(0,l.useState)(!1);(0,l.useEffect)((()=>{if(!v){if(p)return;x&&200===(null===x||void 0===x?void 0:x.code)&&(I(n),j(d.ce.handleClearShiftStore("DELECT_EMPLOYEE_SHIFT_STORE")))}}),[x,p,v]);const M=()=>{b(!N)},D=e=>{k(!y),"data"==e&&A(!E)};(0,l.useEffect)((()=>{I()}),[]),(0,l.useEffect)((()=>{n&&I(n)}),[n]),(0,l.useEffect)((()=>{c&&F(c)}),[c]);const F=e=>{I(e)},Y=async(e,s)=>{const[t,l]=e.split(" - "),i=h()(t,"DD MMM YYYY"),a=h()(l,"DD MMM YYYY");"prev"===s?await I(n,i.subtract(1,"week"),a.subtract(1,"week")):"next"===s&&await I(n,i.add(1,"week"),a.add(1,"week"))},I=async(e,s,t)=>{let l={shift_id:"ejknrjk34324"==(null===e||void 0===e?void 0:e.id)?"":null===e||void 0===e?void 0:e.id,start_date:s||h()().startOf("week").add(1,"day").format("YYYY-MM-DD"),end_date:t||h()().endOf("week").add(1,"day").format("YYYY-MM-DD")};j(d.ce.getAllShiftDetailsRequest(l)),f(!0)},R=e=>{if("Data"==e){let e={id:null===n||void 0===n?void 0:n.id};j(d.ce.getShiftByIdRequest(e))}g(!_)};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"d-flex align-items-center p-3",children:[(0,u.jsx)("h3",{className:"me-auto mb-0 fs-5 fw-semibold",children:h()(null===(s=r[0])||void 0===s?void 0:s.date).format("MMMM YYYY")}),(0,u.jsxs)("div",{className:"customCalanderNav me-auto d-flex align-items-center",children:[(0,u.jsx)("img",{src:"images/prev-icon.svg",style:{cursor:"pointer"},alt:"",onClick:e=>Y(`${h()(r[0].date).format("DD MMM YYYY")} - ${h()(r[r.length-1].date).format("DD MMM YYYY")}`,"prev")}),(0,u.jsxs)("span",{className:"mx-3 d-block fs-7 fw-semibold mt-1",children:[h()(null===(t=r[0])||void 0===t?void 0:t.date).format("DD MMM YYYY")," - ",h()(null===(a=r[r.length-1])||void 0===a?void 0:a.date).format("DD MMM YYYY")]}),(0,u.jsx)("img",{src:"images/next-icon.svg",style:{cursor:"pointer"},alt:"",onClick:e=>Y(`${h()(r[0].date).format("DD MMM YYYY")} - ${h()(r[r.length-1].date).format("DD MMM YYYY")}`,"next")})]}),""!==n&&"All Shift"!==(null===n||void 0===n?void 0:n.shift_name)&&1==(null===n||void 0===n?void 0:n.is_active)&&(0,u.jsxs)("div",{className:"dropdown moredwn",children:[(0,u.jsxs)("button",{className:"btn btn-primary addShiftBtn me-2 ",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:[(0,u.jsx)("i",{className:"bi bi-three-dots-vertical"})," More"]}),(0,u.jsxs)("ul",{className:"dropdown-menu ",children:[(0,u.jsx)("li",{children:(0,u.jsx)("button",{className:"dropdown-item",onClick:()=>R("Data"),children:"Shift Configuration"})}),(0,u.jsx)("li",{children:(0,u.jsx)("button",{className:"dropdown-item border-bottom",onClick:()=>M(),children:"Assign Shift"})}),(0,u.jsx)("li",{children:(0,u.jsx)("button",{className:"dropdown-item border-bottom",onClick:()=>D("data"),children:"Add Week Off"})})]})]})]}),(0,u.jsx)(S,{openShiftModelfunction:R,openShiftModel:_,shiftData:n}),(0,u.jsx)(C,{openAssignShiftModel:N,assignShiftModelOpen:M,shiftData:n,getAllShiftDetails:I,setOpenEditModel:m}),(0,u.jsx)(w,{openAddWeekOffModel:y,addWeekOffModelOpen:D,shiftData:n,getWeek:E,getAllShiftDetails:I})]})},M=e=>{const{headerDate:s}=e;return(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{className:"searchTh",children:(0,u.jsxs)("div",{className:"searchByName",children:[(0,u.jsx)("input",{type:"text",className:"form-control",placeholder:"Search Employee by Name"}),(0,u.jsx)("button",{type:"button",className:"nameSearchBtn",children:(0,u.jsx)("img",{src:"images/search-box.svg",alt:"",width:14})})]})}),s&&(null===s||void 0===s?void 0:s.map((e=>(0,u.jsx)("th",{children:h()(e.date).format("ddd DD")}))))]})})};var D=t(35475),F=t(34348),Y=t.n(F),I=t(35685);const R=e=>{let{userShiftData:s,shiftData:t,editMode:a}=e;const n=(0,i.wA)(),r=new Date((new Date).getFullYear(),(new Date).getMonth(),1),o=new Date((new Date).getFullYear(),(new Date).getMonth()+1,0),[c,m]=(0,l.useState)(!1),[h,f]=(0,l.useState)(""),{deleteEmployeeShiftPending:v,deleteEmployeeShiftRes:x,deleteEmployeeShiftError:p}=(0,i.d4)((e=>e.shift));return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("td",{children:(0,u.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,u.jsx)(D.N_,{to:`/shift-management/${null===s||void 0===s?void 0:s._id}/${Y()(r).format("YYYY-MM-DD")}/${Y()(o).format("YYYY-MM-DD")}`,children:(0,u.jsxs)("a",{href:"shift-view.html",className:"userName",children:[(0,u.jsx)("figure",{children:(0,u.jsx)("img",{src:"images/profile-img.png",alt:""})}),(0,u.jsxs)("p",{children:[(0,u.jsx)("strong",{children:null===s||void 0===s?void 0:s.first_name}),s.emp_id," | ",s.Designation]})]})}),(0,u.jsx)("div",{className:"deleteBG",children:t&&"All Shift"!==t.shift_name&&a&&(0,u.jsx)("img",{src:"images/delete-icon.svg",alt:"",width:16,height:20,onClick:()=>{return e=null===s||void 0===s?void 0:s._id,m(!c),void f(e);var e}})})]})}),c&&(0,u.jsx)(I.A,{onApproveReject:e=>{if(e){const e={employee_id:h};n(null===d.ce||void 0===d.ce?void 0:d.ce.deleteEmployeeShiftRequest(e)),m(!c)}else m(!c)},isShow:c,desc:"You want to delete this Employee",isLoading:v})]})},T=e=>{let{shiftTime:s,editMode:t,setOpenEditModel:l,openEditModel:i}=e;s&&"WO"==(null===s||void 0===s?void 0:s.shift_name[0])||"PH"==(null===s||void 0===s?void 0:s.shift_name[0])?null===s||void 0===s||s.shift_name[0]:null===s||void 0===s||s.shift_name[0].split(" ")[0];return(0,u.jsx)("td",{children:(0,u.jsx)("div",{className:"shiftBox purpleColor",style:{background:`${s.color}`},children:(0,u.jsxs)("div",{className:"d-flex align-items-center gap-1",children:[!t&&(0,u.jsx)("a",{className:"editShiftTg",onClick:()=>l(!i),children:(0,u.jsx)("img",{src:"images/editIcon1.svg",alt:""})}),(0,u.jsxs)("p",{style:{cursor:"pointer"},children:[(0,u.jsx)("b",{children:null===s||void 0===s?void 0:s.shift_name[0].replace(/\(|\)/g,",").split(",")[0]}),null===s||void 0===s?void 0:s.shift_name[0].replace(/\(|\)/g,",").split(",")[1]]})]})})})},O=e=>{var s;const{allEmployeeShift:t,shiftData:l,editMode:i,setOpenEditModel:a,openEditModel:d,setAssignTemporaryShift:n}=e;return(0,u.jsx)("tbody",{children:t&&(null===t||void 0===t||null===(s=t.slice(0,10))||void 0===s?void 0:s.map((e=>(0,u.jsxs)("tr",{onClick:()=>n(e),children:[(0,u.jsx)(R,{userShiftData:e,shiftData:l,editMode:i}),null===e||void 0===e?void 0:e.shiftDetails.map((e=>(0,u.jsx)(T,{shiftTime:e,editMode:i,openEditModel:d,setOpenEditModel:a},null===e||void 0===e?void 0:e.date)))]},null===e||void 0===e?void 0:e.id))))})},H=e=>{const{shiftData:s,isActiveShift:t,editMode:a,setOpenEditModel:d,openEditModel:n,setAssignTemporaryShift:r,setLoadIng:o}=e,{getAllShiftDetailsPending:c,getAllShiftDetailsRes:m,getAllShiftDetailsError:h}=(0,i.d4)((e=>e.shift)),[f,v]=(0,l.useState)([]),[x,p]=(0,l.useState)([]);return(0,l.useEffect)((()=>{if(!c){if(h)return;if(m&&200===(null===m||void 0===m?void 0:m.code)){o(!1);const e=null===m||void 0===m?void 0:m.data;v(null===e||void 0===e?void 0:e.shiftDateRange),p(null===e||void 0===e?void 0:e.getEmployeeDetails)}}}),[m,h,c]),(0,u.jsx)("div",{className:"cardBox p-0 mb-3 customCalander overflow-hidden",children:(0,u.jsx)("div",{className:"tab-content",children:(0,u.jsxs)("div",{className:"tab-pane fade show active",id:"shiftTab1",children:[(0,u.jsx)(A,{setLoadIng:o,shiftData:s,headerDate:f,allEmployeeShift:x,isActiveShift:t,setOpenEditModel:d}),(0,u.jsx)("div",{className:"table-responsive shiftTablemain shiftHeigth",children:(0,u.jsxs)("table",{className:"table m-0",children:[(0,u.jsx)(M,{headerDate:f}),(0,u.jsx)(O,{allEmployeeShift:x,shiftData:s,editMode:a,openEditModel:n,setOpenEditModel:d,setAssignTemporaryShift:r})]})})]})})})},L=e=>{const{openEditModel:s,setOpenEditModel:t,assignTemporaryShift:a,getAllShift:n}=e,r=(0,i.wA)(),[o,c]=(0,l.useState)(""),[m,h]=(0,l.useState)(),[f,v]=(0,l.useState)(),[x,p]=(0,l.useState)(""),[j,_]=(0,l.useState)(!1),g=(e,s)=>{_(e),c(s)};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"modal editShift fade "+(s?"show":""),tabIndex:"-1",style:{display:s?"block":"none",opacity:s?1:0},children:(0,u.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:(0,u.jsxs)("div",{className:"modal-content rounded-0 border-0",children:[(0,u.jsxs)("div",{className:"modal-header justify-content-between align-items-center",children:[(0,u.jsx)("h3",{className:"fs-6 fw-semibold mb-0",children:"Edit Shift"}),(0,u.jsx)("button",{type:"button",className:"btnClose border-0 bg-transparent",onClick:()=>{t(!1)},children:(0,u.jsx)("img",{src:"images/close-icon.svg",alt:"",width:"20"})})]}),(0,u.jsxs)("div",{className:"modal-body",children:[(0,u.jsxs)("div",{className:"currentShift",children:[(0,u.jsxs)("p",{className:"py-2",children:[(0,u.jsx)("b",{children:"Current Shift:"})," ",(0,E.PD)(null===a||void 0===a?void 0:a.shift_start_time)," - ",(0,E.PD)(null===a||void 0===a?void 0:a.shift_end_time)]}),(0,u.jsxs)("div",{className:"editShiftGroup",id:"editShiftDiv",children:[(0,u.jsx)("div",{className:"mb-2",children:(0,u.jsx)("select",{className:"form-select",onChange:e=>p(e.target.value),children:n.map((e=>(0,u.jsxs)("option",{value:e._id,children:[null===e||void 0===e?void 0:e.shift_name," (",(0,E.PD)(null===e||void 0===e?void 0:e.shift_start_time)," - ",(0,E.PD)(null===e||void 0===e?void 0:e.shift_end_time),")"]})))})}),j&&(0,u.jsxs)("div",{className:"d-flex gap-2",children:[(0,u.jsxs)("div",{className:"form-group col-md",children:[(0,u.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Start Date"}),(0,u.jsx)("span",{style:{color:"red"},children:"*"}),(0,u.jsx)("input",{type:"date",name:"shiftStartDate",onChange:e=>h(e.target.value),className:"form-control",placeholder:"Enter start time"})]}),(0,u.jsxs)("div",{className:"form-group col-md",children:[(0,u.jsx)("label",{htmlFor:"exampleInputEmail1",children:"End Date"}),(0,u.jsx)("span",{style:{color:"red"},children:"*"}),(0,u.jsx)("input",{type:"date",name:"shiftEndDate",onChange:e=>v(e.target.value),min:(0,E.yM)(m,"YYYY-MM-DD"),className:"form-control",placeholder:"Enter end time"})]})]})]})]}),!j&&(0,u.jsxs)("div",{className:"d-flex shiftBtnGroup gap-3",children:[(0,u.jsxs)("button",{type:"button",className:"btn btn-outline-primary editShiftButton",onClick:()=>g(!0,"temp"),children:[(0,u.jsx)("img",{src:"images/editShift.svg",alt:"",width:"16"})," Edit Shift"]}),(0,u.jsxs)("button",{type:"button",className:"btn btn-outline-primary addShiftButton",onClick:()=>g(!0,"both"),children:[(0,u.jsx)("img",{src:"images/add-icon.svg",alt:"",width:"16"})," Add another Shift"]})]})]}),(0,u.jsx)("div",{className:"modal-footer justify-content-center",children:(0,u.jsx)("button",{className:"btn btn-org-gradient text-white px-5",onClick:()=>(()=>{let e={assignment_type:"temporary",shift_id:x,employee_id:[null===a||void 0===a?void 0:a._id],start_date:m,end_date:f};r(d.ce.assignShiftRequest(e))})(),children:"Save"})})]})})}),s&&(0,u.jsx)("div",{className:"modal-backdrop fade show"})]})},B=e=>{const{openUploadShiftModel:s,setOpenUploadShiftModel:t}=e,[i,a]=(0,l.useState)(""),[d,n]=(0,l.useState)(""),[r,o]=(0,l.useState)(""),[c,m]=(0,l.useState)(""),[f,v]=(0,l.useState)(!0),[x,p]=(0,l.useState)("");return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)("div",{className:"modal editShift fade "+(s?"show":""),tabIndex:"-1",style:{display:s?"block":"none",opacity:s?1:0},children:(0,u.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:(0,u.jsxs)("div",{className:"modal-content rounded-0 border-0",children:[(0,u.jsxs)("div",{className:"modal-header justify-content-between align-items-center",children:[(0,u.jsx)("h3",{className:"fs-6 fw-semibold mb-0",children:"Shift Bulk Upload"}),(0,u.jsx)("button",{type:"button",className:"btnClose border-0 bg-transparent",onClick:()=>t(!s),children:(0,u.jsx)("img",{src:"images/close-icon.svg",alt:"",width:"20"})})]}),(0,u.jsx)("div",{className:"modal-body",children:(0,u.jsxs)("form",{children:[(0,u.jsxs)("div",{className:"row",children:[(0,u.jsx)("div",{className:"form-group col-md-3",children:(0,u.jsxs)("label",{htmlFor:"exampleInputEmail1",style:{fontSize:"20px"},children:["Start Date ",(0,u.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,u.jsx)("div",{className:"form-group col-md",children:(0,u.jsx)("input",{type:"date",name:"shift_name",value:i,onChange:e=>{return s=e.target.value,a(s),void n("");var s},min:h()().startOf("month").format("YYYY-MM-DD"),className:"form-control",placeholder:"Enter Start Date"})})]}),(0,u.jsxs)("div",{className:"row",children:[(0,u.jsx)("div",{className:"form-group col-md-3",children:(0,u.jsxs)("label",{htmlFor:"exampleInputEmail1",style:{fontSize:"20px"},children:["End Date ",(0,u.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,u.jsx)("div",{className:"form-group col-md",children:(0,u.jsx)("input",{type:"date",name:"shift_name",className:"form-control",placeholder:"Enter End Date",value:d,onChange:e=>{return s=e.target.value,void n(s);var s},min:h()(i).format("YYYY-MM-DD")})})]}),f&&(0,u.jsx)("div",{className:"row",children:(0,u.jsx)("div",{className:"form-group col-md-12",children:(0,u.jsx)("button",{className:"btn btn-info float-right ms-5",title:"",onClick:()=>{window.open(x,"_blank")},style:{backgroundColor:"cornflowerblue",color:"black"},children:"Download Sample"})})}),(0,u.jsxs)("div",{className:"row",children:[(0,u.jsx)("div",{className:"form-group col-md-3",children:(0,u.jsxs)("label",{htmlFor:"exampleInputEmail1",style:{fontSize:"20px"},children:["Bulk Upload ",(0,u.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,u.jsx)("div",{className:"form-group col-md",children:(0,u.jsx)("input",{type:"file",placeholder:"",className:"is-untouched is-pristine av-invalid form-control",name:"file",id:"Name",onChange:e=>{o(e.target.files[0])},required:!0})})]})]})}),(0,u.jsx)("div",{className:"modal-footer justify-content-center",children:(0,u.jsx)("button",{className:"btn btn-org-gradient text-white px-5",children:"Save"})})]})})})})},q=()=>{const e=(0,i.wA)(),{getAllShiftPending:s,getAllShiftRes:t,getAllShiftError:n,deleteShiftPending:r,deleteShiftRes:o,deleteShiftError:c,activeOrInactivePending:m,activeOrInactiveRes:h,activeOrInactiveError:f}=(0,i.d4)((e=>e.shift)),[v,x]=(0,l.useState)([]),[p,j]=(0,l.useState)(""),[_,g]=(0,l.useState)(!1),[N,y]=(0,l.useState)(!1),[S,k]=(0,l.useState)(),[E,C]=(0,l.useState)(""),[w,A]=(0,l.useState)(""),[M,D]=(0,l.useState)(!0),[F,Y]=(0,l.useState)(!1),[R,T]=(0,l.useState)(""),[O,q]=(0,l.useState)(!1),[$,P]=(0,l.useState)(!1);(0,l.useEffect)((()=>{W()}),[]);const W=()=>{e(d.ce.getAllShiftRequest())};(0,l.useEffect)((()=>{if(!s){if(n)return void x([]);if(t&&200==(null===t||void 0===t?void 0:t.code)){var e;let s=null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.data;null===s||void 0===s||s.unshift({shift_name:"All Shift",id:"ejknrjk34324",shift_start_time:"00:00",shift_end_time:"00:00",short_name:void 0}),x(s)}}}),[s,t,n]),(0,l.useEffect)((()=>{if(!r){if(c)return void e(d.ce.handleClearShiftStore("HANDLE_CLEAR_DELETE_SHIFT_STORE"));o&&200==(null===o||void 0===o?void 0:o.code)&&(e(d.ce.handleClearShiftStore("HANDLE_CLEAR_DELETE_SHIFT_STORE")),W())}}),[o,c,r]),(0,l.useEffect)((()=>{if(!m){if(f)return void e(d.ce.handleClearShiftStore("ACTIVE_INACTIVE_SHIFT_STORE"));h&&200==(null===h||void 0===h?void 0:h.code)&&(e(d.ce.handleClearShiftStore("ACTIVE_INACTIVE_SHIFT_STORE")),C(w),W())}}),[h,f,m]);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(b,{getAllShift:v,getAllShiftFunction:W,setDeletShift:e=>{g(!_),j(e)},setActivebtn:e=>{y(!N),k(e)},setShiftData:A,editMode:M,setEditMode:D,openUploadShiftModel:O,setOpenUploadShiftModel:q}),(0,u.jsx)(H,{setLoadIng:P,shiftData:w,isActiveShift:E,editMode:M,openEditModel:F,setOpenEditModel:Y,setAssignTemporaryShift:T}),_&&(0,u.jsx)(I.A,{onApproveReject:s=>{if(s){const s={_id:null===p||void 0===p?void 0:p.id};e(null===d.ce||void 0===d.ce?void 0:d.ce.deleteShiftRequest(s)),g(!_)}else g(!_)},isShow:_,desc:"You want to delete this Shift"}),N&&(0,u.jsx)(I.A,{onApproveReject:s=>{if(s){const s={id:null===S||void 0===S?void 0:S.id,is_active:1!=(null===S||void 0===S?void 0:S.is_active)};e(null===d.ce||void 0===d.ce?void 0:d.ce.activeOrInactiveRequest(s)),y(!N)}else y(!N)},isShow:N,desc:`You want to this shift ${1==S.is_active?"Inactve":"active"} `,isLoading:m}),F&&(0,u.jsx)(L,{openEditModel:F,setOpenEditModel:Y,assignTemporaryShift:R,getAllShift:v}),O&&(0,u.jsx)(B,{openUploadShiftModel:O,setOpenUploadShiftModel:q}),$&&(0,u.jsx)(a.L,{isShow:$,size:"lg"})]})}}}]);
//# sourceMappingURL=5497.214e951c.chunk.js.map