"use strict";(self.webpackChunkglueple_user=self.webpackChunkglueple_user||[]).push([[2355],{92355:(e,a,t)=>{t.r(a),t.d(a,{default:()=>p});var i=t(65043),s=t(91900),n=t(22166),d=t(94174),l=t(35685),o=t(52027),r=t(90607),c=t(92250),m=t(80728),x=t(26181),v=t(61487),h=t(49985),u=t(70579);const g=e=>{const{t:a}=(0,r.K)(),{getAllDesignation:t,setSelectedDesignation:s,isOpen:l,toggleDesignation:o,selectedDesignation:g}=e,[p,k]=(0,i.useState)({}),f=(0,n.wA)(),{addDesignationPending:N,addDesignationRes:b,addDesignationError:j}=(0,n.d4)((e=>e.designation)),{getDepartmentListPending:D,getDepartmentListRes:E,getDepartmentListError:S}=(0,n.d4)((e=>e.department)),{updateDesignationPending:y,updateDesignationRes:_,updateDesignationError:A}=(0,n.d4)((e=>e.designation)),[L,C]=(0,i.useState)([]),[R,w]=(0,i.useState)(!0),[G,I]=(0,i.useState)(""),[P,T]=(0,i.useState)({departmentId:"",designationName:"",shortName:""});(0,i.useEffect)((()=>{U()}),[]);const U=()=>{f(d.vd.getDepartmentListRequest())};(0,i.useEffect)((()=>{if(!D){if(S)return;if(E&&200===(null===E||void 0===E?void 0:E.code)){const e=null===E||void 0===E?void 0:E.data;C(e)}}}),[E,S,D]);(0,i.useEffect)((()=>{if(!N){if(j)return void f(d.EU.handleClearDesignationStore("HANDLE_CLEAR_ADD_DESIGNATION_STORE"));b&&200==(null===b||void 0===b?void 0:b.code)&&(f(d.EU.handleClearDesignationStore("HANDLE_CLEAR_ADD_DESIGNATION_STORE")),o(),t())}}),[N,b,j]);const O=e=>{p&&k({});const{name:a,value:t}=e.target;T((e=>{const i={...e,[a]:t};return"designationName"===a&&(i.shortName=(0,h.aF)(t)),i}))};return(0,i.useEffect)((()=>{T({departmentId:null===g||void 0===g?void 0:g.department_id,designationName:(null===g||void 0===g?void 0:g.name)||"",shortName:(null===g||void 0===g?void 0:g.short_name)||""}),w(null===g||void 0===g?void 0:g.is_active),I(null===g||void 0===g?void 0:g._id)}),[g]),(0,i.useEffect)((()=>{if(!y){if(A)return void f(d.EU.handleClearDesignationStore("HANDLE_CLEAR_UPDATE_DESIGNATION_STORE"));_&&200==(null===_||void 0===_?void 0:_.code)&&(f(d.EU.handleClearDesignationStore("HANDLE_CLEAR_UPDATE_DESIGNATION_STORE")),o(),t())}}),[y,_,A]),(0,i.useEffect)((()=>{0==l&&(T({departmentId:"",designationName:"",shortName:""}),s(""),k({}))}),[l]),(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("div",{className:"offcanvas offcanvas-end creatNewTicketOff "+(l?"show":""),tabIndex:-1,style:{visibility:l?"visible":"hidden"},children:[(0,u.jsxs)("div",{className:"offcanvas-header",children:[(0,u.jsxs)("h5",{className:"offcanvas-title  fs-5 fw-bold text-primary",children:[g?"Update":"Create New"," Designation"]}),(0,u.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close",onClick:()=>o()})]}),(0,u.jsx)("div",{className:"offcanvas-body",children:(0,u.jsxs)("div",{className:"formPanel",children:[(0,u.jsxs)("div",{className:"row",children:[(0,u.jsx)("div",{className:"col-md-3",children:(0,u.jsx)("div",{className:"form-group mb-3",children:(0,u.jsx)(v.JU,{text:a("labels.selectDepartment"),required:!0})})}),(0,u.jsx)("div",{className:"col-md-9",children:(0,u.jsxs)("div",{className:"form-group mb-3",children:[(0,u.jsxs)("select",{className:"form-select",name:"departmentId",value:null===P||void 0===P?void 0:P.departmentId,onChange:e=>O(e),disabled:"",children:[(0,u.jsx)("option",{value:"",hidden:!0,selected:!0,children:"Select Department..."}),L&&(null===L||void 0===L?void 0:L.length)>0&&(null===L||void 0===L?void 0:L.map(((e,a)=>(0,u.jsx)("option",{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.name}))))]}),(null===p||void 0===p?void 0:p.departmentId)&&(0,u.jsx)(c.eo,{text:p.departmentId})]})}),(0,u.jsx)("div",{className:"col-md-3",children:(0,u.jsx)("div",{className:"form-group mb-3",children:(0,u.jsx)(v.JU,{text:a("labels.name"),required:!0})})}),(0,u.jsx)("div",{className:"col-md-9",children:(0,u.jsxs)("div",{className:"form-group mb-3",children:[(0,u.jsx)(v.pd,{type:"text",placeholder:a("placeholders.designationName"),value:(null===P||void 0===P?void 0:P.designationName)||"",name:"designationName",onChange:e=>O(e)}),(null===p||void 0===p?void 0:p.designationName)&&(0,u.jsx)(c.eo,{text:p.designationName})]})})]}),(0,u.jsxs)("div",{className:"row",children:[(0,u.jsx)("div",{className:"col-md-3",children:(0,u.jsx)("div",{className:"form-group mb-3",children:(0,u.jsx)(v.JU,{text:a("labels.shortName"),required:!0})})}),(0,u.jsx)("div",{className:"col-md-9",children:(0,u.jsxs)("div",{className:"form-group mb-3",children:[(0,u.jsx)(v.pd,{type:"text",placeholder:a("placeholders.shortName"),value:null===P||void 0===P?void 0:P.shortName,name:"shortName",onChange:e=>O(e)}),(null===p||void 0===p?void 0:p.shortName)&&(0,u.jsx)(c.eo,{text:p.shortName})]})})]}),(0,u.jsxs)("div",{className:"row",children:[(0,u.jsx)("div",{className:"col-md-3",children:(0,u.jsx)("div",{className:"form-group mb-3",children:(0,u.jsx)(v.JU,{text:a("labels.isActive")})})}),(0,u.jsx)("div",{className:"col-md-9",children:(0,u.jsx)("div",{className:"form-group mb-3",children:(0,u.jsx)(v.P_,{id:"is_active",checked:R,handleChange:e=>w(!R),name:"is_active"},"is_active")})})]})]})}),(0,u.jsx)("div",{className:"offcanvas-footer",children:(0,u.jsx)("div",{className:"d-flex align-items-center justify-content-end gap-3",children:(0,u.jsx)(c.Sv,{text:a(g?"btns.update":"btns.submit"),classNames:"btn btn-org-gradient",handleClick:()=>(async()=>{const e=await(0,x.i6)(m.Mv,P);if(e.isValid){k({});let e={department_id:null===P||void 0===P?void 0:P.departmentId,name:(null===P||void 0===P?void 0:P.designationName)||"",short_name:(null===P||void 0===P?void 0:P.shortName)||"",is_active:R};g?(e._id=G,f(d.EU.updateDesignationRequest(e))):f(d.EU.addDesignationRequest(e))}else k(e.errors)})(),isLoading:g?y:N})})})]})})},p=()=>{const{t:e}=(0,r.K)(),a=(0,n.wA)(),{getAllDesignationRes:t,getAllDesignationError:m,getAllDesignationPending:x,deleteDesignationPending:v,deleteDesignationRes:h,deleteDesignationError:p}=(0,n.d4)((e=>e.designation)),[k,f]=(0,i.useState)(""),[N,b]=(0,i.useState)(""),[j,D]=(0,i.useState)(!1),[E,S]=(0,i.useState)(!1),[y,_]=(0,i.useState)(),[A,L]=(0,i.useState)(null===o.X$||void 0===o.X$?void 0:o.X$.page);(0,i.useEffect)((()=>{R()}),[A]);const C=()=>{D(!j)},R=()=>{const e={page:A,limit:null===o.X$||void 0===o.X$?void 0:o.X$.limit};a(d.EU.getAllDesignationRequest(e))};(0,i.useEffect)((()=>{if(!x){if(m)return;t&&200==(null===t||void 0===t?void 0:t.code)&&f(null===t||void 0===t?void 0:t.data)}}),[t,m,x]);return(0,i.useEffect)((()=>{if(!v){if(p)return void a(d.EU.handleClearDesignationStore("HANDLE_CLEAR_DELETE_DESIGNATION_STORE"));var e;if(h)if(200==(null===h||void 0===h?void 0:h.code))a(d.EU.handleClearDesignationStore("HANDLE_CLEAR_DELETE_DESIGNATION_STORE")),A>1&&1===(null===k||void 0===k||null===(e=k.data)||void 0===e?void 0:e.length)?L((e=>e-1)):R()}}),[h,p,v]),(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:" d-flex  justify-content-end ",children:(0,u.jsx)(c.Sv,{classNames:"btn btn-primary gradientBg",handleClick:()=>C(),text:e("btns.createDesignation")})}),(0,u.jsx)(s.A,{designationList:k,isLoading:x,setSelectedDesignation:b,toggleDesignation:C,onHandleDeleteModal:e=>{S(!E),_(e)},currentPage:A,setCurrentPage:L}),(0,u.jsx)(g,{getAllDesignation:R,setSelectedDesignation:b,isOpen:j,toggleDesignation:C,selectedDesignation:N}),E&&(0,u.jsx)(l.A,{onApproveReject:(e,t)=>{if(e){let e={_id:y};a(null===d.EU||void 0===d.EU?void 0:d.EU.deleteDesignationRequest(e))}S(!E)},isShow:E,desc:e("alerts.deletePopup.desc").replace("$1","Designation"),btnRightLoading:v})]})}},91900:(e,a,t)=>{t.d(a,{A:()=>m});var i=t(65043),s=t(92250),n=t(34348),d=t.n(n),l=t(49985),o=t(26362),r=t(90607),c=t(70579);const m=e=>{const{t:a}=(0,r.K)(),{designationList:t,isLoading:n,setSelectedDesignation:m,toggleDesignation:x,onHandleDeleteModal:v,setCurrentPage:h,currentPage:u}=e,[g,p]=(0,i.useState)();(0,i.useEffect)((()=>{p(t)}),[t]);const k=(0,i.useMemo)((()=>({sn:(e,a)=>(0,c.jsx)("span",{children:a+1}),is_active:e=>(0,c.jsx)("span",{className:`badge ${(0,l.XN)(e.is_active?"Active":"Inactive")}`,children:e.is_active?"Active":"Inactive"}),created_at:e=>d()(e.created_at).format("DD-MM-YYYY"),action:e=>(0,c.jsxs)("div",{className:"actionGroup d-flex gap-2",children:[(0,c.jsx)(s.Sv,{text:a("btns.update"),classNames:"btn btn-primary",handleClick:()=>{m(e),x()}}),0===(null===e||void 0===e?void 0:e.emp_count)&&(0,c.jsx)(s.Sv,{text:a("btns.delete"),handleClick:()=>v(e._id),classNames:"btn btn-danger"})]})})),[m,x,v]);return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(o.Ak,{data:null===g||void 0===g?void 0:g.data,fields:[{key:"sn",label:"S.N"},{key:"department_name",label:"Department Name"},{key:"name",label:"Name"},{key:"short_name",label:"Short Name"},{key:"emp_count",label:"Total Employees"},{key:"is_active",label:"Status"},{key:"created_at",label:"Created At"},{key:"action",label:"Action"}],isLoading:n,pagination:!0,currentPage:u,setCurrentPage:h,totalPages:null===g||void 0===g?void 0:g.totalPages,tableName:"Designation",scopedSlots:k})})}},35685:(e,a,t)=>{t.d(a,{A:()=>o});t(65043);var i=t(85248);const s=JSON.parse('{"nm":"history","ddd":0,"h":512,"w":512,"meta":{"g":"@lottiefiles/toolkit-js 0.33.2"},"layers":[{"ty":4,"nm":"big","sr":1,"st":0,"op":300,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[105,168,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[256,256,0],"ix":2},"r":{"a":1,"k":[{"o":{"x":0.333,"y":0},"i":{"x":0,"y":1},"s":[0],"t":0},{"s":[360],"t":90}],"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"hd":false,"mn":"ADBE Vector Group","nm":"Group 1","ix":1,"cix":2,"np":2,"it":[{"ty":"sh","bm":0,"hd":false,"mn":"ADBE Vector Shape - Group","nm":"Path 1","ix":1,"d":1,"ks":{"a":0,"k":{"c":false,"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-21,31.5],[-21,-31.5]]},"ix":2}},{"ty":"st","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Stroke","nm":"Stroke 1","lc":2,"lj":2,"ml":1,"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":42,"ix":5},"c":{"a":0,"k":[0.1137,0.3529,0.498],"ix":3}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[126,136.5],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]}],"ind":1},{"ty":4,"nm":"small","sr":1,"st":0,"op":300,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[126,136.5,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[277,224.5,0],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"hd":false,"mn":"ADBE Vector Group","nm":"Group 1","ix":1,"cix":2,"np":2,"it":[{"ty":"sh","bm":0,"hd":false,"mn":"ADBE Vector Shape - Group","nm":"Path 1","ix":1,"d":1,"ks":{"a":0,"k":{"c":false,"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[21,31.5],[-21,31.5]]},"ix":2}},{"ty":"st","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Stroke","nm":"Stroke 1","lc":2,"lj":2,"ml":1,"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":42,"ix":5},"c":{"a":0,"k":[0.1137,0.3529,0.498],"ix":3}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[126,136.5],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]}],"ind":2},{"ty":4,"nm":"Layer 1 Outlines","sr":1,"st":0,"op":300,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[294,294,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[256,256,0],"ix":2},"r":{"a":1,"k":[{"o":{"x":0.333,"y":0},"i":{"x":0,"y":1},"s":[0],"t":0},{"s":[-360],"t":90}],"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"hd":false,"mn":"ADBE Vector Group","nm":"Group 1","ix":1,"cix":2,"np":2,"it":[{"ty":"sh","bm":0,"hd":false,"mn":"ADBE Vector Shape - Group","nm":"Path 1","ix":1,"d":1,"ks":{"a":0,"k":{"c":false,"i":[[0,0],[-69.916,0],[0,-104.383],[104.383,0],[0,104.383]],"o":[[32.693,-56.438],[104.383,0],[0,104.383],[-104.382,0],[0,0]],"v":[[-163.509,-94.5],[0,-189],[189,0],[0,189],[-189,0]]},"ix":2}},{"ty":"st","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Stroke","nm":"Stroke 1","lc":2,"lj":2,"ml":1,"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":42,"ix":5,"x":"var $bm_rt;\\nvar index, normalStroke;\\nindex = transform.scale[0];\\nnormalStroke = 42;\\n$bm_rt = $bm_div(normalStroke, $bm_div(index, 100));"},"c":{"a":0,"k":[0.1137,0.3529,0.498],"ix":3}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[294,294],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]},{"ty":"gr","bm":0,"hd":false,"mn":"ADBE Vector Group","nm":"Group 2","ix":2,"cix":2,"np":2,"it":[{"ty":"sh","bm":0,"hd":false,"mn":"ADBE Vector Shape - Group","nm":"Path 1","ix":1,"d":1,"ks":{"a":1,"k":[{"o":{"x":0.333,"y":0},"i":{"x":0.833,"y":0.833},"s":[{"c":false,"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-47.25,-47.25],[-47.25,47.25],[47.25,47.25]]}],"t":0},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[{"c":false,"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-50.492,-17.426],[-47.25,47.25],[17.426,44.008]]}],"t":6},{"o":{"x":0.167,"y":0.167},"i":{"x":0.667,"y":1},"s":[{"c":false,"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-50.492,-17.426],[-47.25,47.25],[17.426,44.008]]}],"t":50},{"s":[{"c":false,"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-47.25,-47.25],[-47.25,47.25],[47.25,47.25]]}],"t":90}],"ix":2}},{"ty":"st","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Stroke","nm":"Stroke 1","lc":2,"lj":2,"ml":1,"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":42,"ix":5,"x":"var $bm_rt;\\nvar index, normalStroke;\\nindex = transform.scale[0];\\nnormalStroke = 42;\\n$bm_rt = $bm_div(normalStroke, $bm_div(index, 100));"},"c":{"a":0,"k":[0.1137,0.3529,0.498],"ix":3}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[175.875,152.25],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]}],"ind":3}],"v":"5.7.13","fr":60,"op":211,"ip":0,"assets":[]}');var n=t(92250),d=t(90607),l=t(70579);const o=e=>{let{title:a,desc:t="",onApproveReject:o,isShow:r,btnLeftLoading:c=!1,btnRightLoading:m=!1,btnTextLeft:x,btnTextRight:v}=e;const{t:h}=(0,d.K)();return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"modal fade attendanceViewodal",id:"sureMdl",style:{display:r?"unset !important":"none !important",opacity:r?"unset":"0"},children:(0,l.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:(0,l.jsx)("div",{className:"modal-content rounded-1 border-0",children:(0,l.jsx)("div",{className:"modal-body ",children:(0,l.jsxs)("div",{className:"text-center suremodalCon",children:[(0,l.jsx)("div",{className:"d-flex justify-content-center",children:(0,l.jsx)(i.A,{lottieUrl:s,Lottiestyle:{width:"90px",height:"90px"}})}),(0,l.jsx)("h6",{className:"fw-semibold mb-2",children:a||h("alerts.deletePopup.title")}),(0,l.jsx)("p",{className:"mb-5 px-4 text-center",children:t||""}),(0,l.jsxs)("div",{className:"d-flex justify-content-center gap-3",children:[(0,l.jsx)(n.Sv,{classNames:"btn btn-danger",isLoading:c,text:x||h("btns.reject"),handleClick:()=>o(!1)}),(0,l.jsx)(n.Sv,{classNames:"btn btn-success",isLoading:m,text:v||h("btns.confirm"),handleClick:()=>o(!0)})]})]})})})})}),r&&(0,l.jsx)("div",{className:"modal-backdrop fade show"})]})}}}]);
//# sourceMappingURL=2355.3317c181.chunk.js.map