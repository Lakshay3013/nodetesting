"use strict";(self.webpackChunkglueple_user=self.webpackChunkglueple_user||[]).push([[2282],{42282:(e,i,a)=>{a.r(i),a.d(i,{default:()=>T});var t=a(65043),n=a(85831),s=a(22166),r=a(94174),l=a(52027),d=a(29829),c=a(49985),o=a(86178),v=a.n(o),f=a(90607),m=a(50586),g=a(70579);const u=e=>{const{t:i}=(0,f.K)(),{isLoading:a,setSelectedTrainingCertificateData:n,handleCreateUpdateTrainingCertificateModal:s,handleTrainingCertificateDeleteModal:r,currentPage:l,setCurrentPage:o,allTrainingCertificates:u}=e,[h,C]=(0,t.useState)(""),x=(0,c.Yo)("update_training_certificates"),_=(0,c.Yo)("delete_training_certificates");(0,t.useEffect)((()=>{C(u)}),[u]);const T=(0,t.useMemo)((()=>({sn:(e,i)=>(0,g.jsx)("span",{children:i+1}),is_active:e=>(0,g.jsx)("span",{className:`badge ${(0,c.XN)(e.is_active?"Active":"Inactive")}`,children:e.is_active?"Active":"Inactive"}),is_active:e=>(0,g.jsx)("span",{className:`badge ${(0,c.XN)(e.is_active?"Active":"Inactive")}`,children:e.is_active?"Active":"Inactive"}),created_at:e=>v()(e.created_at).format("DD-MM-YYYY"),action:e=>(0,g.jsxs)("div",{className:"btn-group actionDrp",children:[(0,g.jsx)("button",{type:"button",className:"btn dropdown-toggle-split","data-bs-toggle":"dropdown","aria-expanded":"false",children:(0,g.jsx)("i",{className:"bi bi-three-dots-vertical"})}),(0,g.jsxs)("ul",{className:"dropdown-menu",children:[x&&(0,g.jsx)("li",{children:(0,g.jsxs)("span",{className:"dropdown-item",onClick:()=>{s(e)},children:[(0,g.jsx)(m.In,{className:"bi bi-pencil-square me-1"}),"Update"]})}),_&&(0,g.jsx)("li",{children:(0,g.jsxs)("span",{className:"dropdown-item",onClick:()=>r(e.id),children:[(0,g.jsx)(m.In,{className:"bi bi-trash me-1"}),"Delete"]})})]})]})})),[n,s]),p=[{key:"sn",label:"S.N"},{key:"name",label:"Training Certificates Name"},{key:"short_name",label:"Short Name"},{key:"is_active",label:"Status"},{key:"created_at",label:"Created At"},(x||_)&&{key:"action",label:"Action"}];return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(d.Ak,{data:null===h||void 0===h?void 0:h.data,fields:p,isLoading:a,pagination:!0,currentPage:l,setCurrentPage:o,totalPages:null===h||void 0===h?void 0:h.totalPages,tableName:i("headings.trainingCertificates"),scopedSlots:T})})};var h=a(26181),C=a(80728);const x=e=>{const{t:i}=(0,f.K)(),{addTrainingCertificatePending:a,updateTrainingCertificatePending:r}=(0,s.d4)((e=>null===e||void 0===e?void 0:e.trainingCertificate)),{selectedTrainingCertificateData:l,openModel:d,handleOpenClose:o,handleCreateUpdateTrainingCertificate:v}=e,[u,x]=(0,t.useState)({}),[_,T]=(0,t.useState)({name:"",short_name:"",is_active:!0}),p=(e,i)=>{var a;const t=i||(null===(a=e.target)||void 0===a?void 0:a.name),{value:n,type:s,checked:r}=null!==e&&void 0!==e&&e.target?e.target:{value:e};T((e=>{const i={...e,[t]:"checkbox"===s?r:n};return"name"===t&&(i.short_name=(0,c.aF)(n)),i})),x((e=>({...e,[t]:void 0})))};(0,t.useEffect)((()=>()=>{N()}),[d]),(0,t.useEffect)((()=>{l&&T({name:null===l||void 0===l?void 0:l.name,short_name:null===l||void 0===l?void 0:l.short_name,is_active:null===l||void 0===l?void 0:l.is_active})}),[l]);const N=()=>{T({is_active:!0,name:"",short_name:""}),x({})};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:"offcanvas offcanvas-end  "+(d?"show":""),tabIndex:-1,style:{visibility:d?"visible":"hidden",width:"800px"},id:"interviewDetail",children:[(0,g.jsxs)("div",{className:"offcanvas-header",children:[(0,g.jsxs)("h5",{className:"offcanvas-title  fs-5 fw-bold text-primary",children:[l?"Update":"Add"," Training Certificates"]}),(0,g.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close",onClick:()=>o()})]}),(0,g.jsx)("div",{className:"offcanvas-body myRequest ",children:(0,g.jsxs)("div",{className:"formPanel",children:[(0,g.jsxs)("div",{className:"row",children:[(0,g.jsx)("div",{className:"col-md-3",children:(0,g.jsx)("div",{className:"form-group mb-3",children:(0,g.jsx)(m.JU,{text:i("labels.trainingCertificatesName"),required:!0})})}),(0,g.jsx)("div",{className:"col-md-9",children:(0,g.jsxs)("div",{className:"form-group mb-3",children:[(0,g.jsx)(m.pd,{type:"text",placeholder:i("placeholders.trainingCertificatesName"),value:null===_||void 0===_?void 0:_.name,name:"name",onChange:e=>p(e)}),(null===u||void 0===u?void 0:u.name)&&(0,g.jsx)(n.eo,{text:u.name})]})})]}),(0,g.jsxs)("div",{className:"row",children:[(0,g.jsx)("div",{className:"col-md-3",children:(0,g.jsx)("div",{className:"form-group mb-3",children:(0,g.jsx)(m.JU,{text:i("labels.shortName"),required:!0})})}),(0,g.jsx)("div",{className:"col-md-9",children:(0,g.jsxs)("div",{className:"form-group mb-3",children:[(0,g.jsx)("input",{type:"text",className:"form-control fs-7",name:"short_name",placeholder:i("placeholders.shortName"),value:null===_||void 0===_?void 0:_.short_name,onChange:e=>p(e)}),(null===u||void 0===u?void 0:u.short_name)&&(0,g.jsx)(n.eo,{text:u.short_name})]})})]}),(0,g.jsxs)("div",{className:"row",children:[(0,g.jsx)("div",{className:"col-md-3",children:(0,g.jsx)("div",{className:"form-group mb-3",children:(0,g.jsx)(m.JU,{text:i("labels.isActive"),required:!0})})}),(0,g.jsx)("div",{className:"col-md-9",children:(0,g.jsx)("div",{className:"form-group mb-3",children:(0,g.jsx)(m.P_,{id:"is_active",checked:null===_||void 0===_?void 0:_.is_active,handleChange:e=>p(e),name:"is_active"},"is_active")})})]})]})}),(0,g.jsx)("div",{className:"offcanvas-footer",children:(0,g.jsx)("div",{className:"d-flex align-items-center justify-content-end gap-3",children:(0,g.jsx)(n.Sv,{text:i(l?"btns.update":"btns.submit"),classNames:"btn btn-org-gradient",handleClick:()=>(async()=>{const e=await(0,h.i6)(C.l0,_);if(e.isValid){const{name:e,short_name:i,is_active:a}=_,t={name:e,short_name:i,is_active:a};x({}),v(t)}else x(e.errors)})(),isLoading:l?r:a})})})]}),d&&(0,g.jsx)("div",{className:"modal-backdrop fade show"})]})};var _=a(35685);const T=()=>{const{t:e}=(0,f.K)(),i=(0,s.wA)(),{addTrainingCertificatePending:a,addTrainingCertificateRes:d,addTrainingCertificateError:c,updateTrainingCertificatePending:o,updateTrainingCertificateRes:v,updateTrainingCertificateError:m,deleteTrainingCertificatePending:h,deleteTrainingCertificateRes:C,deleteTrainingCertificateError:T,getAllTrainingCertificatesPending:p,getAllTrainingCertificatesRes:N,getAllTrainingCertificatesError:j}=(0,s.d4)((e=>e.trainingCertificate)),[b,E]=(0,t.useState)(!1),[A,S]=(0,t.useState)(""),[R,I]=(0,t.useState)(1),[D,k]=(0,t.useState)(!1),[y,L]=(0,t.useState)(""),[P,w]=(0,t.useState)(""),U=e=>{S(e||""),E(!b)};(0,t.useEffect)((()=>{if(!a){if(c)return void i(r.oS.handleClearTrainingCertificateStore("HANDLE_CLEAR_ADD_TRAINING_CERTIFICATE_STORE"));d&&200===(null===d||void 0===d?void 0:d.code)&&(i(r.oS.handleClearTrainingCertificateStore("HANDLE_CLEAR_ADD_TRAINING_CERTIFICATE_STORE")),F(),E(!b))}}),[d,c,a]),(0,t.useEffect)((()=>{if(!o){if(m)return void i(r.oS.handleClearTrainingCertificateStore("HANDLE_CLEAR_UPDATE_TRAINING_CERTIFICATE_STORE"));v&&200===(null===v||void 0===v?void 0:v.code)&&(i(r.oS.handleClearTrainingCertificateStore("HANDLE_CLEAR_UPDATE_TRAINING_CERTIFICATE_STORE")),F(),E(!b))}}),[v,m,o]),(0,t.useEffect)((()=>{F()}),[R]);const F=()=>{const e={page:R,limit:l.X$.limit};i(r.oS.getAllTrainingCertificatesRequest(e))};(0,t.useEffect)((()=>{if(!p){if(j)return;N&&200===(null===N||void 0===N?void 0:N.code)&&w(null===N||void 0===N?void 0:N.data)}}),[N,j,p]);return(0,t.useEffect)((()=>{if(!h){if(T)return void i(r.oS.handleClearTrainingCertificateStore("HANDLE_CLEAR_DELETE_TRAINING_CERTIFICATE_STORE"));var e;if(C)if(200===(null===C||void 0===C?void 0:C.code))k(!D),R>1&&1===(null===P||void 0===P||null===(e=P.data)||void 0===e?void 0:e.length)?I((e=>e-1)):F(),i(r.oS.handleClearTrainingCertificateStore("HANDLE_CLEAR_DELETE_TRAINING_CERTIFICATE_STORE"))}}),[C,T,h]),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{className:"d-flex  justify-content-end ",children:(0,g.jsx)(n.Sv,{classNames:"btn btn-primary gradientBg",handleClick:()=>U(),text:e("btns.createTrainingCertificate"),slug:"create_training_certificates"})}),(0,g.jsx)(x,{openModel:b,handleOpenClose:U,handleCreateUpdateTrainingCertificate:e=>{A?(e._id=null===A||void 0===A?void 0:A.id,i(r.oS.updateTrainingCertificateRequest(e))):i(r.oS.addTrainingCertificateRequest(e))},selectedTrainingCertificateData:A}),(0,g.jsx)(u,{setSelectedTrainingCertificateData:S,handleCreateUpdateTrainingCertificateModal:U,currentPage:R,setCurrentPage:I,handleTrainingCertificateDeleteModal:e=>{L(e),k(!D)},allTrainingCertificates:P}),D&&(0,g.jsx)(_.A,{onApproveReject:e=>{if(e){const e={_id:y};i(null===r.oS||void 0===r.oS?void 0:r.oS.deleteTrainingCertificateRequest(e))}else k(!D)},isShow:D,desc:e("alerts.deletePopup.desc").replace("$1","Training Certificate"),btnRightLoading:h,btnTextRight:e("btns.delete"),btnTextLeft:e("btns.cancel")})]})}}}]);
//# sourceMappingURL=2282.46d97a5c.chunk.js.map